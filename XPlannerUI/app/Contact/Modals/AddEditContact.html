<md-dialog aria-label="add_edit_contact" ng-cloak flex-gt-xs="50">
    <md-toolbar layout="row" layout-align="center center">
        {{newContact ? 'Add' : 'Edit'}} {{contact.contact_type | capitalize}} Contact
    </md-toolbar>
    <md-dialog-content layout-padding ng-cloak>
        <md-tabs md-selected="selectedTabIndex" md-dynamic-height class="full-size" md-border-bottom>
            <md-tab ng-if="!hideExistingContacts" label="Existing">
                <section layout="column" ng-cloak class="md-inline-form padding-bottom padding-top">
                    <div class="checkbox-grid" kendo-grid="existingContactsGrid" options="options" k-on-data-bound="dataBound(existingContactsGrid)">
                    </div>
                </section>
            </md-tab>
            <md-tab label="{{ newContact ? 'New' : 'Edit' }}">
                <form name="addEditContactForm" id="addEditContactForm">
                    <section layout-gt-sm="row" layout-align="space-between none">
                        <md-input-container class="md-block" flex-gt-sm="60">
                            <label>Name</label>
                            <input name="name" ng-model="contact.name" maxlength="50" required aw-exists="{{anotherContacts}}" property="name">
                            <div ng-messages="addEditContactForm.name.$error">
                                <div ng-message="required">Name is required</div>
                                <div ng-message="exists">Contact name already exists for this manufacturer</div>
                            </div>
                        </md-input-container>
                        <md-input-container class="md-block" flex-gt-sm="35">
                            <label>Type</label>
                            <input name="type" ng-model="contact.contact_type" disabled>
                        </md-input-container>
                    </section>
                    <section layout-gt-sm="row" layout-align="space-between none">
                        <md-input-container class="md-block" flex-gt-sm="45">
                            <label>Title</label>
                            <input name="title" ng-model="contact.title" maxlength="50">
                        </md-input-container>
                        <md-input-container class="md-block" flex-gt-sm="45">
                            <label>Email</label>
                            <input name="email" type="email" ng-model="contact.email" maxlength="50">
                            <div ng-messages="addEditContactForm.email.$error">
                                <div ng-message="email">Must be a valid email address</div>
                            </div>
                        </md-input-container>
                    </section>
                    <section layout-gt-sm="row" layout-align-gt-sm="space-between none">
                        <md-input-container class="md-block" flex-gt-sm="30">
                            <label>Phone #</label>
                            <input name="phone" ng-model="contact.phone" maxlength="20">
                        </md-input-container>
                        <md-input-container class="md-block" flex-gt-sm="30">
                            <label>Mobile #</label>
                            <input name="mobile" ng-model="contact.mobile" maxlength="20">
                        </md-input-container>
                        <md-input-container class="md-block" flex-gt-sm="30">
                            <label>Fax #</label>
                            <input name="fax" ng-model="contact.fax" maxlength="20">
                        </md-input-container>
                    </section>
                    <md-input-container class="md-block">
                        <label>Address</label>
                        <input name="address" ng-model="contact.address" maxlength="50">
                    </md-input-container>
                    <section layout-gt-sm="row" layout-align-gt-sm="space-between none">
                        <md-input-container class="md-block" flex-gt-sm="30">
                            <label>City</label>
                            <input name="city" ng-model="contact.city" maxlength="25">
                        </md-input-container>
                        <md-input-container class="md-block" flex-gt-sm="30">
                            <label>State</label>
                            <md-select name="state" ng-model="contact.state">
                                <md-option ng-repeat="state in statesList" value="{{state.id}}">
                                    {{state.name}}
                                </md-option>
                            </md-select>
                        </md-input-container>
                        <md-input-container class="md-block" flex-gt-sm="30">
                            <label>Zipcode</label>
                            <input name="zipcode" ng-model="contact.zipcode" maxlength="10" aw-only-numbers>
                            <div ng-messages="addEditContactForm.zipcode.$error">
                                <div ng-message="number">Must have only numbers</div>
                            </div>
                        </md-input-container>
                    </section>
                    <md-input-container class="md-block">
                        <label>Comment</label>
                        <textarea ng-model="contact.comment" name="comment" columns="1" maxlength="1000" md-maxlength="1000" rows="1"></textarea>
                    </md-input-container>
                </form>
            </md-tab>
        </md-tabs>
    </md-dialog-content>
    <md-dialog-actions layout="row">
        <md-button class="md-primary" ng-click="close()">Close</md-button>
        <md-button class="md-primary" ng-click="save()">Save</md-button>
    </md-dialog-actions>
</md-dialog>