<section layout="column" ng-cloak class="md-inline-form padding-left-half padding-right-half padding-top padding-bottom-half" ng-controller="DetailsCtrl">
    <form name="detailsForm" id="detailsForm" novalidate>
        <aw-accordion label="Information" expanded="true">
            <section layout-gt-sm="row" layout-align="space-between start">
                <md-input-container class="md-block" flex-gt-sm="30">
                    <label>Description</label>
                    <input type="text" ng-model="data.description" name="description" required maxlength="50">
                    <div ng-messages="detailsForm.description.$error">
                        <div ng-message="required">Phase description is mandatory</div>
                    </div>
                </md-input-container>
                <md-input-container flex-gt-sm="30">
                    <label>Start Date</label>
                    <md-datepicker ng-model="data.start_date" name="start_date" required></md-datepicker>
                    <div ng-messages="detailsForm.start_date.$error">
                        <div ng-message="valid">The entered value is not a date</div>
                        <div ng-message="required">Start date is required</div>
                    </div>
                </md-input-container>
                <md-input-container flex-gt-sm="30">
                    <label>End Date</label>
                    <md-datepicker ng-model="data.end_date" name="end_date" required md-min-date="data.start_date"></md-datepicker>
                    <div ng-messages="detailsForm.end_date.$error">
                        <div ng-message="valid">The entered value is not a date</div>
                        <div ng-message="required">End date is required</div>
                        <div ng-message="mindate">End date cannot be before start date</div>
                    </div>
                </md-input-container>
            </section>
            <section layout-gt-sm="row" layout-wrap layout-fill layout-align="space-between bottom">
                <md-input-container flex-gt-sm="30">
                    <label>Asset Date</label>
                    <md-datepicker name="equip_move_in_date" ng-model="data.equip_move_in_date"></md-datepicker>
                    <div ng-messages="detailsForm.equip_move_in_date.$error">
                        <div ng-message="valid">The entered value is not a date</div>
                    </div>
                </md-input-container>
                <md-input-container flex-gt-sm="30">
                    <label>Go Live Date</label>
                    <md-datepicker name="occupancy_date" ng-model="data.occupancy_date"></md-datepicker>
                    <div ng-messages="detailsForm.occupancy_date.$error">
                        <div ng-message="valid">The entered value is not a date</div>
                    </div>
                </md-input-container>
                <md-input-container flex-gt-sm="30">
                    <label>OFCI Delivery</label>
                    <md-datepicker name="ofci_delivery" ng-model="data.ofci_delivery"></md-datepicker>
                    <div ng-messages="detailsForm.ofci_delivery.$error">
                        <div ng-message="valid">The entered value is not a date</div>
                    </div>
                </md-input-container>
            </section>
        </aw-accordion>
        <aw-accordion label="More...">
            <section class="padding-top">
                <md-card-content layout-gt-xs="row" layout-align="start center" ng-if="!params.add">
                    <section flex-gt-xs="45">
                        <label><strong>Data Added: </strong></label>
                        <span>{{data.date_added | date:'shortDate'}}</span>
                    </section>
                    <section>
                        <label><strong>Added by: </strong></label>
                        <span>{{data.added_by}}</span>
                    </section>
                </md-card-content>
                <md-input-container class="md-block">
                    <label>Comment</label>
                    <textarea ng-model="data.comment" name="comment" columns="1" md-maxlength="1000"></textarea>
                    <div ng-messages="!detailsForm.comment.$valid && detailsForm.comment.$error" role="alert">
                        <div ng-message="md-maxlength" class="my-message">
                            Only 1000 characters are allowed!
                        </div>
                    </div>
                </md-input-container>
            </section>
        </aw-accordion>
        <aw-accordion label="Departments" ng-if="!params.add">
            <section layout="column" ng-cloak class="md-inline-form level-below-grid" ng-controller="LevelBelowListCtrl">
                <div class="checkbox-grid" kendo-grid="itemsGrid" options="options" k-on-data-bound="dataBound(itemsGrid)">
                </div>
            </section>
        </aw-accordion>
        <!--<aw-accordion label="Documents" class="padding-bottom" ng-if="!params.add">
            <ng-include src="'app/Projects/Documents/DocumentsTab.html'"></ng-include>
        </aw-accordion>-->
    </form>
    <!-- FAB button -->
    <div class="lock-size fixed-element" layout="row" layout-align="center center" ng-cloak ng-if="isNotViewer">
        <md-fab-speed-dial md-open="buttons.state" md-direction="up"
                           class="md-fling">
            <md-fab-trigger>
                <md-button aria-label="menu" class="md-fab md-accent">
                    <md-icon md-svg-src="{{buttons.state ? 'close' : 'menu'}}"></md-icon>
                </md-button>
            </md-fab-trigger>
            <md-fab-actions>
                <div ng-repeat="button in (params.add ? buttons.phase.add : buttons.phase.edit)">
                    <md-button aria-label="{{button.label}}" class="md-fab md-mini"
                               ng-click="button.click('Phase')">
                        <md-tooltip md-direction="left" md-visible="false"
                                    md-autohide="true">
                            {{button.label}}
                        </md-tooltip>
                        <md-icon md-svg-src="{{button.icon}}" aria-label="{{button.label}}"></md-icon>
                    </md-button>
                </div>
            </md-fab-actions>
        </md-fab-speed-dial>
    </div>
</section>