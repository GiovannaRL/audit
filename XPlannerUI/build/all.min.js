"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(r,t){if(null==r)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(r),e=1;e<arguments.length;e++){var n=arguments[e];if(null!=n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o[i]=n[i])}return o},writable:!0,configurable:!0}),Function.prototype.bind||(Function.prototype.bind=function(r){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");function t(){return e.apply(this instanceof n&&r?this:r,o.concat(Array.prototype.slice.call(arguments)))}var o=Array.prototype.slice.call(arguments,1),e=this,n=function(){};return n.prototype=this.prototype,t.prototype=new n,t}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(r,t){var o,e,t=t||0;if(!this)throw new TypeError;if(!(0===(e=this.length)||e<=t))for(o=t=t<0?e-Math.abs(t):t;o<e;o++)if(this[o]===r)return o;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(r){if(null==this)throw new TypeError;var t,o,e=Object(this),n=e.length>>>0;if(0!=n)for(t=n,1<arguments.length&&((t=Number(arguments[1]))!=t?t=0:0!=t&&t!=1/0&&t!=-1/0&&(t=(0<t||-1)*Math.floor(Math.abs(t)))),o=0<=t?Math.min(t,n-1):n-Math.abs(t);0<=o;o--)if(o in e&&e[o]===r)return o;return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(r,t){for(var o=0,e=this.length;o<e;++o)o in this&&r.call(t,this[o],o,this)}),Array.prototype.map||(Array.prototype.map=function(r,t){var o,e,n;if(null==this)throw new TypeError(" this is null or not defined");var i,p=Object(this),f=p.length>>>0;if("function"!=typeof r)throw new TypeError(r+" is not a function");for(1<arguments.length&&(o=t),e=new Array(f),n=0;n<f;)n in p&&(i=p[n],i=r.call(o,i,n,p),e[n]=i),n++;return e}),Array.prototype.filter||(Array.prototype.filter=function(r){if(null==this)throw new TypeError;var t=Object(this),o=t.length>>>0;if("function"!=typeof r)throw new TypeError;for(var e,n=[],i=arguments[1],p=0;p<o;p++)p in t&&(e=t[p],r.call(i,e,p,t))&&n.push(e);return n}),Array.prototype.every||(Array.prototype.every=function(r){var t,o,e,n;if(null==this)throw new TypeError;if(o=(t=Object(this)).length>>>0,"function"!=typeof r)throw new TypeError;for(n=arguments[1],e=0;e<o;e++)if(e in t&&!r.call(n,t[e],e,t))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(r){if(null==this)throw new TypeError;var t,o,e=Object(this),n=e.length>>>0;if("function"!=typeof r)throw new TypeError;for(t=arguments[1],o=0;o<n;o++)if(o in e&&r.call(t,e[o],o,e))return!0;return!1}),Array.prototype.removeIf||(Array.prototype.removeIf=function(r){for(var t=this.length;t--;)r(this[t],t)&&this.splice(t,1)}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(r){if(null==this)throw new TypeError('"this" is null or not defined');var t=Object(this),o=t.length>>>0;if("function"!=typeof r)throw new TypeError("predicate must be a function");for(var e=arguments[1],n=0;n<o;){var i=t[n];if(r.call(e,i,n,t))return i;n++}}});
var xPlanner=angular.module("xPlanner",["ui.router","kendo.directives","ngResource","LocalStorageModule","ngMaterial","ngMessages","ng-mfb","md.data.table","ngAnimate","angular-oauth2","toastr","kendo.directives","ngProgress","ngFileUpload","ngMenuSidenav","mdSteppers","angular-click-outside","powerbi","ngSanitize"]).constant("_",window._);
xPlanner.controller("XPlannerController",["$scope","$state","$mdSidenav","AuthService","$mdMedia","DialogService","ThemeService","WebApiService","$timeout","UtilsService",function(o,n,a,s,e,t,i,l,r,c){function g(){o.enterprise=s.getLoggedDomainName()}function m(e){n.go(e.state,e.params,{reload:!0}),a("left").toggle(),p()}function u(e){a("left").toggle().then(function(){p(),t.openModal(e.template,e.ctrl,null,!0)})}function d(e){o.theme=e,i.setTheme(e)}function f(){function e(){s.removeToken(),s.clearLocalStorage(),n.go("login"),o.showEnterprises=!1}l.genericController.save({controller:"account",action:"logout"},null,e,e)}function p(){o.itemsMenu=[{title:"Home",icon:"home",toggle:!1,visible:!0,onclick:m,params:{state:"index"}},{title:"Projects",icon:"projects",toggle:!1,visible:!s.isManufacturerDomain(),onclick:m,params:{state:"index"}},{title:"Assets Catalog",icon:"assets",toggle:!1,visible:!s.isViewer()||s.isManufacturerDomain(),onclick:m,params:{state:"assetsWorkspace.assets"}},{title:"Room Templates",icon:"room_templates",toggle:!1,visible:!s.isViewer()&&!s.isManufacturerDomain(),onclick:m,params:{state:"room-templates"}},{title:"Administration",icon:"admin",toggle:!0,visible:s.isAdmin(),subItems:[{title:"User Management",icon:"user_management",visible:!0,onclick:m,params:{state:"users"}},{title:"Audit",icon:"audit",visible:!0,onclick:m,params:{state:"audit"}},{title:"Enterprise Management",icon:"enterprise",toggle:!1,visible:s.isAudaxwareDomainAndEmail(),onclick:m,params:{state:"domains"}},{title:"Asset Code",icon:"code",toggle:!1,visible:s.isAudaxwareDomainAndEmail(),onclick:m,params:{state:"assetCode"}}]},{title:"Site Theme",icon:"themes",toggle:!0,visible:!0,subItems:[{title:"Cyan",onclick:d,params:"cyan",visible:!0},{title:"Green",onclick:d,params:"green",visible:!0},{title:"Grey",onclick:d,params:"grey",visible:!0},{title:"Indigo",onclick:d,params:"indigo",visible:!0},{title:"Red",onclick:d,params:"red",visible:!0}]},{title:"Contact Us",icon:"contact_us",toggle:!1,visible:!0,onclick:u,params:{ctrl:"ContactUsCtrl",template:"app/Contact Us/Modals/ContactUs.html"}},{title:"Logout",icon:"logout",toggle:!1,visible:!0,onclick:f}]}function h(){var t,e;s.getLoggedDomain()&&(o.userDomains||(o.userDomains=s.getAvailableDomains(),o.userDomains)?(t=s.getLoggedDomain(),(e=o.userDomains.find(function(e){return t==e.domain_id}))||f(),o.changeDomain(e)):f())}o.theme=i.getTheme(),o.current_year=(new Date).getFullYear(),o.auth=s.isAuthenticated,o.mobileMedia=!e("gt-xs"),g(),o.changePassword=function(){t.openModal("app/Security/Change Password/ChangePassword.html","ChangePasswordCtrl",null,!0)},o.thirdParty=function(){o.showEnterprises=!1,t.openModal("app/Utils/Modals/ThirdPartyCopyright.html","ThirdPartyCopyrightCtrl",null,!0)},o.toggleEnterprises=function(e){o.showEnterprises||(o.userDomains=s.getAvailableDomains()),o.showEnterprises=!o.showEnterprises},s.isAuthenticated()&&l.genericController.query({controller:"domains",action:"Available"},function(e){s.setAvailableDomains(0<e.length?e:null),e instanceof Array&&0!=e.length||f()},f),o.$watch(function(){return s.getLoggedUserType()},function(e){p()}),o.changeDomain=function(t,i){l.genericController.update({controller:"account",action:"ChangeLoggedDomain"},t,function(){var e;i&&(e=s.getLoggedUserEmail(),s.clearLocalStorage(),s.setLoggedUserEmail(e),s.setAvailableDomains(o.userDomains),s.setLoggedDomain(t),o.enterprise=t.name,o.showEnterprises=!1,p(),a("left").close(),n.go("index",null,{reload:!0}),c.ShowExpiratedPOs())})},o.userDomains||h(),o.toogleLeft=function(){a("left").toggle()},o.toggleMenuItem=function(i){o.itemsMenu.map(function(e,t){return e.open=i==t&&!e.open,e})},o.logoff=f,o.messages=[];var v=!0;!function t(){s.isAuthenticated()&&0<s.getLoggedDomain()?l.genericController.query({controller:"Notification",action:"All",domain_id:s.getLoggedDomain()},function(e){v&&0<e.length?o.messages=o.messages.concat(e.filter(function(t){return!o.messages.find(function(e){return e.id==t.id})})):v&&(o.messages=[]),r(t,1e4)},function(e){401===e.status&&h(),console.log("error to get notifications"),r(t,1e4)}):r(t,1e4)}(),o.toggleNotifications=function(e){e&&!o.showNotifications||(!o.showNotifications&&0<o.messages.length?(v=!(o.showNotifications=!0),o.noNotifications=!1):o.showNotifications?(v=o.showNotifications=!1,l.genericController.save({controller:"Notification",action:"Read",domain_id:s.getLoggedDomain()},o.messages.map(function(e){if(-1!=e.id)return e.id}),function(){o.messages=[],v=!0,o.noNotifications=!1},function(){console.log("Error to set notifications as read")})):(v=!(o.showNotifications=!0),o.noNotifications=!0,o.messages=[{id:-1,message:"No notifications"}]))},o.$on("logged",function(e,t){g()})}]);
xPlanner.run(["$rootScope","$location","AuthService",function(o,c,u){o.$on("oauth:error",function(o,e){}),o.$on("$stateChangeError",function(o,e,n,t,r,a){o.preventDefault(),"UNAUTHENTICATED"==a?(u.clearLocalStorage(),u.removeToken(),c.path("/login")):"FORBIDDEN"==a?c.path("/"):"FORBIDDEN_MANUFACTURER"==a&&c.path("/workspace/assets")})}]);
angular.module("xPlanner").run(["$templateCache",function(n){n.put("app/Assets/AssetDetails.html",'<md-tabs md-border-bottom md-selected="selectedTab" md-dynamic-height>\r\n    <md-tab label="Information">\r\n        <section ng-cloak class="padding-top-half padding-bottom">\r\n            <form name="detailsForm" id="detailsForm">\r\n                <aw-accordion label="Information" expanded="true" layout="column" layout-wrap layout-fill>\r\n                    <section layout="column" layout-align="none end" layout-wrap layout-fill ng-if="asset.related_asset || asset.isCustom">\r\n                        <md-button class="md-primary" ng-if="asset.related_asset" ng-click="changeAsset(asset.related_asset)">Click here to see your custom version</md-button>\r\n                        <md-button class="md-primary" ng-if="asset.isCustom" ng-click="showDifferences()">Click here to see differences from original asset</md-button>\r\n                    </section>\r\n                    <section layout-gt-sm="row" layout-align-gt-sm="space-between bottom" class="md-block">\r\n                        <md-input-container class="md-block" flex-sm="25" flex-gt-sm="25" flex-order-sm="3">\r\n                            <label>Category</label>\r\n                            <md-select name="category" ng-model="asset.categorySelected" required ng-change="reloadSubategories()">\r\n                                <md-option ng-repeat="cat in categories | orderBy : \'description\'" ng-value="cat">\r\n                                    {{cat.description}}\r\n                                </md-option>\r\n                            </md-select>\r\n                            <div ng-messages="detailsForm.category.$error">\r\n                                <div ng-message="required">Category is required</div>\r\n                            </div>\r\n                        </md-input-container>\r\n                        \x3c!--<md-input-container class="md-block" flex-sm="45" flex-gt-sm="25" flex-order-sm="3">\r\n                            <aw-combo-box name="category" ng-model="asset.categorySelected" controller-name="categories" params="controllerParams" text-property="description" id-property="category_id" selected-item="asset.categorySelected" selected-domain="asset.categorySelected.domain_id" selected-id="asset.categorySelected.category_id" domain-property="domain_id" label="Category *" watch-object="true" watched-object-id="asset.asset_id" required></aw-combo-box>\r\n                            <div ng-messages="detailsForm.category.$error">\r\n                                <div ng-message="required">Category is required</div>\r\n                            </div>\r\n                        </md-input-container>--\x3e\r\n                        <md-input-container class="md-block" flex-sm="25" flex-gt-sm="25" flex-order-sm="4">\r\n                            <label>Subcategory</label>\r\n                            <md-select name="subcategory" ng-model="asset.assets_subcategory" required>\r\n                                <md-option ng-repeat="sub in subcategories | orderBy : \'description\'" ng-value="sub">\r\n                                    {{sub.description}}\r\n                                </md-option>\r\n                            </md-select>\r\n                            <div ng-messages="detailsForm.subcategory.$error">\r\n                                <div ng-message="required">Subcategory is required</div>\r\n                            </div>\r\n                        </md-input-container>\r\n                        \x3c!--<section layout-gt-xs="row" flex-gt-sm="60" layout-align-gt-sm="space-between none" layout-align-sm="space-between none">--\x3e\r\n                        <md-input-container class="md-block" flex-gt-xs="35">\r\n                            <label>Suffix</label>\r\n                            <input name="description" ng-model="asset.asset_suffix" />\r\n                        </md-input-container>\r\n\r\n                        \x3c!--</section>--\x3e\r\n                        \x3c!--<section layout-gt-xs="row" flex-gt-sm="35" layout-align-gt-sm="space-between none" layout-align-sm="space-between none" layout-wrap layout-fill>--\x3e\r\n                        <section flex-gt-xs="10"\r\n                                 aw-combo-box\r\n                                 ng-model="asset.default_resp"\r\n                                 name="resp"\r\n                                 form="detailsForm"\r\n                                 controller-name="responsability"\r\n                                 params="controllerParams"\r\n                                 text-property="name"\r\n                                 id-property="name"\r\n                                 selected-id="asset.default_resp"\r\n                                 label="Responsibility"\r\n                                 no-domain-property\r\n                                 watch-object="true"\r\n                                 watched-object-id="asset.asset_id"\r\n                                 order-by="domain_id"\r\n                                 required></section>\r\n                        \x3c!--<md-input-container class="md-block" flex-gt-xs="45">\r\n                            <aw-combo-box ng-model="asset.default_resp" name="resp" controller-name="responsability" text-property="name" id-property="name" selected-id="asset.default_resp" no-domain-property label="Resp" watch-object="true" watched-object-id="asset.asset_id"></aw-combo-box>\r\n                        </md-input-container>--\x3e\r\n                        \x3c!--</section>--\x3e\r\n                    </section>\r\n                    <section layout-gt-xs="row" layout-align-gt-sm="space-between bottom">\r\n                        \x3c!--<section layout="row">--\x3e\r\n                        <md-input-container class="md-block" flex-gt-xs="10">\r\n                            <label>Code</label>\r\n                            <input name="code" ng-model="asset.asset_code" disabled />\r\n\r\n                        </md-input-container>\r\n                        <md-input-container class="md-block" flex-gt-xs="3" style="margin-left: -37px; margin-right:-26px">\r\n                            <button class="md-icon-button md-button" style="color: black;" ng-click="editAssetCode()" ng-show="asset.domain_id == loggedDomain">\r\n                                <i class="material-icons">edit</i><div class="md-ripple-container"></div>\r\n                                <md-tooltip md-direction="bottom">Edit asset code</md-tooltip>\r\n                            </button>\r\n                        </md-input-container>\r\n                        \x3c!--</section>--\x3e\r\n                        <md-input-container class="md-block" flex-sm="35" flex-gt-sm="25" flex-order-sm="1">\r\n                            <aw-autocomplete name="manufacturer" ng-model="asset.manufacturer" add-option="!isManufacturerDomain" id-property="manufacturer_id" text-property="manufacturer_description" controller-name="manufacturer" params="controllerParams" max="100" selected-item="asset.manufacturer" selected-id="asset.manufacturer_id" label="Manufacturer *" watch-object="true" watched-object-id="asset.asset_id" required></aw-autocomplete>\r\n                            <div ng-messages="detailsForm.manufacturer.$error">\r\n                                <div ng-message="required">Manufacturer is required</div>\r\n                            </div>\r\n                        </md-input-container>\r\n                        <md-input-container class="md-block" flex-gt-xs="20">\r\n                            <label>Model Number</label>\r\n                            <input name="model_number" ng-model="asset.serial_number">\r\n                        </md-input-container>\r\n                        <md-input-container class="md-block" flex-gt-xs="20">\r\n                            <label>Model Name</label>\r\n                            <input name="model_name" ng-model="asset.serial_name">\r\n                        </md-input-container>\r\n                        <md-input-container class="md-block" flex-sm="10" flex-gt-sm="15" flex-order-sm="2">\r\n                            <label>Placement</label>\r\n                            <md-select name="placement" ng-model="asset.placement">\r\n                                <md-option ng-repeat="placement in placementList" ng-value="placement.value">\r\n                                    {{placement.name}}\r\n                                </md-option>\r\n                            </md-select>\r\n                        </md-input-container>\r\n                    </section>\r\n                    <section layout-gt-sm="row" layout-align-gt-sm="space-between bottom" class="md-block">\r\n                        \x3c!--<section layout-gt-xs="row" flex-gt-sm="50" layout-align-gt-sm="space-between none" layout-align-sm="space-between none">--\x3e\r\n\r\n                        <md-input-container class="md-block" flex-gt-xs="20">\r\n                            <label>Useful Life(yrs)</label>\r\n                            <input name="useful_life" ng-model="asset.useful_life" aw-only-numbers />\r\n                            <div ng-messages="detailsForm.useful_life.$error">\r\n                                <div ng-message="number">Must be number</div>\r\n                            </div>\r\n                        </md-input-container>\r\n                        \x3c!--</section>--\x3e\r\n                        <md-input-container class="md-block" flex-gt-sm="75">\r\n                            <label>Comment</label>\r\n                            <textarea ng-model="asset.comment" name="comment" md-maxlength="1000" rows="1" columns="1"></textarea>\r\n                            <div ng-messages="detailsForm.comment.$error" role="alert">\r\n                                <div ng-message="md-maxlength">Only 1000 characters are allowed</div>\r\n                            </div>\r\n                        </md-input-container>\r\n                    </section>\r\n                    <section layout-gt-sm="row">\r\n                        <section flex-gt-sm="60" layout-gt-xs="row" layout-align-sm="space-around none" layout-align-gt-sm="space-around none" class="md-block">\r\n                            <md-input-container class="md-block" flex-gt-xs="30">\r\n                                <label>Min $</label>\r\n                                <input name="min_cost" ng-model="asset.min_cost" aw-currency-model aw-currency />\r\n                                <div ng-messages="detailsForm.min_cost.$error">\r\n                                    <div ng-message="currency">Must be a valid currency value</div>\r\n                                </div>\r\n                            </md-input-container>\r\n                            <md-input-container class="md-block" flex-gt-xs="30">\r\n                                <label>Max $</label>\r\n                                <input name="max_cost" ng-model="asset.max_cost" aw-currency-model aw-currency />\r\n                                <div ng-messages="detailsForm.max_cost.$error">\r\n                                    <div ng-message="currency">Must be a valid currency value</div>\r\n                                </div>\r\n                            </md-input-container>\r\n                            <md-input-container class="md-block" flex-gt-xs="30">\r\n                                <label>Avg/Last $</label>\r\n                                <input name="avg_last" ng-model="asset.avg_last_cost" disabled />\r\n                            </md-input-container>\r\n                        </section>\r\n                        <section flex-gt-sm="40" layout-gt-xs="row" layout-align-sm="space-around none" layout-align-gt-sm="space-around none" class="md-block">\r\n                            <section flex-gt-xs="40"\r\n                                     aw-combo-box\r\n                                     name="measure"\r\n                                     form="detailsForm"\r\n                                     ng-model="eq_measurement_id"\r\n                                     controller-name="assetMeasurement"\r\n                                     params="controllerParams"\r\n                                     text-property="eq_unit_desc"\r\n                                     id-property="eq_unit_measure_id"\r\n                                     selected-id="asset.eq_measurement_id"\r\n                                     label="Unit of Measure"\r\n                                     watch-object="true"\r\n                                     watched-object-id="asset.asset_id"\r\n                                     required></section>\r\n                            \x3c!--<md-input-container class="md-block" flex-gt-xs="40">\r\n                                <aw-combo-box name="measure" ng-model="eq_measurement_id" controller-name="assetMeasurement" params="controllerParams" text-property="eq_unit_desc" id-property="eq_unit_measure_id" selected-id="asset.eq_measurement_id" label="Unit of Measure *" watch-object="true" watched-object-id="asset.asset_id" required></aw-combo-box>\r\n                                <div ng-messages="detailsForm.measure.$error">\r\n                                    <div ng-message="required">Unit of measure is required</div>\r\n                                </div>\r\n                            </md-input-container>--\x3e\r\n                            <md-input-container class="md-block" flex-gt-xs="40">\r\n                                <label>Last Budget Update</label>\r\n                                <input name="last_budget" ng-model="asset.last_budget_update" disabled aw-date-formatter />\r\n                            </md-input-container>\r\n                        </section>\r\n                    </section>\r\n                    <section layout-gt-sm="row" style="padding-left: 15px;margin-top:-20px">\r\n                        \x3c!--<section flex-gt-sm="60" layout-gt-xs="row" layout-align-sm="space-around none" layout-align-gt-sm="space-around none" class="md-block">--\x3e\r\n                        <md-input-container class="md-block" flex-gt-xs="15">\r\n                            <md-checkbox ng-model="asset.discontinued" aria-label="discontinued" style="margin-top: 7px;" ng-change="toggleDiscontinued()">\r\n                                Discontinued\r\n                            </md-checkbox>\r\n                        </md-input-container>\r\n                        <md-input-container class="md-block" flex-gt-sm="15" flex-gt-xs="25">\r\n                            <label ng-if="asset.discontinued">Alternate Asset</label>\r\n                            <md-select ng-model="asset.alternate_asset" ng-if="asset.discontinued" aria-label="discontinued">\r\n                                <md-option ng-repeat="altAsset in alternate_assets" ng-value="altAsset.asset_id">\r\n                                    {{altAsset.asset_code}}\r\n                                </md-option>\r\n                            </md-select>\r\n\r\n                        </md-input-container>\r\n\r\n                        \x3c!--</section>--\x3e\r\n                    </section>\r\n                </aw-accordion>\r\n                <aw-accordion label="Attributes">\r\n                    <aw-Asset-Settings-Grid asset="asset" required-settings="requiredSettings" updated-jsn-data="updatejsn"></aw-Asset-Settings-Grid>\r\n                </aw-accordion>\r\n                <aw-accordion label="Vendors">\r\n                    <section layout="column" ng-cloak class="md-inline-form padding-bottom" ng-controller="AssetVendorGridCtrl">\r\n                        <section layout="row" ng-if="!asset.related_asset" class="grid-toolbar">\r\n                            <section layout="row" layout-align="start center" flex="100" class="gray-color">\r\n                                <button class="md-icon-button md-button" style="color: black;" ng-click="addEdit()">\r\n                                    <i class="material-icons">add</i><div class="md-ripple-container"></div>\r\n                                    <md-tooltip md-direction="bottom">Add Vendor</md-tooltip>\r\n                                </button>\r\n                                <button class="md-icon-button md-button" ng-click="addEdit(true)">\r\n                                    <i class="material-icons">edit</i><div class="md-ripple-container"></div>\r\n                                    <md-tooltip md-direction="bottom">Edit Vendor</md-tooltip>\r\n                                </button>\r\n                                <button class="md-icon-button md-button" ng-click="delete()">\r\n                                    <i class="material-icons">delete</i><div class="md-ripple-container"></div>\r\n                                    <md-tooltip md-direction="bottom">Delete Vendor</md-tooltip>\r\n                                </button>\r\n                                \x3c!--<button class="md-icon-button md-button" ng-click="add()">\r\n                                    <md-icon class="material-icons md-accent">add_circle</md-icon><div class="md-ripple-container"></div>\r\n                                    <md-tooltip md-direction="bottom">Add New Vendor</md-tooltip>\r\n                                </button>--\x3e\r\n                            </section>\r\n                        </section>\r\n                        <div class="checkbox-grid primary-color-header" kendo-grid="assetVendorGrid" id="asset-vendors-grid" options="options" k-on-data-bound="dataBound(assetVendorGrid)" class="primary-color-header">\r\n                        </div>\r\n                    </section>\r\n                </aw-accordion>\r\n                <aw-accordion label="Options">\r\n                    <section layout="column" ng-cloak class="md-inline-form" ng-controller="AssetOptionGridCtrl">\r\n                        <div class="checkbox-grid" id="asset-options-grid" kendo-grid="assetOptionGrid" options="options" k-on-data-bound="dataBound(assetOptionGrid)">\r\n                        </div>\r\n                    </section>\r\n                </aw-accordion>\r\n            </form>\r\n            <aw-accordion label="Downloads">\r\n                <section layout-wrap>\r\n                    <md-list layout-gt-xs="row" layout-align="space-around center">\r\n                        <section layout="row" layout-align="space-between" flex-gt-xs="45">\r\n                            <md-list-item flex="45">\r\n                                <div>\r\n                                    <md-button class="md-primary" aria-label="cutsheet" ng-click="downloadFile(asset.asset_id, asset.domain_id, \'fullcutsheet\')">\r\n                                        <a>Cutsheet</a>\r\n                                    </md-button>\r\n                                </div>\r\n                            </md-list-item>\r\n                            <md-list-item flex="45">\r\n                                <div>\r\n                                    <md-button class="md-primary" aria-label="photo" ng-click="downloadFile(asset.photo, asset.domain_id, \'photo\')" ng-disabled="!asset.photo">\r\n                                        <a>Photo</a>\r\n                                    </md-button>\r\n                                </div>\r\n                                <div ng-if="asset.photo" ng-mouseover="showPopover()" ng-mouseleave="hidePopover()">\r\n                                    <i class="material-icons">visibility</i><div class="md-ripple-container"></div>\r\n                                </div>\r\n                                <div class="image_popover" ng-show="popoverIsVisible">\r\n                                    <img ng-src="{{downloadPhoto(asset.photo, asset.domain_id)}}" style="width:110px;border:groove" title="no picture">\r\n                                </div>\r\n                            </md-list-item>\r\n                        </section>\r\n                        <section layout="row" layout-align="space-between" flex-gt-xs="45">\r\n                            <md-list-item flex="45">\r\n                                <div>\r\n                                    <md-button class="md-primary" aria-label="cadblock" ng-click="downloadFile(asset.cad_block, asset.domain_id, \'cadblock\')" ng-disabled="!asset.cad_block">\r\n                                        <a>CAD Block</a>\r\n                                    </md-button>\r\n                                </div>\r\n                            </md-list-item>\r\n                            <md-list-item flex="45">\r\n                                <div>\r\n                                    <md-button class="md-primary" aria-label="revit" ng-click="downloadFile(asset.revit, asset.domain_id, \'revit\')" ng-disabled="!asset.revit">\r\n                                        <a>Revit</a>\r\n                                    </md-button>\r\n                                </div>\r\n                            </md-list-item>\r\n                        </section>\r\n                    </md-list>\r\n                </section>\r\n            </aw-accordion>\r\n            <aw-accordion label="Government Information" expanded="false" layout="column" layout-wrap layout-fill>\r\n                <aw-jsn-form asset="asset"></aw-jsn-form>\r\n                <section flex-gt-sm="70" layout="row" class="md-block">\r\n                    <md-input-container class="md-block" flex-gt-xs="30">\r\n                        <label>Class</label>\r\n                        <md-select name="class" ng-model="asset.class">\r\n                            <md-option ng-repeat="c in classes" ng-value="c.id">\r\n                                {{c.name}}\r\n                            </md-option>\r\n                        </md-select>\r\n                    </md-input-container>\r\n                </section>\r\n            </aw-accordion>\r\n            \x3c!-- FAB Button --\x3e\r\n            <div class="lock-size" layout="row" layout-align="center center" ng-cloak>\r\n                <md-fab-speed-dial md-open="buttons.state" md-direction="up" class="md-fling">\r\n                    <md-fab-trigger>\r\n                        <md-button aria-label="menu" class="md-fab md-accent">\r\n                            <md-icon md-svg-src="{{buttons.state ? \'close\' : \'menu\'}}"></md-icon>\r\n                        </md-button>\r\n                    </md-fab-trigger>\r\n                    <md-fab-actions>\r\n                        <div ng-repeat="button in buttons" ng-if="button.condition && (button.justAudaxware ? loggedDomain === 1 || asset.domain_id === loggedDomain : !asset.related_asset)">\r\n                            <md-button aria-label="{{button.label}}" class="md-fab md-mini"\r\n                                       ng-click="button.click()">\r\n                                <md-tooltip md-direction="left" md-visible="tooltipVisible"\r\n                                            md-autohide="false">\r\n                                    {{button.label}}\r\n                                </md-tooltip>\r\n                                <md-icon md-svg-src="{{button.icon}}" aria-label="{{button.label}}"></md-icon>\r\n                            </md-button>\r\n                        </div>\r\n                    </md-fab-actions>\r\n                </md-fab-speed-dial>\r\n            </div>\r\n        </section>\r\n    </md-tab>\r\n    <md-tab ng-if="!isManufacturerDomain" label="Used in Projects" layout-fill>\r\n        <section layout="column" ng-cloak class="md-inline-form padding-bottom padding-top">\r\n            <div class="k-grid" kendo-grid="projectsGrid" options="options" k-on-data-bound="dataBound()"></div>\r\n        </section>\r\n    </md-tab>\r\n</md-tabs>\r\n'),n.put("app/Assets/AssetsList.html",'<section layout="column" ng-cloak class="md-inline-form padding-top">\r\n    <section layout="row" class="grid-toolbar" ng-show="showViewsOptions" ng-cloak>\r\n        <section layout-gt-xs="row" flex="90" flex-offset="5">\r\n            <section layout="row" layout-align="center center" flex-gt-xs="50" flex-offset-gt-xs="5" ng-cloack>\r\n                <md-input-container class="md-block" flex-xs="80" style="margin: 0px;">\r\n                    <md-select ng-model="viewSelected" placeholder="Select a view">\r\n                        <md-option ng-value="opt" ng-repeat="opt in views" ng-click="loadView(opt)">{{ opt.name | capitalize }}</md-option>\r\n                    </md-select>\r\n                </md-input-container>\r\n                <button class="md-icon-button md-button" ng-click="deleteView(viewSelected)">\r\n                    <i class="material-icons">delete</i>\r\n                    <md-tooltip md-direction="bottom">Delete View</md-tooltip>\r\n                </button>\r\n            </section>\r\n            <section layout="row" layout-align="center center" flex-gt-xs="50" flex-offset-gt-xs="5" ng-cloack>\r\n                <md-input-container class="md-block no-md-errors-spacer" style="margin: 0px;">\r\n                    <label>Save As</label>\r\n                    <input type="text" name="name" ng-model="viewName">\r\n                </md-input-container>\r\n                <button class="md-icon-button md-button" ng-click="saveView(viewName)">\r\n                    <i class="material-icons">save</i>\r\n                    <md-tooltip md-direction="bottom">Save view</md-tooltip>\r\n                </button>\r\n            </section>\r\n        </section>\r\n        <section layout="row" layout-align="end center" flex="10">\r\n            <button class="md-icon-button md-button gray-color" ng-click="closeToolbars()">\r\n                <i class="material-icons">close</i>\r\n                <md-tooltip md-direction="bottom">Close</md-tooltip>\r\n            </button>\r\n        </section>\r\n    </section>\r\n\r\n    <section layout="row" class="grid-toolbar" ng-cloak ng-hide="showViewsOptions">\r\n        <section layout="row" layout-align="start center" flex="10">\r\n            <button class="md-icon-button md-button" style="color: black;" ng-click="openAddModal()">\r\n                <i class="material-icons">add</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Add Asset</md-tooltip>\r\n            </button>\r\n            <button class="md-icon-button md-button" style="color: black;" ng-click="showDetails()">\r\n                <i class="material-icons">edit</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Edit asset</md-tooltip>\r\n            </button>\r\n            <button class="md-icon-button md-button" style="color: black;" ng-click="delete()">\r\n                <i class="material-icons">delete</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Delete Asset(s)</md-tooltip>\r\n            </button>\r\n            <button class="md-icon-button md-button" ng-click="chooseDisplayedColumns()">\r\n                <i class="material-icons">grid_on</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Select fields to display/hide</md-tooltip>\r\n            </button>\r\n        </section>\r\n        <section layout="row" layout-align="center center" flex="30" layout-fill layout-wrap>\r\n            <md-input-container class="md-block no-md-errors-spacer" style="margin: 0px;">\r\n                <md-select ng-model="viewSelected" placeholder="Select a view">\r\n                    <md-option ng-value="opt" ng-repeat="opt in views" ng-click="loadView(opt)">{{ opt.name | capitalize }}</md-option>\r\n                </md-select>\r\n            </md-input-container>\r\n            <button class="md-icon-button md-button" ng-click="showViewsOptions =!showViewsOptions" style="margin-right: -0.8em;">\r\n                <i class="material-icons">view_module</i>\r\n                <md-tooltip md-direction="bottom">Views Options</md-tooltip>\r\n            </button>\r\n        </section>\r\n        <section layout="row" layout-align="center center" flex="50" layout-fill>\r\n            <md-input-container class="md-block no-md-errors-spacer" style="margin: 0px;" flex="90">\r\n                <label>Search</label>\r\n                <input name="search" ng-model="searchBoxValue" ng-enter="search(searchBoxValue)">\r\n            </md-input-container>\r\n            <button class="md-icon-button md-button gray-color" style="bottom: -0.5em; padding-left: 0; margin-left: 0" ng-click="clearAllFilters()">\r\n                <i class="material-icons">delete_sweep</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Clear all filters</md-tooltip>\r\n            </button>\r\n        </section>\r\n        <section layout="row" flex="10" layout-align="end start">\r\n            <button class="md-icon-button md-button" ng-click="collapseExpand(assetsListGrid)">\r\n                <md-icon md-svg-icon="collapse_expand"></md-icon>\r\n                <md-tooltip md-direction="bottom">Collapse/Expand All</md-tooltip>\r\n            </button>\r\n        </section>\r\n    </section>\r\n\r\n    <div id="assetsListGrid"></div>\r\n    \x3c!-- FAB button --\x3e\r\n    <div class="lock-size fixed-element" layout="row" layout-align="center center" ng-cloak> \r\n        <md-fab-speed-dial md-open="buttons.open" md-direction="up"\r\n                           class="md-fling">\r\n            <md-fab-trigger>\r\n                <md-button aria-label="menu" class="md-fab md-accent">\r\n                    <md-icon md-svg-src="{{buttons.open ? \'close\' : \'menu\'}}"></md-icon>\r\n                </md-button>\r\n            </md-fab-trigger>\r\n            <md-fab-actions>\r\n                <div ng-repeat="button in buttons">\r\n                    <md-button ng-show="isLoggedAsAudaxware || !button.only_audaxware" aria-label="{{button.label}}" class="md-fab md-mini"\r\n                               ng-click="button.click.func(button.click.params)">\r\n                        <md-tooltip md-direction="left" md-visible="false"\r\n                                    md-autohide="true">\r\n                            {{button.label}}\r\n                        </md-tooltip>\r\n                        <md-icon md-svg-src="{{button.icon}}" aria-label="{{button.label}}" style="color: white;"></md-icon>\r\n                    </md-button>\r\n                </div>\r\n            </md-fab-actions>\r\n        </md-fab-speed-dial>\r\n    </div>\r\n</section>\r\n\r\n\r\n\x3c!--<style parse-style>\r\n     .k-grid-content {\r\n        max-height:{{grid_content_height - 150}}px;\r\n        min-height:{{grid_content_height - 150}}px;\r\n    }\r\n</style>--\x3e'),n.put("app/Assets/Workspace.html",'<md-toolbar class="toolbar-tab">\r\n    <md-tabs md-border-bottom md-no-select-click>\r\n        <md-tab md-active="activeTab == tab.name" \r\n                ng-repeat="tab in tabs"\r\n                ng-if="tab.visible"\r\n                label="{{tab.name == \'categories\' ? \'categories & subcategories\' : tab.name }}" \r\n                ng-click="goToWorspaceState(tab.name)"></md-tab>\r\n    </md-tabs>\r\n</md-toolbar>\r\n<md-content class="padding-left padding-right">\r\n    <ui-view></ui-view>\r\n</md-content>'),n.put("app/AssetCodes/AssetCodeList.html",'<section layout="column" ng-cloack class="md-inline-form padding-left-half padding-right-half">\r\n    <div class="checkbox-grid" kendo-grid="codesGrid" options="options" k-on-data-bound="dataBound()">\r\n    </div>\r\n</section>\r\n'),n.put("app/Audit/AuditedList.html",'<section layout="column" ng-cloack class="md-inline-form padding-left-half padding-right-half">\r\n    <div class="checkbox-grid" kendo-grid="auditGrid" options="options" k-on-data-bound="dataBound()">\r\n    </div>\r\n</section>\r\n'),n.put("app/Bundle/BundleDetails.html",'<section layout="column" ng-cloak class="md-inline-form padding-top-half padding-bottom">\r\n    <form name="detailsForm" id="detailsForm" novalidate>\r\n        <aw-accordion label="Information" expanded="true">\r\n            <section layout-gt-sm="row" layout-align-gt-sm="space-between center" class="padding-bottom-half">\r\n                <section flex-gt-sm="45">\r\n                    <md-input-container class="md-block" style="margin-bottom: 0px;">\r\n                        <label>Name</label>\r\n                        <input name="name" ng-model="bundle.name" required>\r\n                        <div ng-messages="detailsForm.name.$error">\r\n                            <div ng-message="required">Bundle name is required</div>\r\n                        </div>\r\n                    </md-input-container>\r\n                    <section aw-combo-box\r\n                             ng-model="bundle.project" \r\n                             name="project"\r\n                             form=""\r\n                             controller-name="projects" \r\n                             params="projectParams" \r\n                             text-property="project_description" \r\n                             id-property="project_id" \r\n                             selected-id="bundle.project_id" \r\n                             selected-domain="bundle.project_domain_id" \r\n                             label="Project"></section>\r\n                    <md-input-container class="md-block">\r\n                        <label>Comment</label>\r\n                        <textarea ng-model="bundle.comment" name="comment" columns="1" md-maxlength="1000" maxlength="1000" rows="1"></textarea>\r\n                        <div ng-messages="!detailsForm.comment.$valid && detailsForm.comment.$error" role="alert">\r\n                            <div ng-message="md-maxlength" class="my-message">\r\n                                Only 1000 characters are allowed!\r\n                            </div>\r\n                        </div>\r\n                    </md-input-container>\r\n                </section>\r\n                <md-card-content flex-gt-sm="45" layout-sm="row" layout="column" layout-align="space-between center" layout-align-sm="center center">\r\n                    <section flex-sm="45">\r\n                        <label><strong>Data Added: </strong></label>\r\n                        <span>{{bundle.date_added | date:\'MM/dd/yyyy\'}}</span>\r\n                    </section>\r\n                    <section style="margin: 1em 0px;"></section>\r\n                    <section flex-sm="45">\r\n                        <label><strong>Added by: </strong></label>\r\n                        <span>{{bundle.added_by}}</span>\r\n                    </section>\r\n                </md-card-content>\r\n            </section>\r\n\r\n        </aw-accordion>\r\n        <aw-accordion label="Assets">\r\n            <section layout="column" ng-cloak class="md-inline-form padding-bottom">\r\n                <div kendo-grid="bundleAssetsGrid" class="no-header-padding" ng-class="{\'checkbox-grid\': canModify }" options="options" k-on-data-bound="dataBound()">\r\n                </div>\r\n            </section>\r\n        </aw-accordion>\r\n    </form>\r\n    \x3c!-- FAB button --\x3e\r\n    <div class="lock-size" layout="row" layout-align="center center" ng-cloak>\r\n        <md-fab-speed-dial md-open="buttons.state" md-direction="up"\r\n                           class="md-fling">\r\n            <md-fab-trigger>\r\n                <md-button aria-label="menu" class="md-fab md-accent">\r\n                    <md-icon md-svg-src="{{buttons.state ? \'close\' : \'menu\'}}"></md-icon>\r\n                </md-button>\r\n            </md-fab-trigger>\r\n            <md-fab-actions>\r\n                <div ng-repeat="button in buttons" ng-if="!button.displayConditionally || canModify">\r\n                    <md-button aria-label="{{button.label}}" class="md-fab md-mini"\r\n                               ng-click="button.click()">\r\n                        <md-tooltip md-direction="left" md-visible="tooltipVisible"\r\n                                    md-autohide="false">\r\n                            {{button.label}}\r\n                        </md-tooltip>\r\n                        <md-icon md-svg-src="{{button.icon}}" aria-label="{{button.label}}"></md-icon>\r\n                    </md-button>\r\n                </div>\r\n            </md-fab-actions>\r\n        </md-fab-speed-dial>\r\n    </div>\r\n</section>'),n.put("app/Bundle/BundleList.html",'<section layout="column" ng-cloak class="md-inline-form">\r\n    <section layout="row" ng-cloak layout-wrap class="grid-toolbar padding-bottom padding-top-half">\r\n        <section layout="row" layout-align="start center" flex="95">\r\n            <md-button class="md-icon-button md-button" ng-click="openAddModal()">\r\n                <i class="material-icons">add</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Add Bundle</md-tooltip>\r\n            </md-button>\r\n            <button class="md-icon-button md-button" ng-click="showDetails()">\r\n                <i class="material-icons">edit</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Edit bundle</md-tooltip>\r\n            </button>\r\n            <button class="md-icon-button md-button" ng-click="delete()">\r\n                <i class="material-icons">delete</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Delete Bundle(s)</md-tooltip>\r\n            </button>\r\n        </section>\r\n        <section layout="row" flex="5" layout-align="end start">\r\n            <button class="md-icon-button md-button" ng-click="collapseExpand(bundlesListGrid)">\r\n                <md-icon md-svg-icon="collapse_expand"></md-icon>\r\n                <md-tooltip md-direction="bottom">Collapse/Expand All</md-tooltip>\r\n            </button>\r\n        </section>\r\n    </section>\r\n    <div class="checkbox-grid" kendo-grid="bundlesListGrid" options="options" k-on-data-bound="dataBound()">\r\n    </div>\r\n    \x3c!-- FAB button --\x3e\r\n    \x3c!--<div class="lock-size" layout="row" layout-align="center center" ng-cloak>\r\n        <md-fab-speed-dial>\r\n            <md-fab-trigger>\r\n                <md-button aria-label="add_asset" class="md-fab md-accent" ng-click="openAddModal()">\r\n                    <md-icon md-svg-src="more"></md-icon>\r\n                    <md-tooltip md-direction="left">Add Bundle</md-tooltip>\r\n                </md-button>\r\n            </md-fab-trigger>\r\n        </md-fab-speed-dial>\r\n    </div>--\x3e\r\n</section>\r\n\r\n<style parse-style>\r\n     .k-grid-content {\r\n        height:{{options.height - 210}}px;\r\n     }\r\n</style>'),n.put("app/Category/CategoriesList.html",'<section layout="column" ng-cloak class="md-inline-form padding-top-half">\r\n    <section class="padding-bottom" layout-gt-sm="row" layout-align="space-around none">\r\n        <section flex-gt-sm="45">\r\n            <md-card-content class="card-header" layout="column" layout-align="center center">\r\n                <h3 style="margin-bottom: 0px; margin-top: 10px;">Categories</h3>\r\n            </md-card-content>\r\n            <div class="checkbox-grid" kendo-grid="categoryListGrid" options="categoryOptions" k-on-data-bound="dataBound(categoryListGrid, \'category\')">\r\n            </div>\r\n        </section>\r\n        <section flex-gt-sm="45">\r\n            <md-card-content class="card-header" layout="column" layout-align="center center">\r\n                <h3 style="margin-bottom: 0px; margin-top: 10px;">Subcategories</h3>\r\n            </md-card-content>\r\n            <div class="checkbox-grid" kendo-grid="subcategoryListGrid" options="subcategoryOptions" k-on-data-bound="dataBound(subcategoryListGrid, \'subcategory\')">\r\n            </div>\r\n        </section>\r\n    </section>\r\n</section>\r\n\x3c!-- FAB button --\x3e\r\n<div class="lock-size fixed-element" layout="row" layout-align="center center" ng-cloak ng-show="logged_domain == 1">\r\n    <md-fab-speed-dial md-open="buttons.open" md-direction="up"\r\n                       class="md-fling">\r\n        <md-fab-trigger>\r\n            <md-button aria-label="menu" class="md-fab md-accent">\r\n                <md-icon md-svg-src="{{buttons.open ? \'close\' : \'menu\'}}"></md-icon>\r\n            </md-button>\r\n        </md-fab-trigger>\r\n        <md-fab-actions>\r\n            <div ng-repeat="button in buttons">\r\n                <md-button aria-label="{{button.label}}" class="md-fab md-mini"\r\n                           ng-click="button.click.func(button.click.params)">\r\n                    <md-tooltip md-direction="left" md-visible="false"\r\n                                md-autohide="true">\r\n                        {{button.label}}\r\n                    </md-tooltip>\r\n                    <md-icon md-svg-src="{{button.icon}}" aria-label="{{button.label}}"></md-icon>\r\n                </md-button>\r\n            </div>\r\n        </md-fab-actions>\r\n    </md-fab-speed-dial>\r\n</div>\r\n\r\n\x3c!--<style parse-style>\r\n    .k-grid-content {\r\n        max-height: {{grid_content_height - 160}}px;\r\n        min-height: {{grid_content_height -160}}px;\r\n    }\r\n</style>--\x3e'),n.put("app/Dashboard/Dashboard.html",'<form name="detailsForm" id="detailsForm" layout-xs="column" layout-gt-xs="row" layout-align-gt-xs="center center" class="md-inline-form padding-top">\r\n    <md-input-container class="md-block" flex-gt-xs="50">\r\n        <label>Select a Dashboard</label>\r\n        <md-select ng-model="selectedDashboard" name="dashboards" required>\r\n            <md-option ng-value="dash" ng-repeat="dash in availableDashboards">{{ dash.name }}</md-option>\r\n        </md-select>\r\n        <div ng-messages="detailsForm.dashboards.$error">\r\n            <div ng-message="required">You need to select a dashboard</div>\r\n        </div>\r\n    </md-input-container>\r\n    <md-input-container class="md-block" flex-gt-xs="20" ng-if="isNotViewer">\r\n        <button class="md-icon-button md-button" ng-click="filesUpload()">\r\n            <i class="material-icons">add</i><div class="md-ripple-container"></div>\r\n            <md-tooltip md-direction="bottom">Upload Dashboard</md-tooltip>\r\n        </button>\r\n        <button class="md-icon-button md-button" ng-click="deleteDashboard()">\r\n            <i class="material-icons">delete</i><div class="md-ripple-container"></div>\r\n            <md-tooltip md-direction="bottom">Delete Dashboard</md-tooltip>\r\n        </button>\r\n    </md-input-container>\r\n</form>\r\n    <div style="height:{{resolution}}px">\r\n        <div id="reportContainer" style="height:{{resolution}}px"></div>\r\n        \x3c!--<powerbi-report style="height:{{resolution}}px" embed-url="report.embedUrl" access-token="report.accessToken" options="options"></powerbi-report>--\x3e\r\n    </div>\r\n\r\n'),n.put("app/Domains/DomainsGrid.html",'\x3c!--<md-content layout="column" ng-cloak class="md-inline-form padding-left-half padding-right-half">\r\n    <div kendo-grid="domainsGrid" options="options" k-on-data-bound="dataBound(domainsGrid)" class="primary-color-header">\r\n    </div>\r\n</md-content>--\x3e\r\n\r\n<section layout="column" ng-cloack class="md-inline-form padding-left-half padding-right-half">\r\n    <div class="checkbox-grid" kendo-grid="domainsGrid" options="options" k-on-data-bound="dataBound()">\r\n    </div>\r\n</section>\r\n'),n.put("app/Index/Index.html",'<script type="text/javascript">\r\n    $(document).ready(function () {\r\n        $("#horizontal").kendoSplitter({\r\n            orientation: \'horizontal\',\r\n            panes: [\r\n                { collapsible: true, size: "20%", scrollable: true },\r\n                { collapsible: false, scrollable: true }\r\n            ]\r\n        });\r\n    });\r\n<\/script>\r\n\r\n<div id="horizontal">\r\n    <div ng-cloack id="left-pane" class="not-scrollable">\r\n        <md-tabs md-border-bottom>\r\n            <md-tab label="Explorer">\r\n\r\n                <md-radio-group ng-if="filterOptions.show" ng-model="filterOptions.showProject" layout-wrap layout="row" layout-align="left" ng-change="ChangeProjectsSource()" style="padding-top: 0.5em; padding-right: 0.5em">\r\n                    <md-radio-button value="a" style="margin-top:1em">All</md-radio-button>\r\n                    <md-radio-button value="c" style="margin-top:1em">Current</md-radio-button>\r\n                    <md-radio-button value="m" style="margin-top:1em">Fav.</md-radio-button>\r\n                    <md-radio-button value="b" style="margin-top:1em">Active</md-radio-button>\r\n                </md-radio-group>\r\n\r\n                \x3c!-- Search --\x3e\r\n                <md-data-table-toolbar class="explorer" layout="row" layout-align="start center" ng-cloack>\r\n                    <div layout="row" flex="85" style="padding: 0">\r\n                        <md-icon class="material-icons" style="margin-right: 0px; margin-left: 0.5em">search</md-icon>\r\n                        <md-input-container md-no-float class="md-block" flex="80">\r\n                            <input ng-model="searchTree" placeholder="Search" ng-enter="search()">\r\n                        </md-input-container>\r\n                    </div>\r\n                    <button ng-if="filterOptions.showProject == \'a\' && isNotViewer" class="md-icon-button md-button" type="button" ng-click="checkIfViewer()" ui-sref="{{AddStateProject()}}">\r\n                        <md-icon class="md-accent">add_circle</md-icon>\r\n                        <md-tooltip md-direction="bottom">\r\n                            Add a new project\r\n                        </md-tooltip>\r\n                    </button>\r\n                </md-data-table-toolbar>\r\n                \x3c!-- end search --\x3e\r\n\r\n                <div id="projectTree" kendo-tree-view="tree"\r\n                     k-data-source="treeData"\r\n                     k-on-change="changeDetailsItem(dataItem)"\r\n                     k-on-data-bound="dataBound()">\r\n                    \x3c!--<ul kendo-context-menu="treeContextMenu"\r\n                        k-data-source="menuData"\r\n                        k-on-select="onSelect(kendoEvent)">\r\n                    </ul>\r\n                    <md-menu k-template ng-right-click="$mdOpenMenu()">\r\n                        <span>\r\n                            {{dataItem.text}}\r\n                        </span>\r\n                        <md-menu-content>\r\n                            <md-menu-item ng-if="dataItem.level() <= 2">\r\n                                <md-button ng-click="checkIfRoom(dataItem)" ui-sref="{{AddState(dataItem)}}">\r\n                                    {{dataItem.level() == 0 ? \'Add New Phase\' : dataItem.level() == 1 ? \'Add New Department\' : dataItem.level() == 2 ? \'Add New Room\' : \'\'}}\r\n                                </md-button>\r\n                            </md-menu-item>\r\n                            <md-menu-item ng-if="dataItem.level() == 0 && (filterOptions.showProject == \'a\' || filterOptions.showProject == \'c\')">\r\n                                <md-button ng-click="addToMine(dataItem)">\r\n                                    Add to Favorites\r\n                                </md-button>\r\n                            </md-menu-item>\r\n                            <md-menu-divider ng-if="dataItem.level() <= 2"></md-menu-divider>\r\n                            <md-menu-item ng-if="dataItem.level() == 0 && filterOptions.showProject == \'m\'">\r\n                                <md-button ng-click="removeFromMine(dataItem)">\r\n                                    Remove from Favorites\r\n                                </md-button>\r\n                            </md-menu-item>\r\n                            <md-menu-item>\r\n                                <md-button ng-click="remove(dataItem)">\r\n                                    Delete\r\n                                </md-button>\r\n                            </md-menu-item>\r\n                        </md-menu-content>\r\n                    </md-menu>--\x3e\r\n                    \x3c!--<span k-template ng-click="changeDetailsItem(dataItem)">\r\n                        {{dataItem.text}}\r\n                    </span>--\x3e\r\n                </div>\r\n            </md-tab>\r\n            \x3c!-- Removed while is not implemented --\x3e\r\n            \x3c!--<md-tab label="Filters">\r\n            </md-tab>--\x3e\r\n        </md-tabs>\r\n    </div>\r\n\r\n    <div id="center-pane">\r\n        <md-toolbar class="breadcrumb gray-color" layout="row" layout-align="none center" ng-if="path.project_id">\r\n            \x3c!--TODO JULIANA: ASK CAMILA TO HELP ME TO LET THIS PART OF THE CODE LESS UGLY--\x3e\r\n            <table width="100%" cellpadding="0" cellspacing="0">\r\n                <tr>\r\n                    <td width="60%" class="breadcrumb-items">\r\n                        <section><span ng-click="changeDetailsItemBreadcrumb(\'project\', path)">{{path.project_name || \'New Project\'}}&nbsp;</span></section>\r\n                        <section ng-if="path.phase_id && (path.phase_id != -1 || add)"><strong>>&nbsp;</strong> <span ng-click="changeDetailsItemBreadcrumb(\'phase\', path)">{{path.phase_name || \'New Phase\'}}&nbsp;</span></section>\r\n                        <section ng-if="path.department_id && (path.department_id != -1 || add)"><strong>>&nbsp;</strong> <span ng-click="changeDetailsItemBreadcrumb(\'department\', path)">{{path.department_name || \'New Department\'}}&nbsp;</span></section>\r\n                        <section ng-if="path.room_id && (path.room_id != -1 || add)"><strong>>&nbsp;</strong> <span ng-click="changeDetailsItemBreadcrumb(\'room\', path)">{{path.room_name || \'New Room\'}}</span></section>\r\n                    </td>\r\n                    <td>\r\n                        <aw-procurement data="path" column-name="procurement" title="Total Budget" project-level="true" costs="costs"></aw-procurement>\r\n                        \x3c!--<table width="100%" cellpadding="0" cellspacing="0">\r\n                            <tr>\r\n                                <td><label style="font-size:small">PO Total: {{costs.po_total}}</label></td>\r\n                                <td align="right" height="10px" style="vertical-align:bottom">\r\n                                    <label style="font-size:small">Projected Cost: {{costs.projected_cost}}</label>\r\n                                    <md-button class="md-primary md-icon-button" style="min-height:1%;height:15px" aria-label="teste">\r\n                                        <md-icon class="material-icons md-18">info</md-icon>\r\n                                        <md-tooltip>\r\n                                            Total Budget: {{costs.total_budget}}<br />\r\n                                            Estimate: {{costs.planned_budget}}<br />\r\n                                            <section style="display:inline" ng-if="project_level == 0">Total Budget Delta: {{costs.client_budget_delta}}<br /></section>\r\n                                            Estimate Delta: {{costs.planned_budget_delta}}<br>\r\n                                            PO Freight: {{costs.total_po_freight}}\r\n                                        </md-tooltip>\r\n                                    </md-button>\r\n\r\n                                </td>\r\n                            </tr>\r\n                            <tr><td colspan="2">\r\n                                    <md-progress-linear md-mode="determinate" value="{{progress_cost}}"></md-progress-linear>\r\n                                </td></tr>\r\n                        </table>--\x3e\r\n                    </td>\r\n                </tr>\r\n\r\n            </table>\r\n            \x3c!--ENDS HERE--\x3e\r\n        </md-toolbar>\r\n\r\n        <md-toolbar class="toolbar-tab" ng-if="showTabs">\r\n            <md-tabs md-border-bottom md-no-select-click>\r\n                <md-tab md-active="activeTab == tab.name" \r\n                        ng-repeat="tab in tabs" \r\n                        label="{{tab.label}}" \r\n                        ng-click="goToProjectState(tab)" \r\n                        ng-if="((!add && ((tab.name !== \'roomDocuments\' || path.room_id) && (tab.name !== \'documents\' || !path.phase_id || path.phase_id == -1))) || tab.name === \'details\') "></md-tab>\r\n            </md-tabs>\r\n        </md-toolbar>\r\n\r\n        <md-content class="padding-left-half padding-right-half">\r\n            <ui-view></ui-view>\r\n        </md-content>\r\n    </div>\r\n</div>\r\n\r\n<style type="text/css">\r\n    .level-below-grid .k-grid-content {\r\n        max-height: 200px;\r\n        min-height: 200px;\r\n    }\r\n\r\n    md-tooltip .md-content {\r\n        height: auto;\r\n    }\r\n\r\n    .k-progressbar {\r\n        background-color: rgb(210, 223, 249);\r\n        border-color: rgb(210, 223, 249);\r\n    }\r\n</style>\r\n'),n.put("app/Manufacturer/ManufacturerDetails.html",'<section layout="column" ng-cloak class="md-inline-form padding-top-half padding-bottom">\r\n    <form name="detailsForm" id="detailsForm" novalidate>\r\n        <aw-accordion label="Information" expanded="true">\r\n            <section layout-gt-sm="row" layout-align-gt-sm="space-between center" class="padding-bottom-half">\r\n                <section flex-gt-sm="45">\r\n                    <md-input-container class="md-block">\r\n                        <label>Name</label>\r\n                        <input name="name" ng-model="manufacturer.manufacturer_description" required>\r\n                        <div ng-messages="detailsForm.name.$error">\r\n                            <div ng-message="required">Manufacturer name is required</div>\r\n                        </div>\r\n                    </md-input-container>\r\n                    <md-input-container class="md-block">\r\n                        <label>Comment</label>\r\n                        <textarea ng-model="manufacturer.comment" name="comment" columns="1" md-maxlength="250" maxlength="250" rows="1"></textarea>\r\n                        <div ng-messages="!detailsForm.comment.$valid && detailsForm.comment.$error" role="alert">\r\n                            <div ng-message="md-maxlength" class="my-message">\r\n                                Only 250 characters are allowed!\r\n                            </div>\r\n                        </div>\r\n                    </md-input-container>\r\n                </section>\r\n                <md-card-content flex-gt-sm="45" layout-sm="row" layout="column" layout-align="space-between center" layout-align-sm="center center">\r\n                    <section flex-sm="45">\r\n                        <label><strong>Data Added: </strong></label>\r\n                        <span>{{manufacturer.date_added | date:\'MM/dd/yyyy\'}}</span>\r\n                    </section>\r\n                    <section style="margin: 1em 0px;"></section>\r\n                    <section flex-sm="45">\r\n                        <label><strong>Added by: </strong></label>\r\n                        <span>{{manufacturer.added_by}}</span>\r\n                    </section>\r\n                </md-card-content>\r\n            </section>\r\n\r\n        </aw-accordion>\r\n        <aw-accordion label="Contacts">\r\n            <aw-contacts-grid ng-if="manufacturer" can-edit="canModify" contact-type="manufacturer" params="manufacturer"></aw-contacts-grid>\r\n        </aw-accordion>\r\n        <aw-accordion label="Vendors">\r\n            <section layout="column" ng-cloack class="md-inline-form padding-bottom padding-top" ng-controller="ManufacturerVendorsGridCtrl">\r\n                <div kendo-grid="vendorsGrid" class="no-header-padding primary-color-header" options="options" k-on-data-bound="dataBound()">\r\n                </div>\r\n            </section>\r\n        </aw-accordion>\r\n    </form>\r\n    \x3c!-- FAB button --\x3e\r\n    <div class="lock-size" layout="row" layout-align="center center" ng-cloak>\r\n        <md-fab-speed-dial md-open="buttons.state" md-direction="up"\r\n                           class="md-fling">\r\n            <md-fab-trigger>\r\n                <md-button aria-label="menu" class="md-fab md-accent">\r\n                    <md-icon md-svg-src="{{buttons.state ? \'close\' : \'menu\'}}"></md-icon>\r\n                </md-button>\r\n            </md-fab-trigger>\r\n            <md-fab-actions>\r\n                <div ng-repeat="button in buttons" ng-if="!button.showContidion || canModify">\r\n                    <md-button aria-label="{{button.label}}" class="md-fab md-mini"\r\n                               ng-click="button.click()">\r\n                        <md-tooltip md-direction="left" md-visible="tooltipVisible"\r\n                                    md-autohide="false">\r\n                            {{button.label}}\r\n                        </md-tooltip>\r\n                        <md-icon md-svg-src="{{button.icon}}" aria-label="{{button.label}}"></md-icon>\r\n                    </md-button>\r\n                </div>\r\n            </md-fab-actions>\r\n        </md-fab-speed-dial>\r\n    </div>\r\n</section>'),n.put("app/Manufacturer/ManufacturersList.html",'<section layout="column" ng-cloak class="md-inline-form">\r\n    <section layout="row" ng-cloak layout-wrap class="grid-toolbar padding-bottom padding-top-half">\r\n        <section layout="row" layout-align="start center" flex="95">\r\n            <md-button class="md-icon-button md-button" ng-click="openAddModal()">\r\n                <i class="material-icons">add</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Add Manufacturer</md-tooltip>\r\n            </md-button>\r\n            <button class="md-icon-button md-button" ng-click="showDetails()">\r\n                <i class="material-icons">edit</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Edit manufacturer</md-tooltip>\r\n            </button>\r\n            <button class="md-icon-button md-button" ng-click="delete()">\r\n                <i class="material-icons">delete</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Delete Manufacturer(s)</md-tooltip>\r\n            </button>\r\n        </section>\r\n        <section layout="row" flex="5" layout-align="end start">\r\n            <button class="md-icon-button md-button" ng-click="collapseExpand(manufacturersListGrid)">\r\n                <md-icon md-svg-icon="collapse_expand"></md-icon>\r\n                <md-tooltip md-direction="bottom">Collapse/Expand All</md-tooltip>\r\n            </button>\r\n        </section>\r\n    </section>\r\n    <div class="checkbox-grid" kendo-grid="manufacturersListGrid" options="options" k-on-data-bound="dataBound()">\r\n    </div>\r\n    \x3c!-- FAB button --\x3e\r\n    \x3c!--<div class="lock-size" layout="row" layout-align="center center" ng-cloak>\r\n        <md-fab-speed-dial>\r\n            <md-fab-trigger>\r\n                <md-button aria-label="add_asset" class="md-fab md-accent" ng-click="openAddModal()">\r\n                    <md-icon md-svg-src="more"></md-icon>\r\n                    <md-tooltip md-direction="left">Add Manufacturer</md-tooltip>\r\n                </md-button>\r\n            </md-fab-trigger>\r\n        </md-fab-speed-dial>\r\n    </div>--\x3e\r\n</section>\r\n\r\n\x3c!--<style parse-style>\r\n     .k-grid-content {\r\n        max-height:{{grid_content_height - 160}}px;\r\n        min-height:{{grid_content_height - 160}}px;\r\n    }\r\n</style>--\x3e\r\n'),n.put("app/Menus/Left.html",'<script type="text/javascript">\r\n        $(document).ready(function () {\r\n            $("#vertical").kendoSplitter({\r\n                orientation: "vertical",\r\n                panes: [\r\n                    { collapsible: false, resizable: false, size: "82px" },\r\n                    { collapsible: false },\r\n                    { collapsible: false, resizable: false, size: "25px" }\r\n                ]\r\n            });\r\n            $("#horizontal").kendoSplitter({\r\n                panes: [\r\n                    { collapsible: true, size: "20%", scrollable: false },\r\n                    { collapsible: false, scrollable: false },\r\n                    { collapsible: true, size: "20%", scrollable: false }\r\n                ]\r\n            });\r\n\r\n            $("#searchTree").keyup(function () {\r\n\r\n                var filterText = $("#searchTree").val();\r\n                if (filterText !== "") {\r\n                    $("#projectTree .k-group .k-group .k-in").closest("li").hide();\r\n                    $("#projectTree .k-group .k-group .k-in:contains(" + filterText + ")").each(function () {\r\n                        $(this).parents("ul, li").each(function () {\r\n                            $(this).show();\r\n                        });\r\n                    });\r\n                } else {\r\n                    $("#projectTree .k-group").find("ul").hide();\r\n                    $("#projectTree .k-group").find("li").show();\r\n                }\r\n            });\r\n        });\r\n<\/script>\r\n\r\n<div id="left-pane">\r\n    <input type="text" class="form-control" id="searchTree" name="searchTree" style="width:90%" ng-model="searchTree" ng-change="filter()" />\r\n    \x3c!--<input kendo-auto-complete placeholder="\'Search...\'" id="searchTree" k-data-text-field="\'name\'" k-data-source="searchData" style="width: 100%;" />--\x3e\r\n    <div id="projectTree" kendo-tree-view="tree"\r\n         k-data-source="treeData"\r\n         k-on-change="selectedItem = dataItem"\r\n         style="height: 100%">\r\n        <span k-template ng-click="changeDetailsItem(dataItem)">\r\n            {{dataItem.text}}\r\n        </span>\r\n    </div>\r\n</div>'),n.put("app/Menus/Top.html",'<div id="top-pane">\r\n    <nav class="navbar navbar-default  navbar-fixed-top" style="margin: 0px;">\r\n        <div class="container-fluid">\r\n            \x3c!-- Brand and toggle get grouped for better mobile display --\x3e\r\n            <div class="navbar-header">\r\n                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">\r\n                    <span class="sr-only">Toggle navigation</span>\r\n                    <span class="icon-bar"></span>\r\n                    <span class="icon-bar"></span>\r\n                    <span class="icon-bar"></span>\r\n                </button>\r\n                <a class="navbar-brand" href="">\r\n                    <img alt="XPlanner" src="images/branding/logo.png" width="180" />\r\n                </a>\r\n            </div>\r\n\r\n            \x3c!-- Collect the nav links, forms, and other content for toggling --\x3e\r\n            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1" style="padding-top: 14px">\r\n                <ul class="nav navbar-nav">\r\n                    <li class="dropdown">\r\n                        <a href="" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Projects <span class="caret"></span></a>\r\n                        <ul class="dropdown-menu">\r\n                            <li><a href="">New...</a></li>\r\n                            <li><a href="">Open...</a></li>\r\n                        </ul>\r\n                    </li>\r\n                    <li class="dropdown">\r\n                        <a href="" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Assets <span class="caret"></span></a>\r\n                        <ul class="dropdown-menu">\r\n                            <li><a onclick="alert(\'works well\')">New asset...</a></li>\r\n                            <li role="separator" class="divider"></li>\r\n                            <li><a href="">Asset management</a></li>\r\n                            <li><a href="">Asset types</a></li>\r\n                            <li><a href="">Asset categories</a></li>\r\n                        </ul>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </nav>\r\n</div>'),n.put("app/POs/PO.html",'<section class="md-inline-form padding-right-half">\r\n    <div kendo-grid="posGrid" class="checkbox-grid no-multilines" k-on-data-bound="dataBound()" k-on-pdf-export="pdfExport()" options="options"></div>\r\n</section>\r\n\r\n\x3c!-- FAB button --\x3e\r\n<div class="lock-size fixed-element" layout="row" layout-align="center center" ng-cloak>\r\n    <md-fab-speed-dial md-open="buttons.open" md-direction="up"\r\n                       class="md-fling">\r\n        <md-fab-trigger>\r\n            <md-button aria-label="menu" class="md-fab md-accent">\r\n                <md-icon md-svg-src="{{buttons.open ? \'close\' : \'menu\'}}"></md-icon>\r\n            </md-button>\r\n        </md-fab-trigger>\r\n        <md-fab-actions>\r\n            <div ng-repeat="button in buttons">\r\n                <md-button aria-label="{{button.label}}" class="md-fab md-mini"\r\n                           ng-click="button.click.func(button.click.params)">\r\n                    <md-tooltip md-direction="left" md-visible="false"\r\n                                md-autohide="true">\r\n                        {{button.label}}\r\n                    </md-tooltip>\r\n                    <md-icon md-svg-src="{{button.icon}}" aria-label="{{button.label}}"></md-icon>\r\n                </md-button>\r\n            </div>\r\n        </md-fab-actions>\r\n    </md-fab-speed-dial>\r\n</div>\r\n'),n.put("app/POs/PODetails.html",'<section layout="column" ng-cloak class="md-inline-form padding-left-half padding-right-half padding-top padding-bottom">\r\n    <form name="poForm" id="poForm" novalidate>\r\n        <aw-accordion label="Information" expanded="true">\r\n            <section layout-gt-xs="row" flex="100" layout-align="space-between bottom" layout-align-sm="space-between bottom">\r\n                <md-input-container class="md-block" flex-gt-sm="50" flex-sm="40">\r\n                    <label>Description</label>\r\n                    <input name="description" ng-model="data.description" required>\r\n                    <div ng-messages="poForm.description.$error">\r\n                        <div ng-message="required">PO description is required</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-sm="20" flex-sm="30">\r\n                    <label>Status</label>\r\n                    <input name="status" ng-model="data.status" readonly>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-sm="20" flex-sm="30">\r\n                    <label>Quote Expiration Date</label>\r\n                    <md-datepicker ng-model="data.quote_expiration_date" name="expiration_date" md-min-date="minQuoteExDate" ng-disabled="data.status !== \'Quote Requested\'"></md-datepicker>\r\n                    <div ng-messages="requestPOForm.quote_expiration_date.$error">\r\n                        <div ng-message="valid">Invalid Date</div>\r\n                    </div>\r\n                    \x3c!--<input name="quote_expiration_date" ng-model="data.quote_expiration_date" ng-disabled="data.status !== \'Quote Requested\'" aw-date-formatter>--\x3e\r\n                </md-input-container>\r\n            </section>\r\n            <section layout-gt-xs="row" layout-align-gt-xs="space-between start" class="md-block" layout-wrap layout-fill>\r\n                <md-input-container ng-if="data" class="md-block" flex-gt-xs="30">\r\n                    <aw-autocomplete ng-model="data.vendor"\r\n                                     watch-object="true"\r\n                                     watched-object-id="data.po_id"\r\n                                     descriptive-property="domain.name"\r\n                                     selected-item="data.vendor"\r\n                                     selected-id="data.vendor_id"\r\n                                     selected-domain="data.vendor_domain_id"\r\n                                     name="vendor"\r\n                                     add-option="false"\r\n                                     id-property="vendor_id"\r\n                                     controller-name="vendor"\r\n                                     params="vendorCtrlParams"\r\n                                     max="50"\r\n                                     label="Vendor *"\r\n                                     required></aw-autocomplete>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-xs="30">\r\n                    <label>Ship To</label>\r\n                    <md-select name="ship_to" ng-model="data.ship_to">\r\n                        <md-option ng-repeat="address in addressList" ng-value="address.id">\r\n                            {{address.nickname}}\r\n                        </md-option>\r\n                    </md-select>\r\n                </md-input-container>\r\n                \x3c!--<section flex-gt-xs="30"\r\n                         aw-combo-box\r\n                         ng-model="data.project_addresses"\r\n                         name="ship_to"\r\n                         controller-name="address"\r\n                         params="addressCtrlParams"\r\n                         text-property="nickname"\r\n                         id-property="id"\r\n                         selected-id="data.ship_to"\r\n                         selected-domain="data.domain_id"\r\n                         domain-property="domain_id"\r\n                         label="Ship To"></section>--\x3e\r\n                <md-input-container class="md-block" flex-gt-xs="30">\r\n                    <label>Requisition #</label>\r\n                    <input name="requisition_number" ng-model="data.po_requested_number" ng-disabled="data.status === \'Open\' || data.status === \'Quote Received\'">\r\n                    <div ng-messages="poForm.requisition_number.$error">\r\n                        <div ng-message="required">Requisition number is required</div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n            <section layout-gt-xs="row" layout-align-gt-xs="space-between start" class="md-block" layout-wrap layout-fill>\r\n                <md-input-container class="md-block" flex-gt-xs="30">\r\n                    <label>Quote #</label>\r\n                    <input name="quote" ng-model="data.quote_number" ng-disabled="data.status === \'Open\' || data.status === \'Quote Requested\'" ng-required="data.status !== \'Open\' && data.status !== \'Quote Requested\'">\r\n                    <div ng-messages="poForm.quote.$error">\r\n                        <div ng-message="required">Quote number is required</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-xs="30">\r\n                    <label>Requested date</label>\r\n                    <input name="quote_requested_date" ng-model="data.quote_requested_date" readonly aw-date-formatter>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-xs="30">\r\n                    <label>Received date</label>\r\n                    <input name="quote_received_date" ng-model="data.quote_received_date" readonly aw-date-formatter>\r\n                </md-input-container>\r\n            </section>\r\n            <section layout-gt-xs="row" layout-align-gt-xs="space-between start" class="md-block" layout-wrap layout-fill>\r\n                <md-input-container class="md-block" flex-gt-xs="30">\r\n                    <label>PO No.</label>\r\n                    <input name="po" ng-model="data.po_number" ng-disabled="data.status !== \'PO Issued\'" ng-required="data.status === \'PO Issued\'">\r\n                    <div ng-messages="poForm.po.$error">\r\n                        <div ng-message="required">PO number is required</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-xs="30">\r\n                    <label>Requested date</label>\r\n                    <input name="po_requested_date" ng-model="data.po_requested_date" readonly aw-date-formatter>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-xs="30">\r\n                    <label>Received date</label>\r\n                    <input name="po_received_date" ng-model="data.po_received_date" readonly aw-date-formatter>\r\n                </md-input-container>\r\n            </section>\r\n            \x3c!--<md-checkbox ng-model="data.upd_asset_value" aria-label="asset_update" name="asset_updatex" style="top: -30px">\r\n                Allows automatically update asset min/max value\r\n            </md-checkbox>--\x3e\r\n        </aw-accordion>\r\n        <aw-accordion label="More...">\r\n            <section layout="column" class="padding-top">\r\n                <md-card-content layout-gt-sm="row" layout-align="start center" ng-if="!params.add">\r\n                    <section flex-gt-sm="45">\r\n                        <label><strong>Data Added: </strong></label>\r\n                        <span>{{data.date_added | date:\'shortDate\'}}</span>\r\n                    </section>\r\n                    <section>\r\n                        <label><strong>Added by: </strong></label>\r\n                        <span>{{data.added_by}}</span>\r\n                    </section>\r\n                </md-card-content>\r\n            </section>\r\n            <md-input-container class="md-block">\r\n                <label>Comment</label>\r\n                <textarea ng-model="data.comment" name="comment" columns="1" md-maxlength="1000" maxlength="1000"></textarea>\r\n                <div ng-messages="poForm.comment.$error" role="alert">\r\n                    <div ng-message="md-maxlength" class="my-message">\r\n                        Only 1000 characters are allowed\r\n                    </div>\r\n                </div>\r\n            </md-input-container>\r\n        </aw-accordion>\r\n        <aw-accordion label="Financials">\r\n            <section layout-gt-xs="column" layout-align-gt-sm="none start" layout-align-sm="none center" class="padding-top">\r\n                <section layout-sm="column" layout-xs="column" layout-gt-sm="row" layout-align-gt-sm="space-around bottom" class="md-block" layout-wrap layout-fill>\r\n                    <section layout-sm="row" flex-gt-sm="20" layout-align-sm="space-between bottom">\r\n                        <md-input-container class="md-block" flex-sm="45">\r\n                            <label>Quote amount</label>\r\n                            <input name="quote_amount" ng-model="data.quote_amount" aw-currency aw-currency-model>\r\n                            <div ng-messages="poForm.quote_amount.$error">\r\n                                <div ng-message="currency">Only currency values are allowed</div>\r\n                            </div>\r\n                        </md-input-container>\r\n                        <md-input-container class="md-block" flex-sm="45">\r\n                            <label>Install</label>\r\n                            <input name="install" ng-model="data.install" aw-currency aw-currency-model>\r\n                            <div ng-messages="poForm.install.$error">\r\n                                <div ng-message="currency">Only currency values are allowed</div>\r\n                            </div>\r\n                        </md-input-container>\r\n                        <md-input-container class="md-block" flex-sm="45">\r\n                            <label>Quote Discount</label>\r\n                            <input name="quote_discount" ng-model="data.quote_discount" aw-currency aw-currency-model>\r\n                            <div ng-messages="poForm.quote_discount.$error">\r\n                                <div ng-message="currency">Only currency values are allowed</div>\r\n                            </div>\r\n                        </md-input-container>\r\n                    </section>\r\n                    <section layout-sm="row" flex-gt-sm="20" layout-align-sm="space-between bottom">\r\n                        <md-input-container class="md-block" flex-sm="45">\r\n                            <label>Freight</label>\r\n                            <input name="freight" ng-model="data.freight" aw-currency aw-currency-model>\r\n                            <div ng-messages="poForm.freight.$error">\r\n                                <div ng-message="currency">Only currency values are allowed</div>\r\n                            </div>\r\n                        </md-input-container>\r\n                        <md-input-container class="md-block" flex-sm="45">\r\n                            <label>Warranty</label>\r\n                            <input name="warranty" ng-model="data.warranty" aw-currency aw-currency-model>\r\n                            <div ng-messages="poForm.warranty.$error">\r\n                                <div ng-message="currency">Only currency values are allowed</div>\r\n                            </div>\r\n                        </md-input-container>\r\n                    </section>\r\n                    <section layout-sm="row" flex-gt-sm="20" layout-align-sm="space-between bottom">\r\n                        <md-input-container class="md-block" flex-sm="45">\r\n                            <label>Tax</label>\r\n                            <input name="tax" ng-model="data.tax" aw-currency aw-currency-model>\r\n                            <div ng-messages="poForm.tax.$error">\r\n                                <div ng-message="currency">Only currency values are allowed</div>\r\n                            </div>\r\n                        </md-input-container>\r\n                        <md-input-container class="md-block" flex-sm="45">\r\n                            <label>Contingency</label>\r\n                            <input name="misc" ng-model="data.misc" aw-currency aw-currency-model>\r\n                            <div ng-messages="poForm.misc.$error">\r\n                                <div ng-message="currency">Only currency values are allowed</div>\r\n                            </div>\r\n                        </md-input-container>\r\n                    </section>\r\n                </section>\r\n            </section>\r\n        </aw-accordion>\r\n        <aw-accordion label="Assigned Assets">\r\n            <div kendo-grid="assignedAssetsGrid" class="checkbox-grid no-multilines" k-on-data-bound="dataBound()" options="options">\r\n            </div>\r\n        </aw-accordion>\r\n        <aw-accordion label="Vendor Contact">\r\n            \x3c!--<aw-po-vendor-contact ng-if="data" data="data.vendor"></aw-po-vendor-contact>--\x3e\r\n            <aw-contacts-grid ng-if="data" purchase-order="data" can-edit="true" contact-type="vendor" params="data.vendor"></aw-contacts-grid>\r\n        </aw-accordion>\r\n    </form>\r\n</section>\r\n\r\n\x3c!-- FAB button --\x3e\r\n<div class="lock-size fixed-element" layout="row" layout-align="center center" ng-cloak ng-if="isNotViewer">\r\n    <md-fab-speed-dial md-open="buttonsOpened" md-direction="up"\r\n                       class="md-scale">\r\n        <md-fab-trigger>\r\n            <md-button aria-label="menu" class="md-fab md-accent">\r\n                <md-icon md-svg-src="{{buttonsOpened ? \'close\' : \'menu\'}}"></md-icon>\r\n            </md-button>\r\n        </md-fab-trigger>\r\n        <md-fab-actions>\r\n            \x3c!-- Save button --\x3e\r\n            <md-button aria-label="save" class="md-fab md-mini"\r\n                       ng-click="save()">\r\n                <md-tooltip md-direction="left" md-visible="false"\r\n                            md-autohide="true">\r\n                    Save\r\n                </md-tooltip>\r\n                <md-icon md-svg-src="save" aria-label="save"></md-icon>\r\n            </md-button>\r\n            \x3c!-- upload files button --\x3e\r\n            <md-button aria-label="upload_files" class="md-fab md-mini"\r\n                       ng-click="filesUpload()">\r\n                <md-tooltip md-direction="left" md-visible="false"\r\n                            md-autohide="true">\r\n                    Upload Files\r\n                </md-tooltip>\r\n                <md-icon md-svg-src="file_upload" aria-label="upload_files"></md-icon>\r\n            </md-button>\r\n            \x3c!-- request quote button --\x3e\r\n            <md-button aria-label="request_quote" class="md-fab md-mini"\r\n                       ng-click="requestPOQuote(\'Quote\')">\r\n                <md-tooltip md-direction="left" md-visible="false"\r\n                            md-autohide="true">\r\n                    Request Quote\r\n                </md-tooltip>\r\n                <md-icon md-svg-src="request" aria-label="request_quote"></md-icon>\r\n            </md-button>\r\n            \x3c!-- receive quote button --\x3e\r\n            <md-button aria-label="receive_quote" class="md-fab md-mini"\r\n                       ng-click="receiveQuote()" ng-if="data.status !== \'Open\'">\r\n                <md-tooltip md-direction="left" md-visible="false"\r\n                            md-autohide="true">\r\n                    Receive Quote\r\n                </md-tooltip>\r\n                <md-icon md-svg-src="receive" aria-label="receive_quote"></md-icon>\r\n            </md-button>\r\n            \x3c!-- request po button --\x3e\r\n            <md-button aria-label="request_po" class="md-fab md-mini"\r\n                       ng-click="requestPOQuote(\'PO\')" ng-if="data.status !== \'Open\' && data.status !== \'Quote Requested\'">\r\n                <md-tooltip md-direction="left" md-visible="false"\r\n                            md-autohide="true">\r\n                    Request PO\r\n                </md-tooltip>\r\n                <md-icon md-svg-src="file_simple" aria-label="request_po"></md-icon>\r\n            </md-button>\r\n            \x3c!-- receive po button --\x3e\r\n            <md-button aria-label="receive_po" class="md-fab md-mini"\r\n                       ng-click="receivePO()" ng-if="data.status === \'PO Requested\' || data.status === \'PO Received\'">\r\n                <md-tooltip md-direction="left" md-visible="false"\r\n                            md-autohide="true">\r\n                    Receive PO\r\n                </md-tooltip>\r\n                <md-icon md-svg-src="file" aria-label="receive_po"></md-icon>\r\n            </md-button>\r\n            \x3c!-- delete button --\x3e\r\n            <md-button aria-label="delete" class="md-fab md-mini"\r\n                       ng-click="del()">\r\n                <md-tooltip md-direction="left" md-visible="false"\r\n                            md-autohide="true">\r\n                    Delete\r\n                </md-tooltip>\r\n                <md-icon md-svg-src="delete_forever" aria-label="delete"></md-icon>\r\n            </md-button>\r\n            \x3c!-- back button --\x3e\r\n            <md-button aria-label="back" class="md-fab md-mini"\r\n                       ng-click="back()">\r\n                <md-tooltip md-direction="left" md-visible="false"\r\n                            md-autohide="true">\r\n                    Back to List\r\n                </md-tooltip>\r\n                <md-icon md-svg-src="reply" aria-label="back"></md-icon>\r\n            </md-button>\r\n        </md-fab-actions>\r\n    </md-fab-speed-dial>\r\n</div>\r\n'),n.put("app/Reports/ReportList.html",'<section class="md-inline-form padding-right-half">\r\n    <div kendo-grid="reportsGrid" class="checkbox-grid no-multilines" k-on-data-bound="dataBound(reportsGrid)" k-on-pdf-export="pdfExport()" options="options"></div>\r\n</section>\r\n'),n.put("app/Room Templates/RoomTemplateDetails.html",'<md-tabs md-border-bottom md-selected="selectedTab">\r\n    <md-tab label="Details">\r\n        <form name="detailsForm" id="detailsForm" class="md-inline-form md-block">\r\n            <aw-accordion label="Information" expanded="true">\r\n                <section layout-gt-xs="row" layout-fill layout-align="space-between bottom" class="md-block">\r\n                    <md-input-container class="md-block" flex-gt-xs="30">\r\n                        <label>Department Type</label>\r\n                        <md-select ng-model="room_template.department_type" aria-label="department type" required>\r\n                            <md-option ng-repeat="department_type in department_types" ng-value="department_type" ng-selected="department_type.department_type_id == room_template.department_type_id_template">\r\n                                {{department_type.description}}\r\n                            </md-option>\r\n                        </md-select>\r\n                        \x3c!--<aw-combo-box ng-model="room_template.department_type" name="department_type" controller-name="departmentType" params="controllerParams" label="Department Type *" text-property="description" id-property="department_type_id" selected-id="room_template.department_type_id" selected-item="room_template.department_type" selected-domain="room_template.department_type_domain_id" domain-property="domain_id" required></aw-combo-box>--\x3e\r\n                        <div ng-messages="detailsForm.department_type.$error">\r\n                            <div ng-message="required">Department type is required</div>\r\n                        </div>\r\n                    </md-input-container>\r\n                    <md-input-container class="md-block" flex-gt-xs="30">\r\n                        <label>Name</label>\r\n                        <input name="description" ng-model="room_template.drawing_room_name" required>\r\n                        <div ng-messages="detailsForm.description.$error">\r\n                            <div ng-message="required">Template name is required</div>\r\n                        </div>\r\n                    </md-input-container>\r\n                    <md-input-container class="md-block" flex-gt-xs="30">\r\n                        <label>Scope</label>\r\n                        <md-select ng-model="room_template.project" aria-label="scope">\r\n                            <md-option value="null">(Global)</md-option>\r\n                            <md-option ng-repeat="project in projects" ng-value="project" ng-selected="project.project_id == room_template.project_id_template">\r\n                                {{project.project_description}}\r\n                            </md-option>\r\n                        </md-select>\r\n                    </md-input-container>\r\n                    \x3c!--<md-input-container class="md-block" flex-gt-xs="30">\r\n                        <aw-combo-box name="project" ng-model="room_template.project" controller-name="projects" params="controllerParams" text-property="project_description" id-property="project_id" selected-item="room_template.project" label="Scope" order-by="project_description"></aw-combo-box>\r\n                    </md-input-container>--\x3e\r\n                </section>\r\n                <md-input-container class="md-block">\r\n                    <label>Comment</label>\r\n                    <textarea ng-model="room_template.comment" name="comment" columns="1" maxlength="1000" md-maxlength="1000" rows="1"></textarea>\r\n                </md-input-container>\r\n            </aw-accordion>\r\n        </form>\r\n    </md-tab>\r\n    <md-tab label="Assets" ng-if="room_template">\r\n        <section class="padding-bottom padding-left padding-right">\r\n            <aw-asset-inventory-grid is-template="true" is-global-template="isGlobalTemplate" filter-action-button="true" hide-toolbar="!can_modify" grid-height-subtract="210" params="params" emit-buttons="setAssetsButtons(value, \'assets\')"></aw-asset-inventory-grid>\r\n        </section>\r\n    </md-tab>\r\n\r\n    <md-tab label="Linked Rooms" ng-if="room_template.project">\r\n        <section class="padding-bottom padding-left padding-right">\r\n            <div class="k-grid" kendo-grid="linkedTemplatesListGrid" options="options" k-on-data-bound="dataBound()"></div>\r\n        </section>\r\n    </md-tab>\r\n</md-tabs>\r\n\r\n\x3c!-- FAB Button --\x3e\r\n<md-fab-speed-dial md-open="fab[0].open" md-direction="up"\r\n                   class="md-fling" ng-cloak ng-if="selectedTab === 0">\r\n    <md-fab-trigger>\r\n        <md-button aria-label="menu" class="md-fab md-accent">\r\n            <md-icon md-svg-src="{{fab[0].open ? \'close\' : \'menu\'}}"></md-icon>\r\n        </md-button>\r\n    </md-fab-trigger>\r\n    <md-fab-actions>\r\n        <div ng-repeat="button in fab[0].buttons" ng-if="button.show">\r\n            <md-button aria-label="{{button.label}}" class="md-fab md-mini"\r\n                       ng-click="button.click()">\r\n                <md-tooltip md-direction="left" md-visible="false"\r\n                            md-autohide="true">\r\n                    {{button.label}}\r\n                </md-tooltip>\r\n                <md-icon md-svg-src="{{button.icon}}" aria-label="{{button.label}}"></md-icon>\r\n            </md-button>\r\n        </div>\r\n    </md-fab-actions>\r\n</md-fab-speed-dial>\r\n\r\n<md-fab-speed-dial md-open="fab[1].open" md-direction="up"\r\n                   class="md-fling" ng-cloak ng-if="selectedTab === 1">\r\n    <md-fab-trigger>\r\n        <md-button aria-label="menu" class="md-fab md-accent">\r\n            <md-icon md-svg-src="{{fab[1].open ? \'close\' : \'menu\'}}"></md-icon>\r\n        </md-button>\r\n    </md-fab-trigger>\r\n    <md-fab-actions>\r\n        <div ng-repeat="button in fab[1].buttons" ng-if="button.show">\r\n            <md-button aria-label="{{button.label}}" class="md-fab md-mini"\r\n                       ng-click="button.click.func(button.click.params)">\r\n                <md-tooltip md-direction="left" md-visible="false"\r\n                            md-autohide="true">\r\n                    {{button.label}}\r\n                </md-tooltip>\r\n                <md-icon md-svg-src="{{button.icon}}" aria-label="{{button.label}}"></md-icon>\r\n            </md-button>\r\n        </div>\r\n    </md-fab-actions>\r\n</md-fab-speed-dial>\r\n\x3c!-- FAB Button --\x3e\r\n'),n.put("app/Room Templates/RoomTemplatesList.html",'<section layout="column" ng-cloak class="md-inline-form padding-left padding-right">\r\n    <section layout="row" ng-cloak class="grid-toolbar grid-toolbar-padding">\r\n        <section layout="row" layout-align="start center" flex="90">\r\n            <button class="md-icon-button md-button" ng-click="addTemplate()">\r\n                <i class="material-icons">add</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Add Template</md-tooltip>\r\n            </button>\r\n            <button class="md-icon-button md-button" ng-click="showDetails()">\r\n                <i class="material-icons">edit</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Edit Template</md-tooltip>\r\n            </button>\r\n            <button class="md-icon-button md-button" ng-click="delete()">\r\n                <i class="material-icons">delete</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Delete Template(s)</md-tooltip>\r\n            </button>\r\n        </section>\r\n        <section layout="row" layout-align="center center" flex="50" layout-fill>\r\n            <md-input-container class="md-block no-md-errors-spacer" style="margin: 0px;" flex="90">\r\n                <label>Search</label>\r\n                <input name="search" ng-model="searchBoxValue" ng-enter="search(searchBoxValue)">\r\n            </md-input-container>\r\n            <button class="md-icon-button md-button gray-color" style="bottom: -0.5em; padding-left 0px; margin-left 0px" ng-click="clearAllFilters()">\r\n                <i class="material-icons">delete_sweep</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Clear all filters</md-tooltip>\r\n            </button>\r\n        </section>\r\n        <section layout="row" flex="10" layout-align="end start">\r\n            <button class="md-icon-button md-button" ng-click="collapseExpand(templatesListGrid)">\r\n                <md-icon md-svg-icon="collapse_expand"></md-icon>\r\n                <md-tooltip md-direction="bottom">Collapse/Expand All</md-tooltip>\r\n            </button>\r\n        </section>\r\n    </section>\r\n    <div class="checkbox-grid" kendo-grid="templatesListGrid" options="options" k-on-data-bound="dataBound()">\r\n    </div>\r\n    \x3c!-- FAB button --\x3e\r\n    \x3c!--<div class="lock-size" layout="row" layout-align="center center" ng-cloak>\r\n        <md-fab-speed-dial>\r\n            <md-fab-trigger>\r\n                <md-button aria-label="add_template" class="md-fab md-accent" ng-click="addTemplate()">\r\n                    <md-icon md-svg-src="more"></md-icon>\r\n                    <md-tooltip md-direction="left">Add Template</md-tooltip>\r\n                </md-button>\r\n            </md-fab-trigger>\r\n        </md-fab-speed-dial>\r\n    </div>--\x3e\r\n</section>\r\n\r\n\x3c!--<style parse-style>\r\n    .k-grid-content {\r\n        max-height: {{gridHeight - 150}}px;\r\n        min-height: {{gridHeight - 150}}px;\r\n    }\r\n</style>--\x3e'),n.put("app/toastr/toastr-template.html",'<md-toast style="background-color: black">\r\n    <span flex>"OK"</span>\r\n</md-toast>'),n.put("app/Subscription/Notice.html",'<div layout="column" layout-align="center center">\r\n    <div layout="column" layout-align="center center" class="login-logo">\r\n        </br></br></br></br>\r\n        <img id="Image1" src="images/branding/logo.png" style="border-width:0px;">\r\n        <br />\r\n        <span>\r\n            <h1>Email sent successfully</h1>\r\n\r\n        </span>\r\n        <h2>Thanks for your interest in Audaxware!</h2>\r\n        <p>Your success is our success and we are commited to support you during your journey. We will analyze your request and send you an email with the instructions to access your free trial shortly.</p>\r\n        <p> Feel free to <a href="https://www.audaxware.com/contactus">contact us</a> if you have any questions in the meantime.</p>\r\n    </div>\r\n</div>'),n.put("app/Subscription/Subscription.html",'<script>\r\n    $("#maskedtextbox").kendoMaskedTextBox({\r\n        mask: "(000) 000-0000"\r\n    });\r\n<\/script>\r\n\r\n\r\n<div layout="column" layout-align="center center">\r\n    <form name="requestSubscriptionForm" id="requestSubscriptionForm">\r\n        <br /><br />      \r\n        <div layout="column" layout-align="center center" class="login-logo">\r\n            <img id="Image1" src="images/branding/logo.png" style="border-width:0px;">\r\n            <span>\r\n                planning - procurement - logistics\r\n            </span>\r\n            <br/>\r\n            <span>\r\n                <h2>Request Subscription</h2>\r\n            </span>\r\n        </div>\r\n        <md-input-container class="md-block">\r\n            <label>Name</label>\r\n            <input name="name" ng-model="data.name" maxlength="200" property="name" required>\r\n            <div ng-messages="requestSubscriptionForm.name.$error">\r\n                <div ng-message="required">Name is required</div>\r\n            </div>\r\n        </md-input-container>\r\n        <md-input-container class="md-block">\r\n            <label>Email</label>\r\n            <input type="email" name="email" ng-model="data.email" maxlength="200" required>\r\n            <div ng-messages="requestSubscriptionForm.user_email.$error">\r\n                <div ng-message="required">Email is required</div>\r\n                <div ng-message="email">Not a valid email</div>\r\n            </div>\r\n        </md-input-container>\r\n        <md-input-container class="md-block">\r\n            <label>Phone Number</label>\r\n            <input id="maskedtextbox" name="phone_number" ng-model="data.phone_number">\r\n            <div ng-messages="requestSubscriptionForm.phone.$error">\r\n                <div ng-message="required">Phone number is required</div>\r\n                <div ng-message="number">Only numbers</div>\r\n            </div>\r\n        </md-input-container>\r\n        <md-input-container class="md-block">\r\n            <label>Company Name</label>\r\n            <input name="company" ng-model="data.company" maxlength="200" property="name">\r\n        </md-input-container>\r\n        <md-input-container class="md-block">\r\n            <label>Message</label>\r\n            <textarea ng-model="data.message" name="message" columns="1" md-maxlength="2000" maxlength="2000" rows="1"></textarea>\r\n        </md-input-container>\r\n        <div layout="column" layout-align="center center">\r\n            <md-button class="md-primary" ng-click="send()">Send</md-button>\r\n        </div>\r\n    </form>\r\n\r\n</div>'),n.put("app/Users/UsersList.html",'<section layout="column" ng-cloack class="md-inline-form padding-left-half padding-right-half">\r\n    <div class="checkbox-grid" kendo-grid="usersGrid" options="options" k-on-data-bound="dataBound()">\r\n    </div>\r\n</section>\r\n'),n.put("app/Vendor/VendorDetails.html",'<section layout="column" ng-cloak class="md-inline-form padding-bottom padding-top-half">\r\n    <form name="detailsForm" id="detailsForm" novalidate>\r\n        <aw-accordion label="Information" expanded="true">\r\n            <section class="padding-bottom-half">\r\n                <section layout-gt-sm="row" layout-align-gt-sm="space-between center">\r\n                    <section flex-gt-sm="45">\r\n                        <md-input-container class="md-block">\r\n                            <label>Name</label>\r\n                            <input name="name" ng-model="vendor.name" required>\r\n                            <div ng-messages="detailsForm.name.$error">\r\n                                <div ng-message="required">Vendor name is required</div>\r\n                            </div>\r\n                        </md-input-container>\r\n                        <md-input-container class="md-block">\r\n                            <label>Territory</label>\r\n                            <input name="territory" ng-model="vendor.territory">\r\n                        </md-input-container>\r\n                    </section>\r\n                    <section flex-gt-sm="45">\r\n                        <md-input-container class="md-block">\r\n                            <label>Hospitals</label>\r\n                            <input name="hospitals" ng-model="vendor.hospitals">\r\n                            <div ng-messages="detailsForm.hospitals.$error"></div>\r\n                        </md-input-container>\r\n                        <md-input-container class="md-block">\r\n                            <label>Comment</label>\r\n                            <textarea ng-model="vendor.comment" name="comment" columns="1" md-maxlength="1000" maxlength="1000" rows="1"></textarea>\r\n                        </md-input-container>\r\n                    </section>\r\n                </section>\r\n                <md-card-content layout-gt-xs="row" layout="column" layout-align="start center" layout-align-xs="center center">\r\n                    <section flex-gt-xs="45">\r\n                        <label><strong>Data Added: </strong></label>\r\n                        <span>{{vendor.date_added | date:\'MM/dd/yyyy\'}}</span>\r\n                    </section>\r\n                    <section style="margin: 1em 0px;"></section>\r\n                    <section flex-gt-xs="45">\r\n                        <label><strong>Added by: </strong></label>\r\n                        <span>{{vendor.added_by}}</span>\r\n                    </section>\r\n                </md-card-content>\r\n            </section>\r\n        </aw-accordion>\r\n        <aw-accordion label="Contacts">\r\n            <aw-contacts-grid ng-if="vendor" can-edit="true" contact-type="vendor" params="vendor"></aw-contacts-grid>\r\n        </aw-accordion>\r\n        <aw-accordion label="Manufacturers">\r\n            <section layout="column" ng-cloack class="md-inline-form padding-bottom padding-top" ng-controller="VendorManufacturersGridCtrl">\r\n                <div kendo-grid="manufacturersGrid" class="no-header-padding primary-color-header" options="options" k-on-data-bound="dataBound()">\r\n                </div>\r\n            </section>\r\n        </aw-accordion>\r\n    </form>\r\n    \x3c!-- FAB button --\x3e\r\n    <div class="lock-size" layout="row" layout-align="center center" ng-cloak>\r\n        <md-fab-speed-dial md-open="buttons.state" md-direction="up"\r\n                           class="md-fling">\r\n            <md-fab-trigger>\r\n                <md-button aria-label="menu" class="md-fab md-accent">\r\n                    <md-icon md-svg-src="{{buttons.state ? \'close\' : \'menu\'}}"></md-icon>\r\n                </md-button>\r\n            </md-fab-trigger>\r\n            <md-fab-actions>\r\n                <div ng-repeat="button in buttons" ng-if="!button.showContidion || canModify">\r\n                    <md-button aria-label="{{button.label}}" class="md-fab md-mini"\r\n                               ng-click="button.click()">\r\n                        <md-tooltip md-direction="left" md-visible="tooltipVisible"\r\n                                    md-autohide="false">\r\n                            {{button.label}}\r\n                        </md-tooltip>\r\n                        <md-icon md-svg-src="{{button.icon}}" aria-label="{{button.label}}"></md-icon>\r\n                    </md-button>\r\n                </div>\r\n            </md-fab-actions>\r\n        </md-fab-speed-dial>\r\n    </div>\r\n</section>\r\n\r\n<style >\r\n     .k-grid-content {\r\n        height: 200px;\r\n    }\r\n</style>'),n.put("app/Vendor/VendorsList.html",'<section layout="column" ng-cloak class="md-inline-form">\r\n    <section layout="row" ng-cloak layout-wrap class="grid-toolbar padding-bottom padding-top-half">\r\n        <section layout="row" layout-align="start center" flex="90">\r\n            <md-button class="md-icon-button md-button" ng-click="openAddModal()">\r\n                <i class="material-icons">add</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Add Vendor</md-tooltip>\r\n            </md-button>\r\n            <button class="md-icon-button md-button" ng-click="showDetails()">\r\n                <i class="material-icons">edit</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Edit vendor</md-tooltip>\r\n            </button>\r\n            <button class="md-icon-button md-button" ng-click="delete()">\r\n                <i class="material-icons">delete</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Delete Vendor(s)</md-tooltip>\r\n            </button>\r\n        </section>\r\n        <section layout="row" flex="10" layout-align="end start">\r\n            <button class="md-icon-button md-button" ng-click="collapseExpand(vendorsListGrid)">\r\n                <md-icon md-svg-icon="collapse_expand"></md-icon>\r\n                <md-tooltip md-direction="bottom">Collapse/Expand All</md-tooltip>\r\n            </button>\r\n        </section>\r\n    </section>\r\n    <div class="checkbox-grid" kendo-grid="vendorsListGrid" options="options" k-on-data-bound="dataBound()">\r\n    </div>\r\n    \x3c!-- FAB button --\x3e\r\n    \x3c!--<div class="lock-size" layout="row" layout-align="center center" ng-cloak>\r\n        <md-fab-speed-dial>\r\n            <md-fab-trigger>\r\n                <md-button aria-label="add_vendor" class="md-fab md-accent" ng-click="openAddModal()">\r\n                    <md-icon md-svg-src="more"></md-icon>\r\n                    <md-tooltip md-direction="left">Add Vendor</md-tooltip>\r\n                </md-button>\r\n            </md-fab-trigger>\r\n        </md-fab-speed-dial>\r\n    </div>--\x3e\r\n</section>\r\n\r\n\x3c!--<style parse-style>\r\n     .k-grid-content {\r\n        max-height:{{grid_content_height - 160}}px;\r\n        min-height:{{grid_content_height - 160}}px;\r\n    }\r\n</style>--\x3e'),n.put("app/Assets/Modals/AddAsset.html",'<md-dialog aria-label="addNewAsset" flex-gt-xs="45">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Add new asset\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak>\r\n        <form name="addNewAssetForm" id="addNewAssetForm">\r\n            <section layout-gt-xs="row" layout-align="space-between start">\r\n                <md-input-container class="md-block" flex-gt-xs="60">\r\n                    <aw-autocomplete \r\n                        name="category" \r\n                        ng-model="selectedCategory" \r\n                        id-property="subcategory_id" \r\n                        text-property="description" \r\n                        controller-name="categorySubcategory" \r\n                        params="categoryControllerParams" \r\n                        selected-item="selectedCategory" \r\n                        label="Category and Subcategory *" required></aw-autocomplete>\r\n                    <div ng-messages="addNewAssetForm.category.$error">\r\n                        <div ng-message="required">Category and Subcategory is required</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <section flex-gt-xs="35"\r\n                         aw-combo-box\r\n                         ng-model="asset.default_resp"\r\n                         name="resp"\r\n                         form="addNewAssetForm"\r\n                         query-Controller-action="New"\r\n                         controller-name="responsability"\r\n                         text-property="name"\r\n                         id-property="name"\r\n                         no-domain-property\r\n                         selected-id="asset.default_resp"\r\n                         params="controllerParams"\r\n                         label="Resp"\r\n                         order-by="domain_id"\r\n                         required></section>\r\n            </section>\r\n            <md-input-container class="md-block">\r\n                <label>Suffix</label>\r\n                <input name="description" ng-model="asset.asset_suffix">\r\n            </md-input-container>\r\n            <section layout-gt-xs="row" layout-align="space-between start">\r\n                \x3c!--<md-input-container class="md-block" flex-gt-xs="65">\r\n                    <label>Code</label>\r\n                    <md-select name="asset_code" ng-model="asset.asset_code" required>\r\n                        <md-option ng-repeat="code in assetCodes" ng-value="code.prefix">\r\n                            {{code.description}} -- ({{code.prefix}})\r\n                        </md-option>\r\n                    </md-select>\r\n                    <div ng-messages="addNewAssetForm.asset_code.$error">\r\n                        <div ng-message="required">Code is required</div>\r\n                    </div>\r\n                </md-input-container>--\x3e\r\n                <md-input-container class="md-block" flex-gt-xs="60">\r\n                    <aw-autocomplete name="asset_code"\r\n                                     ng-model="asset.asset_code"\r\n                                     id-property="prefix"\r\n                                     domain-property="domain_id"\r\n                                     text-property="description"\r\n                                     text-property-2="prefix"\r\n                                     text-property-separator="--"\r\n                                     controller-name="assetCodes"\r\n                                     params="controllerParams"\r\n                                     selected-item="asset.asset_code"\r\n                                     label="Code *" required></aw-autocomplete>\r\n                    <div ng-messages="addNewAssetForm.asset_code.$error">\r\n                        <div ng-message="required">Code is required</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-xs="30">\r\n                    <label>Model No</label>\r\n                    <input name="model_number" ng-model="asset.serial_number">\r\n                    <div ng-messages="addNewAssetForm.model_number.$error"></div>\r\n                </md-input-container>\r\n            </section>\r\n            <section layout-gt-xs="row" layout-align="space-between start">\r\n                <md-input-container class="md-block" flex-gt-xs="65">\r\n                    <aw-autocomplete name="manufacturer" ng-model="asset.manufacturer" add-option="true" id-property="manufacturer_id" text-property="manufacturer_description" controller-name="manufacturer" params="controllerParams" max="100" selected-item="asset.manufacturer" label="Manufacturer *" required></aw-autocomplete>\r\n                    <div ng-messages="addNewAssetForm.manufacturer.$error">\r\n                        <div ng-message="required">Manufacturer is required</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-xs="30">\r\n                    <label>Model Name</label>\r\n                    <input name="model_name" ng-model="asset.serial_name">\r\n                </md-input-container>\r\n            </section>\r\n            \r\n            <section layout-gt-xs="row" layout-align="space-between start">\r\n                <md-input-container class="md-block" flex-gt-xs="30">\r\n                    <label>Min $</label>\r\n                    <input name="min" ng-model="asset.min_cost" aw-currency>\r\n                    <div ng-messages="addNewAssetForm.min.$error">\r\n                        <div ng-message="currency">Only money values are allowed</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-xs="30">\r\n                    <label>Max $</label>\r\n                    <input name="max" ng-model="asset.max_cost" aw-currency>\r\n                    <div ng-messages="addNewAssetForm.max.$error">\r\n                        <div ng-message="currency">Only money values are allowed</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <section flex-gt-xs="30"\r\n                         aw-combo-box\r\n                         name="measure"\r\n                         form="addNewAssetForm"\r\n                         ng-model="asset.UOM" \r\n                         controller-name="assetMeasurement" \r\n                         params="controllerParams" \r\n                         text-property="eq_unit_desc" \r\n                         id-property="eq_unit_measure_id" \r\n                         selected-item="asset.UOM" \r\n                         selected-id="asset.eq_measurement_id" \r\n                         label="Unit of Measure" \r\n                         required></section>\r\n            </section>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row" ng-cloak>\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="save()">Save</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Assets/Modals/AddAssetOptionColor.html",'<md-dialog aria-label="add option" class="max-width-50 width-50">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        {{isEdit ? \'Edit\' : \'Add\'}} Option\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak>\r\n        <aw-add-option option="option" ctrl="optionCtrl" asset-info="params"></aw-add-option>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row" layout-wrap ng-cloak>\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="saveOption()">{{isEdit ? \'Save\' : \'Add\'}}</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Assets/Modals/AddAssetToAWConfirmation.html",'<md-dialog aria-label="add_asset" flex-gt-xs="35">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Request to Add Asset to Audaxware\r\n    </md-toolbar>\r\n    <form name="detailsForm" id="detailsForm">\r\n        <md-dialog-content style="padding-top: 2em;" layout-align="center center" ng-cloak>\r\n            <md-input-container class="md-block" flex="100">\r\n                {{ctrl.confirmationMsg}}\r\n            </md-input-container>\r\n            <md-input-container class="md-block" flex="100">\r\n                <label>Comment (Fill only if you are going to deny the request)</label>\r\n                <textarea ng-model="ctrl.comment" name="comment" md-maxlength="1000" rows="1" columns="1"></textarea>\r\n                <div ng-messages="detailsForm.comment.$error" role="alert">\r\n                    <div ng-message="md-maxlength">Only 1000 characters are allowed</div>\r\n                </div>\r\n            </md-input-container>\r\n        </md-dialog-content>\r\n     </form>\r\n    <md-dialog-actions>\r\n        <md-button class="md-primary" ng-click="ctrl.close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="ctrl.reject()">Reject</md-button>\r\n        <md-button class="md-primary" ng-click="ctrl.accept()">Accept</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Assets/Modals/AddCode.html",'<md-dialog aria-label="addAssetCode" ng-cloak flex-gt-xs="30">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Add Asset Code\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloack>\r\n        <form name="addCodeForm" id="addCodeForm">\r\n            <md-input-container class="md-block">\r\n                <label>Prefix *</label>\r\n                <input name="prefix" ng-model="code.prefix" maxlength="3" required aw-exists="{{anotherCodes}}" property="prefix">\r\n                <div ng-messages="addCodeForm.prefix.$error">\r\n                    <div ng-message="required">Code prefix is required</div>\r\n                    <div ng-message="exists">Prefix already exists</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label>Description *</label>\r\n                <input name="description" ng-model="code.description" maxlength="50" required>\r\n                <div ng-messages="addCodeForm.description.$error">\r\n                    <div ng-message="required">Code description is required</div>\r\n                </div>\r\n            </md-input-container>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="add()">Add</md-button>\r\n        <md-button class="md-primary" ng-click="add(true)">Add and Close</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Assets/Modals/AddJSN.html",'<md-dialog aria-label="addNewJSN" flex-gt-xs="45">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Add new JSN\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak>\r\n        <form name="addNewJSNForm" id="addNewJSNForm">\r\n            <aw-jsn-form asset="asset" new="{{true}}"></aw-jsn-form>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row" ng-cloak>\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="save()">Save</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>\r\n'),n.put("app/Assets/Modals/AssignProject.html",'<md-dialog aria-label="make available to project" ng-cloak flex-gt-xs="30">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Assign Project\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloack>\r\n        <form name="assignProjectForm" id="assignProjectForm">\r\n            <md-input-container class="md-block">\r\n                <label>Project</label>\r\n                <md-select ng-model="projectSelected" required>\r\n                    <md-option name="project" ng-repeat="proj in projects" ng-value="proj">\r\n                        {{proj.project_description}}\r\n                    </md-option>\r\n                    <div ng-messages="assignProjectForm.project.$error">\r\n                        <div ng-message="required">Project is required</div>\r\n                    </div>\r\n            </md-input-container>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="assign()">Assign</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Assets/Modals/AssignVendor.html",'<md-dialog aria-label="assign vendor" flex-gt-xs="30">\r\n    <md-toolbar layout="row" layout-align="center center" ng-cloak>\r\n        Assign Vendor\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak>\r\n        <form name="assignVendorForm" id="assignVendorForm">\r\n            <md-input-container class="md-block">\r\n                <aw-autocomplete name="vendor" ng-model="asset_vendor" add-option="true" id-property="vendor_id" text-property="name" controller-name="vendor" params="controllerParams" max="100" selected-item="asset_vendor" selected-id="asset_vendor.vendor_id" label="Vendor *" watch-object="true" watched-object-id="asset_id" required></aw-autocomplete>\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label>Model No</label>\r\n                <input name="model_number" ng-model="model_number" maxlength="50" />\r\n            </md-input-container>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row" ng-cloak>\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="assign()">Assign</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Assets/Modals/CustomizedDifferences.html",'<md-dialog aria-label="differences" flex-gt-xs="50">\r\n    <md-toolbar layout="row" layout-align="center center" ng-cloak>\r\n        Customized Asset Differences\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak>\r\n        <section class="md-inline-form">\r\n            <section layout="row" layout-align="end start" layout-wrap class="grid-toolbar">\r\n                <button class="md-icon-button md-button" ng-click="collapseExpand(differencesGrid)">\r\n                    <md-icon md-svg-icon="collapse_expand"></md-icon>\r\n                    <md-tooltip md-direction="bottom">Collapse/Expand All</md-tooltip>\r\n                </button>\r\n            </section>\r\n            <div kendo-grid="differencesGrid" options="options" k-on-data-bound="dataBound(differencesGrid)"></div>\r\n        </section>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row" ng-cloak>\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>\r\n\r\n\r\n<style parse-style>\r\n    .k-grid-content { \r\n        max-height:{{gridHeight - 150}}px;\r\n        min-height:{{gridHeight - 150}}px;\r\n    }\r\n</style>'),n.put("app/Assets/Modals/EditAssetCode.html",'<md-dialog aria-label="addNewAsset" flex-gt-xs="25">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Edit Asset Code\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak style="height:102px">\r\n        <form name="addNewAssetForm" id="addNewAssetForm">\r\n            <section layout-gt-xs="row" layout-align="space-between start">\r\n                <md-input-container class="md-block" flex-gt-xs="90">\r\n                    <aw-autocomplete name="asset_code"\r\n                                     ng-model="asset.asset_code"\r\n                                     id-property="prefix"\r\n                                     domain-property="domain_id"\r\n                                     text-property="description"\r\n                                     text-property-2="prefix"\r\n                                     text-property-separator="--"\r\n                                     controller-name="assetCodes"\r\n                                     params="controllerParams"\r\n                                     selected-item="asset.asset_code"\r\n                                     label="Code *" required></aw-autocomplete>\r\n                    <div ng-messages="addNewAssetForm.asset_code.$error">\r\n                        <div ng-message="required">Code is required</div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row" ng-cloak>\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="save()">Save</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Assets/Modals/RequestToAddToAudaxware.html",'<md-dialog aria-label="requestToAddAW" flex-gt-xs="35">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Request to Add Asset to AudaxWare\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak>\r\n        <form name="requestToAddAW" id="requestToAddAW">\r\n            <section layout-gt-xs="row" layout-align="space-between center">\r\n                <md-input-container class="md-block" flex-gt-xs="90" ng-if="ctrl.custom">\r\n                    <label>Type</label>\r\n                    <md-select name="requestType" ng-model="ctrl.data.requestType">\r\n                        <md-option ng-value="1" ng-selected="true">Modify asset {{ctrl.asset_code}}</md-option>\r\n                        <md-option ng-value="2">New asset</md-option>\r\n                    </md-select>\r\n                    <div ng-messages="requestToAddAW.requestType.$error">\r\n                        <div ng-message="required">Type is required</div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n            <section layout-gt-xs="row" layout-align="space-between start">\r\n                <md-input-container class="md-block" flex-gt-xs="90">\r\n                    <label>Comment</label>\r\n                    <textarea ng-model="ctrl.data.comment" name="comment" md-maxlength="1000" maxlength="1000" rows="1" columns="1"></textarea>\r\n                </md-input-container>\r\n            </section>\r\n\r\n</form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row" ng-cloak>\r\n        <md-button class="md-primary" ng-click="ctrl.close()">Cancel</md-button>\r\n        <md-button class="md-primary" ng-click="ctrl.save()">Request</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Assets/Modals/UploadAssetFiles.html",'<md-dialog aria-label="make available to project" ng-cloak flex-gt-xs="30">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Upload Files\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloack>\r\n        <form name="uploadForm" id="uploadForm" layout="column" layout-align="space-between none">\r\n            <section ng-show="!show_firefox">\r\n                <md-input-container class="md-block">\r\n                    <label for="cutsheet">Cutsheet (pdf)</label>\r\n                    <input name="cutsheet" id="cutsheet" ngf-select ng-value="files.cutsheet.name" ng-model="files.cutsheet" accept=".pdf" aw-upload-file-size="fileSizeLimit"/>\r\n                    <div ng-messages="uploadForm.cutsheet.$error">\r\n                        <div ng-message="awUploadFileSize">The file size limit is {{fileSizeLimit}}Mb</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block">\r\n                    <label for="photo">Photo (jpg)</label>\r\n                    <input name="photo" id="photo" ngf-select ng-value="files.photo.name" ng-model="files.photo" accept="image/jpeg" aw-upload-file-size="fileSizeLimit"/>\r\n                    <div ng-messages="uploadForm.photo.$error">\r\n                        <div ng-message="awUploadFileSize">The file size limit is {{fileSizeLimit}}Mb</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block">\r\n                    <label for="cadblock">CAD Block (dwg)</label>\r\n                    <input name="cadblock" id="cadblock" ngf-select ng-value="files.cadblock.name" ng-model="files.cadblock" accept=".dwg" aw-upload-file-size="fileSizeLimit"/>\r\n                    <div ng-messages="uploadForm.cadblock.$error">\r\n                        <div ng-message="awUploadFileSize">The file size limit is {{fileSizeLimit}}Mb</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block">\r\n                    <label for="revit">Revit (rvt, rft, rfa)</label>\r\n                    <input name="revit" id="revit" ngf-select ng-value="files.revit.name" ng-model="files.revit" accept=".rvt,.rft,.rfa" aw-upload-file-size="fileSizeLimit"/>\r\n                    <div ng-messages="uploadForm.revit.$error">\r\n                        <div ng-message="awUploadFileSize">The file size limit is {{fileSizeLimit}}Mb</div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n            <section ng-show="show_firefox">\r\n                <md-input-container class="md-block">\r\n                    <label for="cutsheetF" style="padding-bottom:28px">Cutsheet (pdf)</label>\r\n                    <input type="file" name="cutsheetF" id="cutsheetF" accept=".pdf" ng-model="files.cutsheet" aw-upload-file-size="fileSizeLimit" firefox/>\r\n                    <div ng-messages="uploadForm.cutsheetF.$error">\r\n                        <div ng-message="awUploadFileSize">The file size limit is {{fileSizeLimit}}Mb</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block">\r\n                    <label for="cadblockF" style="padding-bottom:28px">CAD Block (dwg)</label>\r\n                    <input type="file" name="cadblockF" id="cadblockF" accept=".dwg" ng-model="files.cadblock" aw-upload-file-size="fileSizeLimit" firefox/>\r\n                    <div ng-messages="uploadForm.cadblockF.$error">\r\n                        <div ng-message="awUploadFileSize">The file size limit is {{fileSizeLimit}}Mb</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block">\r\n                    <label for="photoF" style="padding-bottom:28px">Photo (jpg)</label>\r\n                    <input type="file" name="photoF" id="photoF" accept="image/jpeg" ng-model="files.photo" aw-upload-file-size="fileSizeLimit" firefox/>\r\n                    <div ng-messages="uploadForm.photoF.$error">\r\n                        <div ng-message="awUploadFileSize">The file size limit is {{fileSizeLimit}}Mb</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block">\r\n                    <label for="revitF" style="padding-bottom:28px">Revit (rvt, rft, rfa)</label>\r\n                    <input type="file" name="revitF" id="revitF" accept=".rvt,.rft,.rfa" ng-model="files.revit" aw-upload-file-size="fileSizeLimit" firefox/>\r\n                    <div ng-messages="uploadForm.revitF.$error">\r\n                        <div ng-message="awUploadFileSize">The file size limit is {{fileSizeLimit}}Mb</div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n            <section ng-if="uploadForm.$error.awUploadFileSize && uploadForm.$error.awUploadFileSize.length > 0">\r\n                <span class="error-message">If you have to upload a file with more than {{fileSizeLimit}}Mb, please reduce the size of the file or contact Audaxware at &lt;support@audaxware.com&gt;</span>\r\n            </section>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n        <md-button class="md-primary" ng-click="cancel()">Cancel</md-button>\r\n        <md-button class="md-primary" ng-click="upload()">Upload</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Assets/Modals/UploadAssets.html",'<md-dialog aria-label="make available to project" ng-cloak flex-gt-xs="30">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Import from Excel\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloack>\r\n        <form name="uploadForm" id="uploadForm" layout="column" layout-align="space-between none">\r\n            <md-input-container class="md-block">\r\n                <label for="assets">Import File (.xlsx)</label>\r\n                <input name="assets" id="assets" ngf-select ng-value="files.assets.name" ng-model="files.assets" accept=".xlsx" required />\r\n                <div ng-messages="uploadForm.assets.$error">\r\n                    <div ng-message="required">Assets file is is required</div>\r\n                </div>\r\n            </md-input-container>\r\n        </form>\r\n\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="save()">Save</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/AssetCodes/Modals/AddEditAssetCode.html",'<md-dialog aria-label="add_assetcode" ng-cloak>\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Add Asset Code\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloack class="md-inline-form">\r\n        <form name="addAssetCodeForm" id="addAssetCodeForm">\r\n            <md-input-container class="md-block">\r\n                <label>Prefix</label>\r\n                <input name="prefix" ng-model="assetcode.prefix" required maxlength="3" aw-exists="{{anotherAssetCodes}}" property="prefix">\r\n                <div ng-messages="addAssetCodeForm.prefix.$error">\r\n                    <div ng-message="required">Prefix is mandatory</div>\r\n                    <div ng-message="maxlength">Only 3 caracteres are allowed</div>\r\n                    <div ng-message="exists">Prefix already exists</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label>Description</label>\r\n                <input name="description" ng-model="assetcode.description" maxlength="50">\r\n                <div ng-messages="addAssetCodeForm.description.$error">\r\n                    <div ng-message="maxlength">Only 50 caracteres are allowed</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label>Next Number</label>\r\n                <input name="next_seq" ng-model="assetcode.next_seq" maxlength="50" readonly>\r\n            </md-input-container>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="add()">{{saveButtonText}}</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Audit/Modals/ViewAudited.html",'<md-dialog aria-label="ViewAudit" flex-gt-xs="55">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        View Audited Data\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak>\r\n        <section layout-gt-xs="row" layout-align="space-between start">\r\n            <md-input-container class="md-block">\r\n                <strong>Table:</strong> {{auditedData.table_name}}\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <strong>Operation:</strong> {{auditedData.operation}}\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <strong>Updated At:</strong> {{modified_date}}\r\n            </md-input-container>\r\n        </section>\r\n        <section layout-gt-xs="row" layout-align="space-between start">\r\n            <md-input-container class="md-block" ng-if="auditedData.project_description">\r\n                <strong>Project Name:</strong> {{auditedData.project_description}}\r\n            </md-input-container>\r\n            <md-input-container class="md-block" ng-if="auditedData.asset_code">\r\n                <strong>Asset Code:</strong> {{auditedData.asset_code}}\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <strong>Updated by:</strong> {{auditedData.username}}\r\n            </md-input-container>\r\n        </section>\r\n        <section layout-gt-xs="row" layout-align="space-between start">\r\n            <md-input-container class="md-block" ng-if="auditedData.comment">\r\n                <strong>Comment:</strong> {{auditedData.comment}}\r\n            </md-input-container>\r\n            <md-input-container class="md-block" ng-if="auditedData.header">\r\n                <strong>Header:</strong> {{auditedData.header}}\r\n            </md-input-container>\r\n        </section>\r\n        <section layout="column" ng-cloack class="md-inline-form padding-left-half padding-right-half">\r\n            <div class="checkbox-grid" kendo-grid="auditGrid" options="options" k-on-data-bound="dataBound()">\r\n            </div>\r\n        </section>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row" ng-cloak>\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>\r\n\r\n\r\n\r\n'),n.put("app/Category/Modals/AddCategory.html",'<md-dialog aria-label="addAssetCategory" flex="50" class="all-screen">\r\n    <md-toolbar layout="row" layout-align="center center" ng-cloak>\r\n        {{edit ? \'Edit\' : \'Add\'}} Asset Category\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak class="md-inline-form not-scrollable">\r\n        <form name="addCategoryForm" id="addCategoryForm">\r\n            <section layout-gt-sm="row" layout-align-gt-sm="space-between bottom" class="md-block" style="margin-bottom: -50px">\r\n                <md-input-container class="md-block" flex-gt-xs="60">\r\n                    <label>Name</label>\r\n                    <input name="description" ng-model="category.description" maxlength="50" required aw-exists="{{anotherCategories}}">\r\n                    <div ng-messages="addCategoryForm.description.$error">\r\n                        <div ng-message="required">Category name is required</div>\r\n                        <div ng-message="exists">Category name already exists at the enterprise domain and cannot be duplicated</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-xs="35">\r\n                    <label>Default Asset Code</label>\r\n                    <md-select name="asset_code" ng-model="category.asset_code">\r\n                        <md-option ng-repeat="code in assetCodes" ng-value="code.prefix">\r\n                            {{code.description}} -- ({{code.prefix}})\r\n                        </md-option>\r\n                    </md-select>\r\n                </md-input-container>\r\n            </section>\r\n        </form>\r\n        <aw-category-settings-grid data="category"></aw-category-settings-grid>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="add()">{{edit ? \'Save\' : \'Add\'}}</md-button>\r\n        <md-button ng-if="!edit" class="md-primary" ng-click="add(true)">Add and Close</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>\r\n\r\n<style parse-style>\r\n    .k-grid-content {\r\n        max-height:{{style_height}}px;\r\n    }\r\n    \r\n</style>'),n.put("app/Category/Modals/AddSubcategory.html",'<md-dialog aria-label="addAssetSubcategory" flex-gt-xs="50" class="all-screen">\r\n    <md-toolbar layout="row" layout-align="center center" ng-cloak>\r\n        {{edit ? \'Edit\' : \'Add\'}} Asset Subcategory\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak class="not-scrollable">\r\n        <form name="addSubcategoryForm" id="addSubcategoryForm">\r\n            <section aw-combo-box\r\n                     name="category"\r\n                     form="addSubcategoryForm"\r\n                     ng-model="subcategory.assets_category"\r\n                     controller-name="categories"\r\n                     query-controller-action="ToSub"\r\n                     params="controllerParams"\r\n                     text-property="description"\r\n                     id-property="category_id"\r\n                     selected-item="subcategory.assets_category"\r\n                     domain-property="domain_id"\r\n                     label="Category"\r\n                     order-by="description"\r\n                     required></section>\r\n            <md-input-container class="md-block no-md-errors-spacer" style="margin-bottom: 0px">\r\n                <label>Name</label>\r\n                <input name="description" ng-model="subcategory.description" maxlength="50" required>\r\n                <div ng-messages="addSubcategoryForm.description.$error">\r\n                    <div ng-message="required">Subcategory name is required</div>\r\n                </div>\r\n            </md-input-container>\r\n        </form>\r\n        <aw-category-settings-grid data="subcategory" subcategory></aw-category-settings-grid>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="add()">{{edit ? \'Save\' : \'Add\'}}</md-button>\r\n        <md-button ng-if="!edit" class="md-primary" ng-click="add(true)">Add and Close</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>\r\n\r\n\r\n<style parse-style>\r\n    .k-grid-content {\r\n        max-height:{{style_height}}px;\r\n    }\r\n</style>'),n.put("app/Category/Modals/ImportFile.html",'<md-dialog aria-label="import_category" flex-gt-xs="30">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Import Categories from Excel\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak>\r\n        <form name="importForm" id="importForm" layout="column" layout-align="space-between none">\r\n            <md-input-container class="md-block">\r\n                <label for="assets">Import File (.xlsx)</label>\r\n                <input name="categoriesFile" id="categoriesFile" ngf-select ng-value="file.name" ng-model="file" accept=".xlsx" required />\r\n                <div ng-messages="importForm.categoriesFile.$error">\r\n                    <div ng-message="required">Excel file is required</div>\r\n                </div>\r\n            </md-input-container>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row" ng-cloak>\r\n        <md-button class="md-primary" ng-click="cancel()">Cancel</md-button>\r\n        <md-button class="md-primary" ng-click="import()">Import</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Contact/Modals/AddEditContact.html",'<md-dialog aria-label="add_edit_contact" ng-cloak flex-gt-xs="50">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        {{newContact ? \'Add\' : \'Edit\'}} {{contact.contact_type | capitalize}} Contact\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak>\r\n        <md-tabs md-selected="selectedTabIndex" md-dynamic-height class="full-size" md-border-bottom>\r\n            <md-tab ng-if="!hideExistingContacts" label="Existing">\r\n                <section layout="column" ng-cloak class="md-inline-form padding-bottom padding-top">\r\n                    <div class="checkbox-grid" kendo-grid="existingContactsGrid" options="options" k-on-data-bound="dataBound(existingContactsGrid)">\r\n                    </div>\r\n                </section>\r\n            </md-tab>\r\n            <md-tab label="{{ newContact ? \'New\' : \'Edit\' }}">\r\n                <form name="addEditContactForm" id="addEditContactForm">\r\n                    <section layout-gt-sm="row" layout-align="space-between none">\r\n                        <md-input-container class="md-block" flex-gt-sm="60">\r\n                            <label>Name</label>\r\n                            <input name="name" ng-model="contact.name" maxlength="50" required aw-exists="{{anotherContacts}}" property="name">\r\n                            <div ng-messages="addEditContactForm.name.$error">\r\n                                <div ng-message="required">Name is required</div>\r\n                                <div ng-message="exists">Contact name already exists for this manufacturer</div>\r\n                            </div>\r\n                        </md-input-container>\r\n                        <md-input-container class="md-block" flex-gt-sm="35">\r\n                            <label>Type</label>\r\n                            <input name="type" ng-model="contact.contact_type" disabled>\r\n                        </md-input-container>\r\n                    </section>\r\n                    <section layout-gt-sm="row" layout-align="space-between none">\r\n                        <md-input-container class="md-block" flex-gt-sm="45">\r\n                            <label>Title</label>\r\n                            <input name="title" ng-model="contact.title" maxlength="50">\r\n                        </md-input-container>\r\n                        <md-input-container class="md-block" flex-gt-sm="45">\r\n                            <label>Email</label>\r\n                            <input name="email" type="email" ng-model="contact.email" maxlength="50">\r\n                            <div ng-messages="addEditContactForm.email.$error">\r\n                                <div ng-message="email">Must be a valid email address</div>\r\n                            </div>\r\n                        </md-input-container>\r\n                    </section>\r\n                    <section layout-gt-sm="row" layout-align-gt-sm="space-between none">\r\n                        <md-input-container class="md-block" flex-gt-sm="30">\r\n                            <label>Phone #</label>\r\n                            <input name="phone" ng-model="contact.phone" maxlength="20">\r\n                        </md-input-container>\r\n                        <md-input-container class="md-block" flex-gt-sm="30">\r\n                            <label>Mobile #</label>\r\n                            <input name="mobile" ng-model="contact.mobile" maxlength="20">\r\n                        </md-input-container>\r\n                        <md-input-container class="md-block" flex-gt-sm="30">\r\n                            <label>Fax #</label>\r\n                            <input name="fax" ng-model="contact.fax" maxlength="20">\r\n                        </md-input-container>\r\n                    </section>\r\n                    <md-input-container class="md-block">\r\n                        <label>Address</label>\r\n                        <input name="address" ng-model="contact.address" maxlength="50">\r\n                    </md-input-container>\r\n                    <section layout-gt-sm="row" layout-align-gt-sm="space-between none">\r\n                        <md-input-container class="md-block" flex-gt-sm="30">\r\n                            <label>City</label>\r\n                            <input name="city" ng-model="contact.city" maxlength="25">\r\n                        </md-input-container>\r\n                        <md-input-container class="md-block" flex-gt-sm="30">\r\n                            <label>State</label>\r\n                            <md-select name="state" ng-model="contact.state">\r\n                                <md-option ng-repeat="state in statesList" value="{{state.id}}">\r\n                                    {{state.name}}\r\n                                </md-option>\r\n                            </md-select>\r\n                        </md-input-container>\r\n                        <md-input-container class="md-block" flex-gt-sm="30">\r\n                            <label>Zipcode</label>\r\n                            <input name="zipcode" ng-model="contact.zipcode" maxlength="10" aw-only-numbers>\r\n                            <div ng-messages="addEditContactForm.zipcode.$error">\r\n                                <div ng-message="number">Must have only numbers</div>\r\n                            </div>\r\n                        </md-input-container>\r\n                    </section>\r\n                    <md-input-container class="md-block">\r\n                        <label>Comment</label>\r\n                        <textarea ng-model="contact.comment" name="comment" columns="1" maxlength="1000" md-maxlength="1000" rows="1"></textarea>\r\n                    </md-input-container>\r\n                </form>\r\n            </md-tab>\r\n        </md-tabs>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="save()">Save</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Dashboard/Modals/UploadDashboardFiles.html",'<md-dialog aria-label="make available to project" ng-cloak flex-gt-xs="30">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Upload Files\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloack>\r\n        <form name="uploadForm" id="uploadForm" layout="column" layout-align="space-between none">\r\n            <md-input-container class="md-block">\r\n                <label>Name</label>\r\n                <input name="saveAs" ng-model="files.saveAs" required maxlength="40">\r\n                <div ng-messages="uploadForm.saveAs.$error">\r\n                    <div ng-message="required">Save As filename is required</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label for="powerbi">Power BI (pbix/pbit)</label>\r\n                <input name="powerbi" id="powerbi" required ngf-select ng-value="files.powerbi.name" ng-model="files.powerbi" accept=".pbix,.pbit" />\r\n                <div ng-messages="uploadForm.powerbi.$error">\r\n                    <div ng-message="required">Power BI file is required</div>\r\n                </div>\r\n            </md-input-container>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="save()">Save</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Contact Us/Modals/ContactUs.html",'<md-dialog aria-label="contact_us" class="width-40">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Contact Us\r\n    </md-toolbar>\r\n    <md-dialog-content ng-cloak class="padding-top">\r\n        <form name="contactUsForm" id="contactUsForm" layout="column" novalidate class="padding-top">\r\n            <section layout-gt-xs="row" layout-align-gt-xs="space-between start">\r\n                <md-input-container class="md-block" flex-gt-xs="45">\r\n                    <label>Name</label>\r\n                    <input type="text" ng-model="data.name" name="name" required ng-enter="send()">\r\n                    <div ng-messages="contactUsForm.name.$error">\r\n                        <div ng-message="required">Name is required</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-xs="45">\r\n                    <label>Email</label>\r\n                    <input type="email" ng-model="data.email" name="email" required ng-enter="send()">\r\n                    <div ng-messages="contactUsForm.email.$error">\r\n                        <div ng-message="required">Email is required</div>\r\n                        <div ng-message="email">Not a valid email</div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n            <section layout-gt-xs="row" layout-align-gt-xs="space-between start">\r\n                <md-input-container class="md-block" flex-gt-xs="45">\r\n                    <label>Phone Number</label>\r\n                    <input type="text" ng-model="data.phone_number" name="phone_number" ng-enter="send()">\r\n                    <div ng-messages="contactUsForm.phone_number.$error">\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-xs="45">\r\n                    <label>Subject</label>\r\n                    <md-select ng-model="data.subject" required name="subject">\r\n                        <md-option value="Suggestion">Suggestion</md-option>\r\n                        <md-option value="Support">Support</md-option>\r\n                        <md-option value="Bug report">Bug report</md-option>\r\n                    </md-select>\r\n                    <div ng-messages="contactUsForm.subject.$error">\r\n                        <div ng-message="required" class="my-message">Subject is required</div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n            <md-input-container class="md-block">\r\n                <label>Message</label>\r\n                <textarea ng-model="data.message" name="message" columns="1" md-maxlength="2000" maxlength="2000" rows="1" required></textarea>\r\n                <div ng-messages="contactUsForm.message.$error" role="alert">\r\n                    <div ng-message="required" class="my-message">Message is required</div>\r\n                </div>\r\n            </md-input-container>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions>\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="send()">Send</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Directives/Elements/accordion.html",'<ul kendo-panel-bar>\r\n    <li style="background-color:none">\r\n        {{label}}\r\n        <ul>\r\n            <li style="background-color:white">\r\n                \x3c!--The line-height is modified by the Kendo-UI styles and it causes problem\r\n                with the angular materials so we restore it here--\x3e\r\n                    <ng-transclude style="line-height:normal"></ng-transclude>\r\n            </li>\r\n        </ul>\r\n    </li>\r\n</ul>\r\n'),n.put("app/Directives/Elements/accordionExpanded.html",'<ul kendo-panel-bar>\r\n    <li  style="background-color:none" class="k-state-active" >\r\n        {{label}}\r\n        <ul>\r\n            <li style="background-color:white">\r\n                \x3c!--The line-height is modified by the Kendo-UI styles and it causes problem\r\n                with the angular materials so we restore it here--\x3e\r\n                    <ng-transclude style="line-height:normal"></ng-transclude>\r\n            </li>\r\n        </ul>\r\n    </li>\r\n</ul>\r\n'),n.put("app/Directives/Elements/AddOption.html",'<form name="addOptionForm" id="editAssetForm" ng-cloak class="padding-top padding-bottom">\r\n    <section layout="row" layout-align="space-between start">\r\n        <md-input-container class="md-block" flex-gt-xs="45" ng-if="isInventory && !isEdit">\r\n            <label>Scope</label>\r\n            <md-select ng-model="selected_scope" ng-change="changeScope(selected_scope)">\r\n                <md-option value="1">Catalog</md-option>\r\n                <md-option value="2">Custom</md-option>\r\n            </md-select>\r\n        </md-input-container>\r\n    </section>\r\n    <section layout="row" layout-align="space-between start" class="lock-input-group">\r\n        <md-input-container class="md-block" flex="100" ng-if="isInventory && !isEdit && selected_scope == \'1\'">\r\n            <label>Description/Notes</label>\r\n            <md-select ng-model="selectedOption" required name="description_select" ng-change="changeOption(selectedOption)">\r\n                <md-option ng-repeat="op in availableOptions" ng-value="op">\r\n                    {{op.description}}\r\n                </md-option>\r\n            </md-select>\r\n            <div ng-messages="addOptionForm.description_select.$error">\r\n                <div ng-message="required">Option description is required</div>\r\n            </div>\r\n        </md-input-container>\r\n        <md-input-container class="md-block" flex="100" ng-if="!isInventory || selected_scope == \'2\' || isEdit">\r\n            <label>Description/Notes</label>\r\n            <input name="description" ng-model="data.description" maxlength="270" required>\r\n            <div ng-messages="addOptionForm.description.$error">\r\n                <div ng-message="required">Option description is required</div>\r\n            </div>\r\n        </md-input-container>\r\n    </section>\r\n    <section layout="row" layout-align="space-between start">\r\n        <md-input-container class="md-block" flex="45">\r\n            <label>Type</label>\r\n            <md-select ng-model="data.data_type" name="type" ng-disabled="isInventory && !isEdit && selected_scope == \'1\'" required ng-change="settings = null">\r\n                <md-option ng-repeat="option in optionTypes" ng-value="option.id">\r\n                    {{option.name}}\r\n                </md-option>\r\n            </md-select>\r\n            <div ng-messages="addOptionForm.type.$error">\r\n                <div ng-message="required">Option type is required</div>\r\n            </div>\r\n        </md-input-container>\r\n        <md-input-container class="md-block" flex="45">\r\n            <label>{{data.data_type == \'FR\' ? \'Color Name\' : \'Code/Name\'}}</label>\r\n            <input name="code" ng-model="data.code" maxlength="50" ng-disabled="isInventory && !isEdit && selected_scope == \'1\'">\r\n        </md-input-container>\r\n    </section>\r\n    <section layout="row" layout-align="space-between start" ng-show="data.data_type == \'FI\'">\r\n        <md-input-container class="md-block" flex="45">\r\n            <label>Finish Type</label>\r\n            <input name="finish_type" ng-model="settings.finish_type" ng-disabled="isInventory && !isEdit && selected_scope == \'1\'">\r\n        </md-input-container>\r\n        <md-input-container class="md-block" flex="45">\r\n            <label>Content</label>\r\n            <input name="content" ng-model="settings.content" ng-disabled="isInventory && !isEdit && selected_scope == \'1\'">\r\n        </md-input-container>\r\n    </section>\r\n    <section layout="row" layout-align="space-between start" ng-show="data.data_type == \'FR\'">\r\n        <md-input-container class="md-block" flex="30">\r\n            <label>Dimensions</label>\r\n            <input name="dimensions" ng-model="settings.dimensions" ng-disabled="isInventory && !isEdit && selected_scope == \'1\'">\r\n        </md-input-container>\r\n        <md-input-container class="md-block" flex="30">\r\n            <label>MAT - Finish</label>\r\n            <input name="mat_finish" ng-model="settings.mat_finish" ng-disabled="isInventory && !isEdit && selected_scope == \'1\'">\r\n        </md-input-container>\r\n        <md-input-container class="md-block" flex="30">\r\n            <label>Type Name</label>\r\n            <input name="type_name" ng-model="settings.type_name" ng-disabled="isInventory && !isEdit && selected_scope == \'1\'">\r\n        </md-input-container>\r\n    </section>\r\n    <section layout="row" layout-align="space-between start">\r\n        <md-input-container class="md-block" flex="45">\r\n            <label>Unit Price $</label>\r\n            <input name="unit_budget" ng-model="data.unit_price" aw-currency />\r\n            <div ng-messages="addOptionForm.unit_budget.$error">\r\n                <div ng-message="currency">Must be a valid currency value</div>\r\n            </div>\r\n        </md-input-container>\r\n        <md-input-container class="md-block" flex="45" ng-if="isInventory">\r\n            <label>Quantity per Asset</label>\r\n            <input name="quantity" ng-model="data.quantity">\r\n        </md-input-container>\r\n    </section>\r\n    <section layout="row" layout-align="space-between start">\r\n        <md-input-container class="md-block" flex-gt-xs="{{isInventory || isEdit ? \'30\' : \'45\'}}">\r\n            <label>Min $</label>\r\n            <input name="min_cost"\r\n                   ng-model="data.min_cost"\r\n                   aw-currency-model aw-currency\r\n                   ng-disabled="selected_scope == \'1\'">\r\n            <div ng-messages="addOptionForm.min_cost.$error">\r\n                <div ng-message="currency">Must be a valid currency value</div>\r\n            </div>\r\n        </md-input-container>\r\n        <md-input-container class="md-block" flex-gt-xs="{{isInventory || isEdit ? \'30\' : \'45\'}}">\r\n            <label>Max $</label>\r\n            <input name="max_cost"\r\n                   ng-model="data.max_cost"\r\n                   aw-currency-model aw-currency\r\n                   ng-disabled="selected_scope == \'1\'">\r\n            <div ng-messages="addOptionForm.max_cost.$error">\r\n                <div ng-message="currency">Must be a valid currency value</div>\r\n            </div>\r\n        </md-input-container>\r\n        <md-input-container class="md-block" flex-gt-xs="30" ng-if="isInventory || isEdit">\r\n            <label>Avg/Last $</label>\r\n            <input name="avg_last" ng-model="data.avg_last_cost" disabled />\r\n        </md-input-container>\r\n    </section>\r\n    <section layout="row" layout-align="space-between start">\r\n        <section ng-show="!show_firefox" flex-gt-xs="50" layout="row" layout-align="start start" class="upload-file-container">\r\n            <md-input-container class="md-block" flex="90">\r\n                <label for="image">Picture (jpg)</label>\r\n                <input name="image" id="image" ngf-select ng-value="data.image.name" ng-model="data.image" accept="image/jpeg" aw-upload-file-size="fileSizeLimit" />\r\n                <div ng-messages="addOptionForm.image.$error" role="alert">\r\n                    <div ng-message="awUploadFileSize" class="my-message">\r\n                        The file exceeds the limit of 7MB\r\n                    </div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-icon md-svg-src="file_upload_gray" flex="5" ng-click="uploadImageClick()"></md-icon>\r\n        </section>\r\n        <section ng-show="show_firefox" flex-gt-xs="50">\r\n            <md-input-container class="md-block">\r\n                <label for="imageF" style="padding-bottom:28px">Picture (jpg)</label>\r\n                <input type="file" name="imageF" id="imageF" ng-model="data.image" accept="image/jpg" aw-upload-file-size="fileSizeLimit" firefox />\r\n                <div ng-messages="addOptionForm.imageF.$error" role="alert">\r\n                    <div ng-message="awUploadFileSize" class="my-message">\r\n                        The file exceeds the limit of 7MB\r\n                    </div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-icon md-svg-src="file_upload_gray" flex="5" ng-click="uploadImageClick()"></md-icon>\r\n        </section>\r\n        <section layout="row" layout-align="end center" class="option-picture" ng-if="data.domain_document && !data.image">\r\n            <section class="boxshadow" flex="90" layout="column" layout-align="end end">\r\n                <md-icon class="material-icons accent" flex="5" ng-click="deletePicture()">close</md-icon>\r\n                <img src="{{picturePath}}" alt="photo">\r\n            </section>\r\n        </section>\r\n    </section>\r\n</form>'),n.put("app/Directives/Elements/AssetInventoryGrid.html",'<section layout="column" ng-cloak class="md-inline-form padding-top">\r\n\r\n    \x3c!-- Action buttons --\x3e\r\n    \x3c!--<section layout="row" class="grid-toolbar" ng-show="showActionButtons" ng-cloak>\r\n        <section layout="row" layout-align="start center" flex="20" layout-fill layout-wrap ng-show="!showViewsOptions">\r\n            <md-input-container class="md-block no-md-errors-spacer" style="margin: 0px;" flex="60">\r\n                <md-select ng-model="viewSelected" placeholder="Select a view">\r\n                    <md-option ng-value="opt" ng-repeat="opt in views" ng-click="loadView(opt)">{{ opt.name | capitalize }}</md-option>\r\n                </md-select>\r\n            </md-input-container>\r\n            <button class="md-icon-button md-button" ng-click="showViewsOptions = !showViewsOptions" style="margin-right: -0.8em;">\r\n                <i class="material-icons">view_module</i>\r\n                <md-tooltip md-direction="bottom">Views Options</md-tooltip>\r\n            </button>\r\n        </section>\r\n        <section layout-gt-xs="row" flex="90" ng-show="showViewsOptions">\r\n            <section layout="row" layout-align="center center" flex-gt-xs="50" flex-offset-gt-xs="5" ng-cloack>\r\n                <md-input-container class="md-block" flex-xs="80" style="margin: 0px;">\r\n                    <md-select ng-model="viewSelected" placeholder="Select a view">\r\n                        <md-option ng-value="opt" ng-repeat="opt in views" ng-click="loadView(opt)">{{ opt.name | capitalize }}</md-option>\r\n                    </md-select>\r\n                </md-input-container>\r\n                <button class="md-icon-button md-button" ng-click="deleteView(viewSelected)">\r\n                    <i class="material-icons">delete</i>\r\n                    <md-tooltip md-direction="bottom">Delete View</md-tooltip>\r\n                </button>\r\n            </section>\r\n            <section layout="row" layout-align="center center" flex-gt-xs="50" flex-offset-gt-xs="5" ng-cloack>\r\n                <md-input-container class="md-block no-md-errors-spacer" style="margin: 0px;">\r\n                    <label>Save As</label>\r\n                    <input type="text" name="name" ng-model="viewName">\r\n                </md-input-container>\r\n                <button class="md-icon-button md-button" ng-click="saveView(viewName)">\r\n                    <i class="material-icons">save</i>\r\n                    <md-tooltip md-direction="bottom">Save view</md-tooltip>\r\n                </button>\r\n            </section>\r\n        </section>\r\n        <section layout="row" layout-align="start center" flex="70" ng-show="!showViewsOptions">\r\n            <md-input-container class="md-block no-md-errors-spacer" style="margin: 0px;">\r\n                <label>Freeze columns</label>\r\n                <md-select ng-model="freeze_qty" placeholder="Freeze columns">\r\n                    <md-option ng-value="qty" ng-repeat="qty in [0, 1, 2, 3, 4]" ng-click="freezeColumns(qty)">{{qty}}</md-option>\r\n                </md-select>\r\n            </md-input-container>\r\n        </section>\r\n        <section layout="row" layout-align="end start" flex="10">\r\n            <button class="md-icon-button md-button gray-color" ng-click="showViewsOptions ? (showViewsOptions = !showViewsOptions) : closeToolbars()">\r\n                <i class="material-icons">close</i>\r\n                <md-tooltip md-direction="bottom">Close</md-tooltip>\r\n            </button>\r\n        </section>\r\n    </section>--\x3e\r\n\r\n    \x3c!-- Views --\x3e\r\n    <section layout="row" class="grid-toolbar" ng-show="showViewsOptions" ng-cloak>\r\n        <section layout-gt-xs="row" flex="90" flex-offset="5">\r\n            <section layout="row" layout-align="center center" flex-gt-xs="50" flex-offset-gt-xs="5" ng-cloack>\r\n                <md-input-container class="md-block" flex-xs="80" style="margin: 0px;">\r\n                    <md-select ng-model="viewSelected" placeholder="Select a view">\r\n                        <md-option ng-value="opt" ng-repeat="opt in views" ng-click="loadView(opt)">{{ opt.name | capitalize }}</md-option>\r\n                    </md-select>\r\n                </md-input-container>\r\n                <button class="md-icon-button md-button" ng-click="deleteView(viewSelected)">\r\n                    <i class="material-icons">delete</i>\r\n                    <md-tooltip md-direction="bottom">Delete View</md-tooltip>\r\n                </button>\r\n            </section>\r\n            <section layout="row" layout-align="center center" flex-gt-xs="50" flex-offset-gt-xs="5" ng-cloack>\r\n                <md-input-container class="md-block no-md-errors-spacer" style="margin: 0px;">\r\n                    <label>Save As</label>\r\n                    <input type="text" name="name" ng-model="viewName">\r\n                </md-input-container>\r\n                <md-input-container class="md-block" ng-show="show_private_checkbox">\r\n                    <md-checkbox ng-model="is_private" aria-label="is_private">\r\n                        Private\r\n                    </md-checkbox>\r\n                    <md-button class="md-primary md-icon-button label-info-icon" style="padding:0;margin-left:0;">\r\n                        <md-icon class="material-icons info-icon md-primary">\r\n                            info\r\n                            <md-tooltip>\r\n                                If you want to show this view for all user in this enterprise, unselect the private checkbox </br>\r\n                                The same will happen if you delete or update the view. </br>\r\n                                Only the ones who created the view will be able to delete or update it.\r\n                            </md-tooltip>\r\n                        </md-icon>\r\n                    </md-button>\r\n                </md-input-container>\r\n                <button class="md-icon-button md-button" ng-click="saveView(viewName)">\r\n                    <i class="material-icons">save</i>\r\n                    <md-tooltip md-direction="bottom">Save view</md-tooltip>\r\n                </button>\r\n\r\n            </section>\r\n        </section>\r\n        <section layout="row" layout-align="end center" flex="10">\r\n            <button class="md-icon-button md-button gray-color" ng-click="closeToolbars()">\r\n                <i class="material-icons">close</i>\r\n                <md-tooltip md-direction="bottom">Close</md-tooltip>\r\n            </button>\r\n        </section>\r\n    </section>\r\n\r\n    <section layout="row" layout-align="space-between none" ng-cloak layout-wrap class="grid-toolbar" ng-hide="showViewsOptions || showActionButtons">\r\n        <section layout="row" layout-align="start center" flex="60" layout-fill layout-wrap>\r\n            <button class="md-icon-button md-button" ng-click="openAddModal()" ng-if="!hideToolbar2">\r\n                <i class="material-icons">add</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Add Asset</md-tooltip>\r\n            </button>\r\n            <button class="md-icon-button md-button" ng-click="edit()" ng-if="!hideToolbar2">\r\n                <i class="material-icons">edit</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Edit Asset</md-tooltip>\r\n            </button>\r\n            <button class="md-icon-button md-button" ng-click="openLinkModal()" ng-if="!hideToolbar2 && !filterActionButton">\r\n                <i class="material-icons">link</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Relocation link to inventory project</md-tooltip>\r\n            </button>\r\n            <button class="md-icon-button md-button" ng-click="delete()" ng-if="!hideToolbar2">\r\n                <i class="material-icons">delete</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Delete Asset</md-tooltip>\r\n            </button>\r\n            <button class="md-icon-button md-button" ng-click="openReplaceModal()" ng-if="!hideToolbar2 && !filterActionButton">\r\n                <i class="material-icons">swap_horiz</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Replace Asset</md-tooltip>\r\n            </button>\r\n            <button class="md-icon-button md-button" ng-click="openMoveModal()" ng-if="!hideToolbar2 && !filterActionButton">\r\n                <i class="material-icons">forward</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Move Asset</md-tooltip>\r\n            </button>\r\n            <button class="md-icon-button md-button" ng-click="openConnectModal()" ng-if="!hideToolbar2 && !filterActionButton">\r\n                <i class="material-icons">device_hub</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Connect Asset</md-tooltip>\r\n            </button>\r\n            <button ng-if="!selectOnlyMode && !isTemplate && !params.room_id && consolidated" class="md-icon-button md-button" ng-click="openCheckRoomModal()">\r\n                <i class="material-icons">youtube_searched_for</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Search room for selected asset</md-tooltip>\r\n            </button>\r\n            <button class="md-icon-button md-button" ng-click="openCompareAssetsModal()">\r\n                <i class="material-icons">compare</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Compare Assets</md-tooltip>\r\n            </button>\r\n            <button class="md-icon-button md-button" ng-click="chooseDisplayedColumns()" ng-if="!selectOnlyMode">\r\n                <i class="material-icons">grid_on</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Select fields to display/hide</md-tooltip>\r\n            </button>\r\n            \x3c!--<button class="md-icon-button md-button" ng-click="showActionButtons = !showActionButtons">\r\n        <i class="material-icons">apps</i><div class="md-ripple-container"></div>\r\n        <md-tooltip md-direction="bottom">Other actions</md-tooltip>\r\n    </button>--\x3e\r\n            <md-input-container class="md-block no-md-errors-spacer" style="margin: 0px;" flex="35">\r\n                <label>Search</label>\r\n                <input name="search" ng-model="searchBoxValue" ng-enter="search(searchBoxValue)">\r\n            </md-input-container>\r\n            <button class="md-icon-button md-button gray-color" style="bottom: -0.5em; padding-left: 0px; margin-left: 0px" ng-click="clearAllFilters()">\r\n                <i class="material-icons">delete_sweep</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Clear all filters</md-tooltip>\r\n            </button>\r\n        </section>\r\n        <section layout="row" layout-align="end center" flex="15" layout-fill layout-wrap>\r\n            <md-input-container class="md-block no-md-errors-spacer" style="margin: 0px;">\r\n                <md-select ng-model="viewSelected" placeholder="Select a view">\r\n                    <md-option ng-value="opt" ng-repeat="opt in views" ng-click="loadView(opt)">{{ opt.name | capitalize }}</md-option>\r\n                </md-select>\r\n            </md-input-container>\r\n            <button class="md-icon-button md-button" ng-click="showViewsOptions = !showViewsOptions" style="margin-right: -0.8em;" ng-show="!selectOnlyMode">\r\n                <i class="material-icons">view_module</i>\r\n                <md-tooltip md-direction="bottom">Views Options</md-tooltip>\r\n            </button>\r\n        </section>\r\n        <section layout="row" layout-align="end center" flex="10" ng-if="!selectOnlyMode">\r\n            <md-input-container class="no-md-errors-spacer" style="margin: 0px;" flex="80">\r\n                <label>Freeze columns</label>\r\n                <md-select ng-model="freeze_qty" placeholder="Freeze columns">\r\n                    <md-option ng-value="qty" ng-repeat="qty in [0, 1, 2, 3, 4]" ng-click="freezeColumns(qty)">{{qty}}</md-option>\r\n                </md-select>\r\n            </md-input-container>\r\n        </section>\r\n        \x3c!--<section layout="row" layout-align="center center" flex="30" layout-fill>\r\n            <md-input-container class="md-block no-md-errors-spacer" style="margin: 0px;" flex="90">\r\n                <label>Search</label>\r\n                <input name="search" ng-model="searchBoxValue" ng-enter="search(searchBoxValue)">\r\n            </md-input-container>\r\n            <button class="md-icon-button md-button gray-color" style="bottom: -0.5em; padding-left: 0px; margin-left: 0px" ng-click="clearAllFilters()">\r\n                <i class="material-icons">delete_sweep</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Clear all filters</md-tooltip>\r\n            </button>\r\n        </section>--\x3e\r\n        <section layout="column" layout-align="center end" flex="10" ng-show="!isTemplate && !selectOnlyMode">\r\n            <md-checkbox class="no-vertical-margin" ng-model="consolidated" ng-change="consolidate()" aria-label="consolidated inventory">\r\n                Consolidated\r\n            </md-checkbox>\r\n        </section>\r\n        <section layout="row" flex="5" layout-align="end start" ng-if="!(freeze_qty > 0)">\r\n            <button class="md-icon-button md-button" ng-click="collapseExpand(assetsGrid)">\r\n                <md-icon md-svg-icon="collapse_expand"></md-icon>\r\n                <md-tooltip md-direction="bottom">Collapse/Expand All</md-tooltip>\r\n            </button>\r\n        </section>\r\n    </section>\r\n\r\n    <div id="assetsGrid" ng-class="{\'primary-color-header\': freeze_qty > 0}"></div>\r\n</section>\r\n\r\n<style parse-style>\r\n    .k-grid-content {\r\n        max-height:{{gridHeight - 140}}px; \r\n        min-height:{{isTemplate ? gridHeight - 140 : 0}}px;\r\n    }\r\n\r\n    .k-grid-content-locked {\r\n        max-height:{{gridHeight - 160}}px; \r\n        min-height:{{gridHeight - 160}}px;\r\n    }\r\n</style> \r\n'),n.put("app/Directives/Elements/AssetSettingsGrid.html",'<section class="padding-bottom">\r\n    <div kendo-grid="assetSettingsGrid" options="options" k-on-data-bound="dataBound()" class="primary-color-header">\r\n    </div>\r\n</section>\r\n\r\n<style type="text/css">\r\n    .k-grid-content {\r\n        max-height: 390px;\r\n    }\r\n</style>'),n.put("app/Directives/Elements/autocomplete.html",'<form name="searchForm" id="searchForm">\r\n    <section layout="row">\r\n        <md-autocomplete md-input-name="autocompleteField"\r\n                         md-input-maxlength="{{max}}"\r\n                         md-no-cache="false"\r\n                         md-selected-item="selectedItem"\r\n                         md-search-text="searchText"\r\n                         md-items="item in querySearch(searchText)"\r\n                         md-item-text="item[textProperty] + (item[textProperty2] ? \' \' + textPropertySeparator + \' \' + item[textProperty2] : \'\')"\r\n                         md-floating-label="{{label}}" flex="{{flex}}">\r\n            <md-item-template>\r\n                <div class="item-template-wrapper">\r\n                    <span class="title" md-highlight-text="searchText" md-highlight-flags="gi">{{item[textProperty] + (item[textProperty2] ? \' \' + textPropertySeparator + \' \' + item[textProperty2] : \'\')}}</span>\r\n                    <span class="descriptive" ng-if="descriptiveProperty && _.get(item, descriptiveProperty)">({{ _.get(item, descriptiveProperty) }})</span>\r\n                </div>\r\n            </md-item-template>\r\n        </md-autocomplete>\r\n        <button ng-if="addOption && checkAdd(searchText)" class="md-icon-button md-button md-accent" type="button" ng-click="createNew(searchText)">\r\n            <md-icon class="material-icons">add</md-icon>\r\n            <md-tooltip md-direction="bottom">\r\n                Create a new one\r\n            </md-tooltip>\r\n        </button>\r\n    </section>\r\n</form>\r\n'),n.put("app/Directives/Elements/autocompleteJsn.html",'<form name="searchForm" id="searchForm">\r\n    <section layout="row">\r\n        <md-autocomplete md-input-name="autocompleteField"\r\n                         md-input-maxlength="{{max}}"\r\n                         md-no-cache="false"\r\n                         md-selected-item="selectedItem"\r\n                         md-search-text="searchText"\r\n                         md-items="item in querySearch(searchText)"\r\n                         md-item-text="item[textProperty] + (item[textProperty2] ? \' \' + textPropertySeparator + \' \' + item[textProperty2] : \'\')"\r\n                         md-floating-label="{{label}}" flex="{{flex}}">\r\n            <md-item-template>\r\n                <span md-highlight-text="searchText" md-highlight-flags="gi">{{item[textProperty] + (item[textProperty2] ? \' \' + textPropertySeparator + \' \' + item[textProperty2] : \'\')}}</span>\r\n            </md-item-template>\r\n        </md-autocomplete>\r\n        <button ng-if="addOption && checkAdd(searchText)" class="md-icon-button md-button md-accent" type="button" ng-click="createNew(searchText)">\r\n            <md-icon class="material-icons">add</md-icon>\r\n            <md-tooltip md-direction="bottom">\r\n                Create a new one\r\n            </md-tooltip>\r\n        </button>\r\n    </section>\r\n</form>\r\n'),n.put("app/Directives/Elements/AvailableAssetsInventoryGrid.html",'<section layout="row" class="grid-toolbar" ng-show="!replace" layout-align="space-between center">\r\n    <section flex="30" flex-order="1">\r\n        <md-input-container class="md-block" style="margin-bottom: 0px;" ng-style="isToGlobalTemplate ? {display:\'none\'} : {display:\'block\'}">\r\n            <label>Catalog</label>\r\n            <md-select ng-model="selectedCatalog" ng-change="catalogOptionChanged()">\r\n                <md-optgroup label="Catalog" ng-if="!isLink">\r\n                    <md-option ng-repeat="op in catalogOptions" ng-value="op">\r\n                        {{op.name}}\r\n                    </md-option>\r\n                </md-optgroup>\r\n                <md-optgroup label="Favorite Projects" name = "Favorite_Projects">\r\n                    <md-option ng-repeat="op in favProjectOptions" ng-value="op">\r\n                        {{op.name}}\r\n                    </md-option>\r\n                </md-optgroup>                \r\n                <md-optgroup label="Projects">\r\n                    <md-option ng-repeat="op in projectOptions" ng-value="op">\r\n                        {{op.name}}\r\n                    </md-option>\r\n                </md-optgroup>\r\n            </md-select>\r\n        </md-input-container>\r\n    </section>\r\n    <section flex="35" flex-order="2" layout="row">\r\n        <md-input-container class="md-block no-md-errors-spacer" style="margin-bottom: 3px;" flex="100" flex-gt-sm="80">\r\n            <label>Search</label>\r\n            <input name="search" ng-model="searchBoxValue" ng-enter="searchAssets(searchBoxValue)">\r\n        </md-input-container>\r\n        <button class="md-icon-button md-button gray-color" style="bottom: -1.2em; padding-left: 0px; margin-left: 0px" ng-click="clearAllFilters()">\r\n            <i class="material-icons">delete_sweep</i><div class="md-ripple-container"></div>\r\n            <md-tooltip md-direction="bottom">Clear all filters</md-tooltip>\r\n        </button>\r\n    </section>\r\n    <section flex="10" flex-order="3" >\r\n        <md-input-container class="md-block" style="margin-bottom: 0px;" ng-style="(isToGlobalTemplate || !selectedCatalog.project_id || isLink || selectedCatalog.project_id == params.project_id) ? {display:\'none\'} : {display:\'block\'}">\r\n            <label>Action</label>\r\n            <md-select ng-model="action" ng-init="action=1">\r\n                <md-option ng-value="1">NEW</md-option>\r\n                <md-option ng-value="2">RELOCATE</md-option>\r\n            </md-select>\r\n        </md-input-container>\r\n    </section>\r\n    <section flex="15" layout="row" layout-align="end start" flex-order="4">\r\n        <md-input-container class="md-block" style="margin-bottom: 0px;" ng-style="isToGlobalTemplate || action == 2 ? {display:\'none\'} : {display:\'block\'}" flex="80">\r\n            <label>Asset Default Cost</label>\r\n            <md-select ng-model="selected_costField">\r\n                <md-option ng-repeat="cost in costField" ng-value="cost.value">\r\n                    {{cost.name}}\r\n                </md-option>\r\n            </md-select>\r\n        </md-input-container>\r\n        <button class="md-icon-button md-button" ng-click="collapseExpand(assetsGrid)" style="{{isToGlobalTemplate ? \'\' : \'bottom: -18px\'}}">\r\n            <md-icon md-svg-icon="collapse_expand"></md-icon>\r\n            <md-tooltip md-direction="bottom">Collapse/Expand All</md-tooltip>\r\n        </button>\r\n    </section>\r\n</section>\r\n<section layout="row" layout-align="end start" class="grid-toolbar" ng-if="replace">\r\n    <button class="md-icon-button md-button" ng-click="collapseExpand(assetsGrid)">\r\n        <md-icon md-svg-icon="collapse_expand"></md-icon>\r\n        <md-tooltip md-direction="bottom">Collapse/Expand All</md-tooltip>\r\n    </button>\r\n</section>\r\n<div id="addAssetsGrid"></div>'),n.put("app/Directives/Elements/CategorySettingsGrid.html",'<md-input-container class="md-block" flex-gt-xs="35" style="margin: 0 0 0 16px">\r\n    <md-checkbox ng-if="isSubcategory" ng-model="data.use_category_settings" class="checkbox" aria-label="use category settings">Use category settings</md-checkbox>\r\n</md-input-container>\r\n<md-card-content class="gray-color" layout-gt-sm="row" layout-align-gt-sm="space-between bottom">\r\n    \x3c!--<section layout-gt-sm="row" layout-align-gt-sm="space-between bottom" class="md-block">--\x3e\r\n    <md-input-container class="md-block" flex-gt-xs="35">\r\n        <label class="padding-right padding-left" style="margin-top: 40px;margin-bottom: 0px;"><strong ng-if="!data.use_category_settings">Asset Attributes</strong></label>\r\n    </md-input-container>\r\n    <md-input-container class="md-block" flex-gt-xs="30" ng-show="!data.use_category_settings && isSubcategory" style="margin-bottom: 10px">\r\n        <label>Default Asset Code</label>\r\n        <md-select name="asset_code" ng-model="data.asset_code">\r\n            <md-option ng-repeat="code in assetCodes" ng-value="code.prefix">\r\n                {{code.description}} -- ({{code.prefix}})\r\n            </md-option>\r\n        </md-select>\r\n    </md-input-container>\r\n    <section class="disable-enable-all" ng-class="{\'padding-top\': isSubcategory}" flex-gt-xs="{{isSubcategory ? \'35\' : \'70\'}}" layout="row" layout-align="end bottom">\r\n        <md-button ng-click="EnableDisableAll(\'E\')" class="md-raised">Enable All</md-button>\r\n        <md-button ng-click="EnableDisableAll(\'D\')" class="md-raised">Disable All</md-button>\r\n    </section>\r\n    \x3c!--</section>--\x3e\r\n</md-card-content>\r\n<div kendo-grid="settingsGrid" options="options" style="margin-top: 5px;" ng-show="!data.use_category_settings">\r\n</div>'),n.put("app/Directives/Elements/comboBox.html",'<md-input-container class="md-block" flex="100">\r\n    <label>{{label}}</label>\r\n    <md-select ng-model="selectedItem" ng-change="change()" ng-required="isRequired">\r\n        <md-option ng-value="option" ng-repeat="option in data">{{option[textProperty] + (option[textProperty2] ? \' \' + textPropertySeparator + \' \' + option[textProperty2] : \'\')}}</md-option>\r\n    </md-select>\r\n    <div ng-messages="form[name].$error">\r\n        <div ng-message="required">{{label}} is required</div>\r\n    </div>\r\n</md-input-container>'),n.put("app/Directives/Elements/ContactsGrid.html",'<section layout="column" ng-cloak class="md-inline-form padding-bottom padding-top">\r\n    <section layout="row" ng-cloak layout-wrap class="grid-toolbar" ng-if="canEdit">\r\n        <section layout="row" layout-align="start center" flex="50" class="gray-color">\r\n            <button class="md-icon-button md-button" ng-click="openAddEditModal()">\r\n                <i class="material-icons">add</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Add Contact</md-tooltip>\r\n            </button>\r\n            <button class="md-icon-button md-button" ng-click="openAddEditModal(true)">\r\n                <i class="material-icons">edit</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Edit Contact</md-tooltip>\r\n            </button>\r\n            <button class="md-icon-button md-button" ng-click="delete()">\r\n                <i class="material-icons">delete</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Delete Contact</md-tooltip>\r\n            </button>\r\n           \r\n        </section>\r\n        \x3c!--<section layout="row" layout-align="end center" flex="50">\r\n            <button class="md-icon-button md-button md-accent" ng-click="openAddEditModal()">\r\n                <i class="material-icons">add_circle</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Add Contact</md-tooltip>\r\n            </button>\r\n        </section>--\x3e\r\n    </section>\r\n    <div ng-class="{\'primary-color-header\': !canEdit, \'no-header-padding\': !canEdit, \'checkbox-grid\': canEdit }" kendo-grid="contactsGrid" options="options" k-on-data-bound="dataBound()">\r\n    </div>\r\n</section>\r\n\r\n<style parse-style>\r\n    .k-grid-content {\r\n        min-height: {{gridHeight - 100}}px; \r\n        max-height: {{gridHeight - 100 }}px;\r\n    }\r\n</style>'),n.put("app/Directives/Elements/currency.html",'<section layout="row" layout-fill layout-align="space-between none">\r\n    <section layout="row" layout-align="start start" flex="5" ng-if="valueView">\r\n        $\r\n    </section>\r\n    <section layout="row" layout-align="end end" flex="70">\r\n        {{valueView}}\r\n    </section>\r\n</section>'),n.put("app/Directives/Elements/downloadFile.html",'<a href="{{url}}" class="btn btn-primary" download="{{filename}}" aria-label="dowload file"></a>'),n.put("app/Directives/Elements/inputMoney.html",'<input type="text" ng-model="ngModel" ng-focus="focus()" ng-blur="blur()" />'),n.put("app/Directives/Elements/ITConnectivityGrid.html",'<section layout="column" ng-cloak class="md-inline-form padding-top-half padding-bottom" ng-class="{\'padding-top\': !inAccordion, \'padding-left\': !inAccordion, \'padding-right\': !inAccordion}">\r\n\r\n    \x3c!-- Toolbar --\x3e\r\n    <section layout="row" ng-cloak layout-wrap class="grid-toolbar" ng-if="!hideToolbar">\r\n        <section layout="row" layout-align="start center" flex="80">\r\n            <button class="md-icon-button md-button" ng-click="openAddEditModal()">\r\n                <i class="material-icons">add</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Add Box</md-tooltip>\r\n            </button>\r\n            <button class="md-icon-button md-button" ng-click="openAddEditModal(true)">\r\n                <i class="material-icons">edit</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Edit Selected Boxes</md-tooltip>\r\n            </button>\r\n            <button class="md-icon-button md-button" ng-click="delete()">\r\n                <i class="material-icons">delete</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Delete Box</md-tooltip>\r\n            </button>\r\n            <button class="md-icon-button md-button" ng-click="exportGrid()" ng-if="!isTemplate">\r\n                <i class="material-icons">description</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Export</md-tooltip>\r\n            </button>\r\n        </section>\r\n        \x3c!--<section layout="row" layout-align="end center" flex="20">\r\n            <button class="md-icon-button md-button" ng-click="openAddEditModal()">\r\n                <md-icon ng-class="{\'md-accent\': inAccordion}">{{inAccordion ? \'add_circle\' : \'add\'}}</md-icon><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Add New Box</md-tooltip>\r\n            </button>\r\n        </section>--\x3e\r\n    </section>\r\n    \x3c!-- Toolbar --\x3e\r\n\r\n    <div class="checkbox-grid" kendo-grid="itConnectivityGrid" options="options" k-on-data-bound="dataBound()">\r\n    </div>\r\n</section>\r\n\r\n<style parse-style>\r\n     aw-accordion .k-grid-content {\r\n        min-height:{{gridHeight - 150}}px;\r\n        max-height:{{gridHeight - 150}}px;\r\n    }\r\n</style>'),n.put("app/Directives/Elements/jsnForm.html",'<div ng-form="jsnForm">\r\n        <section layout-gt-xs="row" layout-align-gt-sm="space-between bottom">\r\n            <md-input-container class="md-block" flex-gt-xs="20" ng-if="!new">\r\n                <aw-autocomplete-jsn name="jsn_id"\r\n                                     ng-model="asset.jsn"\r\n                                     add-option="true"\r\n                                     id-property="id"\r\n                                     text-property="jsn_code"\r\n                                     controller-name="jsn"\r\n                                     params="controllerParams"\r\n                                     max="5"\r\n                                     selected-item="asset.jsn"\r\n                                     selected-id="asset.jsn_id"\r\n                                     label="JSN Number"\r\n                                     ng-disabled="!asset.jsn.jsn_ow"></aw-autocomplete-jsn>\r\n            </md-input-container>\r\n        </section>        \r\n        <section layout-gt-xs="row" layout-align-gt-sm="space-between bottom">\r\n            <md-input-container class="md-block" flex-gt-xs="25" ng-if="new">\r\n                <label>JSN</label>\r\n                <input name="jsn_code" ng-model="asset.jsn.jsn_code" maxlength="5" aw-exists="{{anotherJSN}}" ng-required="new" capitalize ng-disabled="!asset.jsn.jsn_ow">\r\n                <div ng-messages="jsnForm.jsn_code.$error">\r\n                    <div ng-message="required">JSN is required</div>\r\n                    <div ng-message="exists">JSN already exists in that domain</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block" flex-gt-xs="20">\r\n                <label>JSN Suffix</label>\r\n                <input name="jsn_suffix" ng-model="asset.jsn_suffix" maxlength="5" ng-disabled="!asset.jsn.jsn_ow">\r\n            </md-input-container>\r\n            <md-input-container class="md-block" flex-gt-xs="50" ng-if="!inventoryEditing">\r\n                <label>Nomenclature</label>\r\n                <input name="nomenclature" ng-model="asset.jsn.nomenclature" maxlength="250" ng-required="new" ng-readonly="!new" ng-disabled="!asset.jsn.jsn_ow">\r\n                <div ng-messages="jsnForm.nomenclature.$error">\r\n                    <div ng-message="required">Nomenclature is required</div>\r\n                </div>\r\n            </md-input-container>\r\n            <section flex="10" style="text-align:  center">\r\n                <md-icon class="material-icons" ng-click="toggleLock()">\r\n                    {{asset.jsn.jsn_ow ? \'lock_open\' : \'lock\'}}\r\n                    <md-tooltip>\r\n                        {{asset.jsn.jsn_ow ? \'Lock\' : \'Unlock\'}} edition\r\n                    </md-tooltip>\r\n                </md-icon>\r\n            </section>\r\n        </section>\r\n        <section layout-gt-sm="row" layout-align-gt-sm="space-between bottom" class="md-block" ng-if="!inventoryEditing">\r\n            \x3c!--<md-input-container class="md-block" flex-gt-xs="20">\r\n                <aw-autocomplete name="asset_code"\r\n                                 ng-model="asset.jsn.asset_code"\r\n                                 id-property="prefix"\r\n                                 domain-property="domain_id"\r\n                                 text-property="description"\r\n                                 text-property-2="prefix"\r\n                                 text-property-separator="--"\r\n                                 controller-name="assetCodes"\r\n                                 params="controllerParamsCode"\r\n                                 selected-item="asset.jsn.asset_code"\r\n                                 label="Code *" required></aw-autocomplete>\r\n                <div ng-messages="jsnForm.asset_code.$error">\r\n                    <div ng-message="required">Code is required</div>\r\n                </div>\r\n            </md-input-container>--\x3e\r\n            <md-input-container class="md-block" flex-gt-sm="100">\r\n                <label>Comment</label>\r\n                <textarea ng-model="asset.jsn.comments" name="jsn_comments" md-maxlength="1000" maxlength="1000" rows="1"\r\n                          columns="1" ng-readonly="!new" ng-disabled="!asset.jsn.jsn_ow"></textarea>\r\n            </md-input-container>\r\n        </section>\r\n        <section layout-gt-sm="row" layout-align-gt-sm="space-between bottom" class="md-block" ng-if="!inventoryEditing">\r\n            <md-input-container class="md-block" flex-gt-sm="100">\r\n                <label>Description</label>\r\n                <textarea ng-model="asset.jsn.description" name="jsn_description" md-maxlength="10000" maxlength="10000"\r\n                          rows="1" columns="1" ng-required="new" ng-readonly="!new" ng-disabled="!asset.jsn.jsn_ow"></textarea>\r\n                <div ng-messages="jsnForm.jsn_description.$error">\r\n                    <div ng-message="required">Description is required</div>\r\n                </div>\r\n            </md-input-container>\r\n        </section>\r\n        <section layout-gt-xs="row" layout-align-gt-sm="space-between bottom">\r\n            <md-input-container class="md-block" flex-gt-xs="30">\r\n                <label>Utility 1</label>\r\n                <md-select name="jsn_utility1" ng-model="asset.jsn.utility1" ng-disabled="!asset.jsn.jsn_ow">\r\n                    <md-option ng-repeat="u1 in utility1" ng-value="u1.code">\r\n                        {{u1.code == \'N/A\' ? u1.description : u1.code + \': \' + u1.description}}\r\n                    </md-option>\r\n                </md-select>\r\n            </md-input-container>\r\n            <md-input-container class="md-block" flex-gt-xs="30">\r\n                <label>Utility 2</label>\r\n                <md-select name="jsn_utility2" ng-model="asset.jsn.utility2" ng-disabled="!asset.jsn.jsn_ow">\r\n                    <md-option ng-repeat="u1 in utility2" ng-value="u1.code">\r\n                        {{u1.code == \'N/A\' ? u1.description : u1.code + \': \' + u1.description}}\r\n                    </md-option>\r\n                </md-select>\r\n            </md-input-container>\r\n            <md-input-container class="md-block" flex-gt-xs="30">\r\n                <label>Utility 3</label>\r\n                <md-select name="jsn_utility3" ng-model="asset.jsn.utility3" ng-disabled="!asset.jsn.jsn_ow">\r\n                    <md-option ng-repeat="u1 in utility3" ng-value="u1.code">\r\n                        {{u1.code == \'N/A\' ? u1.description : u1.code + \': \' + u1.description}}\r\n                    </md-option>\r\n                </md-select>\r\n            </md-input-container>\r\n        </section>\r\n        <section layout-gt-xs="row" layout-align-gt-sm="space-between bottom">\r\n            <md-input-container class="md-block" flex-gt-xs="30">\r\n                <label>Utility 4</label>\r\n                <md-select name="jsn_utility4" ng-model="asset.jsn.utility4" ng-disabled="!asset.jsn.jsn_ow">\r\n                    <md-option ng-repeat="u1 in utility4" ng-value="u1.code">\r\n                        {{u1.code == \'N/A\' ? u1.description : u1.code + \': \' + u1.description}}\r\n                    </md-option>\r\n                </md-select>\r\n            </md-input-container>\r\n            <md-input-container class="md-block" flex-gt-xs="30">\r\n                <label>Utility 5</label>\r\n                <md-select name="jsn_utility5" ng-model="asset.jsn.utility5" ng-disabled="!asset.jsn.jsn_ow">\r\n                    <md-option ng-repeat="u1 in utility5" ng-value="u1.code">\r\n                        {{u1.code == \'N/A\' ? u1.description : u1.code + \': \' + u1.description}}\r\n                    </md-option>\r\n                </md-select>\r\n            </md-input-container>\r\n            <md-input-container class="md-block" flex-gt-xs="30">\r\n                <label>Utility 6</label>\r\n                <md-select name="jsn_utility6" ng-model="asset.jsn.utility6" ng-disabled="!asset.jsn.jsn_ow">\r\n                    <md-option ng-repeat="u1 in utility6" ng-value="u1.code">\r\n                        {{u1.code == \'N/A\' ? u1.description : u1.code + \': \' + u1.description}}\r\n                    </md-option>\r\n                </md-select>\r\n            </md-input-container>\r\n        </section>\r\n</div>\r\n'),n.put("app/Directives/Elements/locationsGrid.html",'\x3c!--div class="checkbox-grid" kendo-grid="locationsGrid" k-on-data-bound="dataBound()" options="locationsOptions">\r\n</div>--\x3e\r\n\r\n<section layout="row" class="grid-toolbar" ng-cloak>\r\n    <section flex="80" flex-offset="10" layout="row" layout-align="center center">\r\n        <md-input-container class="md-block no-md-errors-spacer search-box" flex-gt-sm="40">\r\n            <label>Search</label>\r\n            <input name="search" ng-model="searchBoxValue" ng-enter="searchLocations(searchBoxValue)">\r\n        </md-input-container>\r\n        <button class="md-icon-button md-button gray-color" style="bottom: -1.2em; padding-left: 0px; margin-left: 0px" ng-click="clearAllFilters()">\r\n            <i class="material-icons">delete_sweep</i><div class="md-ripple-container"></div>\r\n            <md-tooltip md-direction="bottom">Clear all filters</md-tooltip>\r\n        </button>\r\n    </section>\r\n    <section layout="row" layout-align="end start" flex="10">\r\n        <button class="md-icon-button md-button" ng-click="collapseExpand(locationsGrid)" style="bottom: -18px">\r\n            <md-icon md-svg-icon="collapse_expand"></md-icon>\r\n            <md-tooltip md-direction="bottom">Collapse/Expand All</md-tooltip>\r\n        </button>\r\n    </section>\r\n</section>\r\n\r\n<div id="locationGrid"></div>\r\n\r\n\x3c!--<style parse-style>\r\n    .k-grid-content {\r\n        max-height:{{gridHeight - 130}}px; \r\n        min-height:{{gridHeight - 130}}px;\r\n    }\r\n</style>--\x3e'),n.put("app/Directives/Elements/POVendorContact.html",'<section layout="row" layout-align="end center">\r\n    <button class="md-icon-button md-button md-accent gray-color" ng-click="save()"><md-icon md-svg-src="save_black" aria-label="save"></md-icon></button>\r\n</section>\r\n<form name="vendorContact" id="vendorContact" novalidate>\r\n    <section layout="row" layout-align="space-between center">\r\n        <md-input-container class="md-block" flex-gt-xs="30">\r\n            <label>Name</label>\r\n            <input name="name" ng-model="data.name" required>\r\n            <div ng-messages="vendorContact.name.$error">\r\n                <div ng-message="required">Name is required</div>\r\n            </div>\r\n        </md-input-container>\r\n        <md-input-container class="md-block" flex-gt-xs="30">\r\n            <label>Title</label>\r\n            <input name="title" ng-model="data.title">\r\n        </md-input-container>\r\n        <md-input-container class="md-block" flex-gt-xs="30">\r\n            <label>Email</label>\r\n            <input name="email" type="email" ng-model="data.email" maxlength="50">\r\n            <div ng-messages="vendorContact.email.$error">\r\n                <div ng-message="email">Must be a valid email address</div>\r\n            </div>\r\n        </md-input-container>\r\n    </section>\r\n    <section layout="row" layout-align="space-between center">\r\n        <md-input-container class="md-block" flex-gt-sm="15">\r\n            <label>Phone #</label>\r\n            <input name="phone" ng-model="data.phone" maxlength="20">\r\n        </md-input-container>\r\n        <md-input-container class="md-block" flex-gt-sm="15">\r\n            <label>Mobile #</label>\r\n            <input name="mobile" ng-model="data.mobile" maxlength="20">\r\n        </md-input-container>\r\n        <md-input-container class="md-block" flex-gt-sm="15">\r\n            <label>Fax #</label>\r\n            <input name="fax" ng-model="data.fax" maxlength="20">\r\n        </md-input-container>\r\n        <md-input-container class="md-block" flex-gt-sm="40">\r\n            <label>Comment</label>\r\n            <textarea ng-model="data.comment" name="comment" md-maxlength="1000" rows="1" columns="1"></textarea>\r\n            <div ng-messages="vendorContact.comment.$error" role="alert">\r\n                <div ng-message="md-maxlength">Only 1000 characters are allowed</div>\r\n            </div>\r\n        </md-input-container>\r\n    </section>\r\n    <section layout="row" layout-align="space-between center"></section>\r\n</form>'),n.put("app/Directives/Elements/procurement.html",'<div ng-form="procurementForm">\r\n    <table width="100%" style="margin-bottom:{{projectLevel ? 0 : 20}}px;">\r\n        <tr>\r\n            <td ng-if="projectLevel" valign="bottom">\r\n                <label>{{title}} (P: {{costs.projected}} / A: {{costs.actual}})</label>\r\n            </td>\r\n            <td ng-if="!projectLevel" width="90%" valign="bottom">\r\n                <md-input-container layout="row" style="margin-bottom:-5px; margin-left:0px;padding-bottom:-1px;">\r\n                    <label>{{title}} (P: {{costs.projected}} / A: {{costs.actual}})</label>\r\n                    <input name="{{columnName}}" ng-model="data[columnName]" aw-currency aw-currency-model ng-readonly="readonly">\r\n                    <div ng-messages="procurementForm[columnName].$error" role="alert">\r\n                        <div ng-message="currency" class="my-message">\r\n                            {{title}} must be currency\r\n                        </div>\r\n                    </div>\r\n                </md-input-container>\r\n            </td>\r\n            <td rowspan="2" align="left" valign="bottom">\r\n                <md-button class="md-primary md-icon-button label-info-icon" style="padding:0;margin-left:0;margin-bottom:-14px !important">\r\n                    <md-icon class="material-icons info-icon md-primary" style="margin:0;padding:0;border:none">\r\n                        info\r\n                        <md-tooltip ng-if="infoMessage">\r\n                            {{infoMessage}}\r\n                        </md-tooltip>\r\n                        <md-tooltip ng-if="!infoMessage">\r\n                            Budget: {{costs.budget}}<br />\r\n                            Planned: {{costs.planned}}<br />\r\n                            Projected: {{costs.projected}}<br />\r\n                            Actual: {{costs.actual}}<br />\r\n                            Delta: {{costs.delta}}<br>\r\n                            Planned Qty: {{costs.budget_qty}}<br>\r\n                            PO Qty: {{costs.po_qty}}<br>\r\n                            DNP Qty: {{costs.dnp_qty}}<br>\r\n                        </md-tooltip>\r\n                    </md-icon>\r\n                </md-button>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td style="margin-top:0px">\r\n                <md-progress-linear md-mode="determinate" value="{{progress_cost}}"></md-progress-linear>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n\r\n    \r\n\r\n    \x3c!--<section layout-gt-xs="row" layout-align="start start" class="md-block" flex-gt-xs="{{size}}">\r\n        <md-input-container class="md-block" flex-gt-xs="90">\r\n            <md-input-container layout="row" ng-if="projectLevel">\r\n                <label style="font-size:small;padding-bottom:6px;">{{title}} (P: {{costs.projected_cost}} / A: {{costs.po_total}})</label>\r\n            </md-input-container>\r\n            <md-input-container layout="row" ng-if="!projectLevel" style="margin-bottom:0px;">\r\n                <label>{{title}} (P: {{costs.projected_cost}} / A: {{costs.po_total}})</label>\r\n                <input name="{{columnName}}" ng-model="data[columnName]" aw-currency>\r\n                <div ng-messages="procurementForm[columnName].$error" role="alert">\r\n                    <div ng-message="currency" class="my-message">\r\n                        {{title}} must be currency\r\n                    </div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container layout="row" style="margin-top:1px;">\r\n                <md-progress-linear md-mode="determinate" value="{{progress_cost}}"></md-progress-linear>\r\n            </md-input-container>\r\n        </md-input-container>\r\n        <md-input-container class="md-block label-info-icon" flex-gt-xs="10">\r\n            <md-button class="md-primary md-icon-button label-info-icon" style="min-height:1%;height:15px;margin-top:{{projectLevel ? 20 : 35}}px;margin-left:-19px;">\r\n                <md-icon class="material-icons info-icon md-primary">\r\n                    info\r\n                    <md-tooltip>\r\n                        Budget: {{costs.total_budget}}<br />\r\n                        Planned: {{costs.planned_budget}}<br />\r\n                        Projected: {{costs.projected_cost}}<br />\r\n                        Actual: {{costs.po_total}}<br />\r\n                        Delta: {{costs.planned_budget_delta}}<br>\r\n                    </md-tooltip>\r\n                </md-icon>\r\n            </md-button>\r\n        </md-input-container>\r\n    </section>--\x3e\r\n</div>\r\n'),n.put("app/Domains/Modals/EditDomain.html",'<md-dialog aria-label="addDomain" ng-cloak flex-gt-xs="50">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        {{edit ? \'Edit\' : \'Add\'}} Enterprise\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloack>\r\n        <form name="addDomainForm" id="addDomainForm">\r\n            <section layout-gt-xs="row" flex="100" layout-align="space-between start">\r\n                <md-input-container class="md-block" flex-gt-sm="{{edit ? 100 : 45}}" flex-sm="{{edit ? 100 : 45}}">\r\n                    <label>Name</label>\r\n                    <input name="name" ng-model="domain.name" maxlength="60" required aw-exists="{{anotherDomains}}" property="name">\r\n                    <div ng-messages="addDomainForm.name.$error">\r\n                        <div ng-message="required">Domain name is required</div>\r\n                        <div ng-message="exists">Domain name already exists</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-sm="45" flex-sm="45" ng-if="!edit">\r\n                    <label>Administrator email</label>\r\n                    <input name="email" ng-model="domain.email" maxlength="100" required>\r\n                    <div ng-messages="addDomainForm.email.$error">\r\n                        <div ng-message="required">Administrator email is required</div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n            <section layout-gt-xs="row" flex="100" layout-align="space-between start">\r\n                <md-input-container class="md-block" flex-gt-sm="45" flex-sm="45">\r\n                    <label>Type</label>\r\n                    <md-select ng-model="domain.type" name="type" required ng-change="changeDomain(domain.type)">\r\n                        <md-option value="E">Enterprise</md-option>\r\n                        <md-option value="M">Manufacturer</md-option>\r\n                    </md-select>\r\n                    <div ng-messages="addDomainForm.type.$error">\r\n                        <div ng-message="required">Type is required</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-sm="45" flex-sm="45" ng-if="domain.type == \'M\'">\r\n                    <label>Manufacturers</label>\r\n                    <md-select ng-model-options="{trackBy: \'$value.manufacturer_id\'}" ng-model="domain.manufacturers" name="manufacturer" required multiple>\r\n                        <md-option ng-repeat="mnf in availableManufacturers" ng-value="mnf">\r\n                            {{mnf.manufacturer_description}}\r\n                        </md-option>\r\n                    </md-select>\r\n                    <div ng-messages="addDomainForm.manufacturer.$error">\r\n                        <div ng-message="required">Manufacturer is required</div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n            <section layout-gt-xs="row" flex="100" layout-align="space-between start">\r\n                <md-input-container class="md-block" flex-gt-sm="45" flex-sm="45">\r\n                    <md-checkbox ng-disabled="domain.type === \'M\'" ng-model="domain.show_audax_info" aria-label="show_audaxware_data">\r\n                        Show Audaxware Data\r\n                    </md-checkbox>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-sm="45" flex-sm="45" ng-if="edit">\r\n                    <md-checkbox ng-model="domain.enabled" aria-label="enabled">\r\n                        Enabled\r\n                    </md-checkbox>\r\n                </md-input-container>\r\n            </section>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="save()">Save</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Manufacturer/Modals/AddManufacturer.html",'<md-dialog aria-label="addManufacturer" flex-gt-xs="30">\r\n    <md-toolbar layout="row" layout-align="center center" ng-cloak>\r\n        Add Manufacturer\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak>\r\n        <form name="addManufacturerForm" id="addManufacturerForm">\r\n            <md-input-container class="md-block">\r\n                <label>Name</label>\r\n                <input name="manufacturer_description" ng-model="manufacturer.manufacturer_description" maxlength="100" aw-exists="{{anotherManufacturers}}" required>\r\n                <div ng-messages="addManufacturerForm.manufacturer_description.$error">\r\n                    <div ng-message="required">Name is required</div>\r\n                    <div ng-message="maxlength">Only 100 characters are allowed</div>\r\n                    <div ng-message="exists">Manufacturer name already exists in this domain</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label>Comment</label>\r\n                <textarea ng-model="manufacturer.comment" name="comment" columns="1" md-maxlength="250" maxlength="250" rows="1"></textarea>\r\n                <div ng-messages="addManufacturerForm.comment.$error" role="alert">\r\n                    <div ng-message="md-maxlength" class="my-message">\r\n                        Only 250 characters are allowed!\r\n                    </div>\r\n                </div>\r\n            </md-input-container>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row" ng-cloak>\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="add()">Add</md-button>\r\n        <md-button class="md-primary" ng-click="add(true)">Add and Close</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/POs/Modals/AddPO.html",'<md-dialog aria-label="add option" ng-cloak class="max-width-40 width-40">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Add Purchase Order\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak>\r\n        <form name="addPOForm" id="addPOForm">\r\n            <md-input-container class="md-block no-md-errors-spacer">\r\n                <label>Description</label>\r\n                <input name="description" ng-model="data.description" maxlength="250" required>\r\n                <div ng-messages="addPOForm.description.$error">\r\n                    <div ng-message="required">PO description is required</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block" style="bottom: 10px">\r\n                <aw-autocomplete ng-model="data.vendor"\r\n                                 name="vendor"\r\n                                 add-option="true"\r\n                                 controller-name="vendor"\r\n                                 params="vendorCtrlParams"\r\n                                 max="50"\r\n                                 selected-item="data.vendor"\r\n                                 selected-id="data.vendor_id"\r\n                                 selected-domain="data.vendor_domain_id"\r\n                                 descriptive-property="domain.name"\r\n                                 id-property="vendor_id"\r\n                                 label="Vendor *"\r\n                                 required>\r\n                </aw-autocomplete>\r\n                <div ng-messages="addPOForm.vendor.$error">\r\n                    <div ng-message="required">Vendor is required</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label>Comment</label>\r\n                <textarea ng-model="data.comment" name="comment" columns="1" md-maxlength="1000" maxlength="1000" rows="1"></textarea>\r\n                <div ng-messages="addPOForm.comment.$error" role="alert">\r\n                    <div ng-message="md-maxlength" class="my-message">\r\n                        Only 1000 characters are allowed\r\n                    </div>\r\n                </div>\r\n            </md-input-container>\r\n            \x3c!--<md-checkbox ng-model="data.upd_asset_value" aria-label="upd_asset_value">\r\n                Allows automatically update asset min/max value\r\n            </md-checkbox>--\x3e\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row" layout-wrap>\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="add()">Add</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/POs/Modals/AddPOAsset.html",'<md-dialog aria-label="add_po_asset" ng-cloak flex-gt-xs="90" class="all-screen">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Add Asset to Purchase Order\r\n    </md-toolbar>\r\n    <md-dialog-content layout="column" ng-cloak class="md-inline-form not-scrollable">\r\n        <section class="padding-top">\r\n            <div class="checkbox-grid" kendo-grid="assetsGrid" k-on-data-bound="dataBound(assetsGrid)" options="options">\r\n            </div>\r\n        </section>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n        <md-input-container class="md-block" flex-gt-xs="30">\r\n            <md-checkbox ng-model="show_unapproved" aria-label="show_unapproved" style="margin-top: 7px;" ng-change="changeGrid()">\r\n                Show planned and not approved assets\r\n            </md-checkbox>\r\n        </md-input-container>\r\n        <md-content flex-gt-xs="50">\r\n            <md-input-container ng-show="show_unapproved">\r\n                <b><FONT color="Red">IMPORTANT:</FONT></b> You have selected unapproved assets, they will be automatically approved\r\n            </md-input-container>\r\n        </md-content>\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="add()">Add</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>\r\n\r\n\r\n<style type="text/css" parse-style>\r\n    .k-grid-content {\r\n        max-height:{{gridHeight - 100}}px;\r\n        min-height:{{gridHeight - 100}}px;\r\n    }\r\n</style> '),n.put("app/POs/Modals/ExpiratedQuotePOs.html",'<md-dialog aria-label="request PO" flex-gt-sm="70">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Expirated Quote POs\r\n    </md-toolbar>\r\n    <md-dialog-content layout="column" class="md-inline-form padding-top" ng-cloak>\r\n        <section layout="column" layout-align="top center" class="gray-color" style="margin-bottom: 1em">\r\n            <h3>The following POs have passed the quote expiration date</h3>\r\n        </section>\r\n        <div kendo-grid="expiratedPOsGrid" options={{options}} k-on-data-bound="dataBound(expiratedPOsGrid)">\r\n        </div>\r\n    </md-dialog-content>\r\n    <md-dialog-actions ng-cloak>\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>\r\n\r\n<style parse-style>\r\n    .k-grid-content {\r\n        max-height:{{gridHeight - 120}}px;\r\n        min-height:{{gridHeight - 120}}px;\r\n    }\r\n</style> '),n.put("app/POs/Modals/ReceivePO.html",'<script type="text/javascript">\r\n    $(document).ready(function () {\r\n\r\n        $(\'.datepicker\').kendoMaskedTextBox({\r\n            mask: "99/99/9999"\r\n        });\r\n\r\n    });\r\n<\/script>\r\n\r\n<md-dialog aria-label="request PO" ng-cloak flex="30">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Receive PO\r\n    </md-toolbar>\r\n    <md-dialog-content layout="column" class="md-inline-form padding-top">\r\n        <form name="receivePOForm" id="receivePOForm" ng-cloak class="padding-top">\r\n            <div layout="column" class="kendo-date" layout-align="center center" flex="70" flex-offset="15">\r\n                <label>Received Date *</label>\r\n                <input kendo-date-picker\r\n                       ng-model="po.po_received_date"\r\n                       k-min="po.po_requested_date"\r\n                       class="datepicker"\r\n                       k-format="MM/dd/yyyy"\r\n                       name="po_received_date"\r\n                       aw-valid-date required />\r\n                <div ng-if="receivePOForm.po_received_date.$touched" ng-messages="receivePOForm.po_received_date.$error" role="alert">\r\n                    <div ng-message="valid-date" class="my-message kendo-date-validation">\r\n                        Invalid Date\r\n                    </div>\r\n                    <div ng-message="required" class="my-message kendo-date-validation">\r\n                        Received date is required\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <md-input-container class="md-block">\r\n                <label>PO Number</label>\r\n                <input name="po_number" ng-model="po.po_number" required>\r\n                <div ng-messages="receivePOForm.po_number.$error" role="alert">\r\n                    <div ng-message="required" class="my-message">\r\n                        PO Number is required\r\n                    </div>\r\n                </div>\r\n            </md-input-container>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions>\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="save()">Save</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/POs/Modals/ReceiveQuote.html",'<md-dialog aria-label="request PO" flex="30">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Receive Quote\r\n    </md-toolbar>\r\n    <md-dialog-content layout="column" class="md-inline-form padding-top" ng-cloak>\r\n        <form name="receiveQuoteForm" id="receiveQuoteForm" ng-cloak class="padding-top">\r\n            <md-input-container flex="70" flex-offset="15">\r\n                <label>Received Date</label>\r\n                <md-datepicker ng-model="po.quote_received_date" name="quote_received_date" md-min-date="po.quote_requested_date" required></md-datepicker>\r\n                <div ng-messages="receiveQuoteForm.quote_received_date.$error">\r\n                    <div ng-message="valid">Invalid Date</div>\r\n                    <div ng-message="required">Received date is required</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block" style="margin-top: -15px">\r\n                <label>Quote Number</label>\r\n                <input name="quote_number" ng-model="po.quote_number" required>\r\n                <div ng-messages="receiveQuoteForm.quote_number.$error" role="alert">\r\n                    <div ng-message="required" class="my-message">\r\n                        Quote Number is required\r\n                    </div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block" style="margin-bottom: -5px">\r\n                <label>Quote Amount</label>\r\n                <input name="quote_amount" ng-model="po.quote_amount" aw-currency aw-currency-model>\r\n                <div ng-messages="receiveQuoteForm.quote_amount.$error" role="alert">\r\n                    <div ng-message="currency">Must be currency</div>\r\n                </div>\r\n            </md-input-container>\r\n            <small>The quote amount should include all items including assets, freight, etc. This amount is used to verify data entry in the PO Detail.</small>\r\n            \x3c!--<section layout-gt-xs="row" layout-align-gt-xs="space-around start">\r\n                <section flex-gt-xs="45">\r\n                    <md-input-container class="md-block">\r\n                        <label>Freight</label>\r\n                        <input name="freight" ng-model="po.freight" aw-currency aw-currency-model>\r\n                        <div ng-messages="receiveQuoteForm.freight.$error" role="alert">\r\n                            <div ng-message="currency">Must be currency</div>\r\n                        </div>\r\n                    </md-input-container>\r\n                    <md-input-container class="md-block">\r\n                        <label>Warranty</label>\r\n                        <input name="warranty" ng-model="po.warranty" aw-currency aw-currency-model>\r\n                        <div ng-messages="receiveQuoteForm.warranty.$error" role="alert">\r\n                            <div ng-message="currency">Must be currency</div>\r\n                        </div>\r\n                    </md-input-container>\r\n                </section>\r\n                <section flex-gt-xs="45">\r\n                    <md-input-container class="md-block">\r\n                        <label>Tax</label>\r\n                        <input name="tax" ng-model="po.tax" aw-currency aw-currency-model>\r\n                        <div ng-messages="receiveQuoteForm.tax.$error" role="alert">\r\n                            <div ng-message="currency">Must be currency</div>\r\n                        </div>\r\n                    </md-input-container>\r\n                    <md-input-container class="md-block">\r\n                        <label>Misc</label>\r\n                        <input name="misc" ng-model="po.misc" aw-currency aw-currency-model>\r\n                        <div ng-messages="receiveQuoteForm.misc.$error" role="alert">\r\n                            <div ng-message="currency">Must be currency</div>\r\n                        </div>\r\n                    </md-input-container>\r\n                </section>\r\n            </section>--\x3e\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions ng-cloak>\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="save()">Save</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/POs/Modals/RequestPOQuote.html",'<md-dialog aria-label="request PO" flex="30">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Request {{type}}\r\n    </md-toolbar>\r\n    <md-dialog-content layout="column" class="md-inline-form padding-top" ng-cloak>\r\n        <form name="requestPOForm" id="requestPOForm" ng-cloak class="padding-top">\r\n            <md-input-container flex="70" flex-offset="15">\r\n                <label>Requested Date</label>\r\n                <md-datepicker ng-model="po.date" name="requested_date" md-min-date="minDate" required></md-datepicker>\r\n                <div ng-messages="requestPOForm.requested_date.$error">\r\n                    <div ng-message="valid">Invalid Date</div>\r\n                    <div ng-message="required">Requested date is required</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container flex="70" flex-offset="15">\r\n                <label>Expiration Date</label>\r\n                <md-datepicker ng-model="po.quote_expiration_date" name="expiration_date" md-min-date="minDate"></md-datepicker>\r\n                <div ng-messages="requestPOForm.expiration_date.$error">\r\n                    <div ng-message="valid">Invalid Date</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block" ng-if="type === \'po\'" style="margin-top: -15px">\r\n                <label>Requisition Number</label>\r\n                <input name="po_requested_number" ng-model="po.po_requested_number">\r\n                \x3c!--<div ng-messages="requestPOForm.po_requested_number.$error" role="alert">\r\n            <div ng-message="required" class="my-message">\r\n                Requisition Number is required\r\n            </div>\r\n        </div>--\x3e\r\n            </md-input-container>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions ng-cloak>\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="save()">Save</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/POs/Modals/UploadPOFiles.html",'<md-dialog aria-label="make available to po" flex-gt-xs="30">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Upload Files\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak>\r\n        <form name="uploadForm" id="uploadForm" layout="column" layout-align="space-between none">\r\n            <section ng-show="!show_firefox">\r\n                <md-input-container class="md-block">\r\n                    <label for="quote">Quote (pdf)</label>\r\n                    <input name="quote" id="quote" ngf-select ng-value="files.quote.name" ng-model="files.quote" accept=".pdf" aw-upload-file-size="fileSizeLimit" />\r\n                    <div ng-messages="uploadForm.quote.$error">\r\n                        <div ng-message="awUploadFileSize">The file size limit is {{fileSizeLimit}}Mb</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block">\r\n                    <label for="po">PO (pdf)</label>\r\n                    <input name="po" id="po" ngf-select ng-value="files.po.name" ng-model="files.po" accept=".pdf" aw-upload-file-size="fileSizeLimit" />\r\n                    <div ng-messages="uploadForm.po.$error">\r\n                        <div ng-message="awUploadFileSize">The file size limit is {{fileSizeLimit}}Mb</div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n            <section ng-show="show_firefox">\r\n                <md-input-container class="md-block">\r\n                    <label for="cutsheetF" style="padding-bottom:28px">Quote (pdf)</label>\r\n                    <input type="file" name="quoteF" id="quoteF" accept=".pdf" ng-model="files.quote" aw-upload-file-size="fileSizeLimit" firefox />\r\n                    <div ng-messages="uploadForm.quoteF.$error">\r\n                        <div ng-message="awUploadFileSize">The file size limit is {{fileSizeLimit}}Mb</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block">\r\n                    <label for="poF" style="padding-bottom:28px">PO (pdf)</label>\r\n                    <input type="file" name="poF" id="poF" accept=".pdf" ng-model="files.po" aw-upload-file-size="fileSizeLimit" firefox />\r\n                    <div ng-messages="uploadForm.cadblockF.$error">\r\n                        <div ng-message="awUploadFileSize">The file size limit is {{fileSizeLimit}}Mb</div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n            <section ng-if="uploadForm.$error.awUploadFileSize && uploadForm.$error.awUploadFileSize.length > 0">\r\n                <span class="error-message">If you have to upload a file with more than {{fileSizeLimit}}Mb, please reduce the size of the file or contact Audaxware at &lt;support@audaxware.com&gt;</span>\r\n            </section>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row" ng-cloak>\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="save()">Save</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Projects/Addresses/AddressesGrid.html",'<md-content layout="column" ng-cloack class="md-inline-form" ng-controller="AddressesGridCtrl">\r\n    <div class="checkbox-grid" kendo-grid="addressesGrid" options="options" k-on-data-bound="dataBound()" ng-cloak>\r\n    </div>\r\n</md-content>'),n.put("app/Projects/Assets/Main.html",'<section class="md-inline-form">\r\n    <aw-asset-inventory-grid is-template="false" params="params" emit-buttons="emitButtons(value)" grid-height-subtract="250" linked-room="linked_room"></aw-asset-inventory-grid>\r\n</section>\r\n\r\n\x3c!-- FAB button --\x3e\r\n<div class="lock-size fixed-element" layout="row" layout-align="center center" ng-cloak>\r\n    <md-fab-speed-dial md-open="buttons.open" md-direction="up"\r\n                       class="md-fling">\r\n        <md-fab-trigger>\r\n            <md-button aria-label="menu" class="md-fab md-accent">\r\n                <md-icon md-svg-src="{{buttons.open ? \'close\' : \'menu\'}}"></md-icon>\r\n            </md-button>\r\n        </md-fab-trigger>\r\n        <md-fab-actions>\r\n            <div ng-repeat="button in buttons">\r\n                <md-button aria-label="{{button.label}}" class="md-fab md-mini"\r\n                           ng-click="button.click.func(button.click.params)">\r\n                    <md-tooltip md-direction="left" md-visible="false"\r\n                                md-autohide="true">\r\n                        {{button.label}}\r\n                    </md-tooltip>\r\n                    <md-icon md-svg-src="{{button.icon}}" aria-label="{{button.label}}"></md-icon>\r\n                </md-button>\r\n            </div>\r\n        </md-fab-actions>\r\n    </md-fab-speed-dial>\r\n</div>\r\n'),n.put("app/Projects/Connectivity/ConnectivityTab.html",'<section layout="column" ng-cloak class="md-inline-form padding-bottom" ng-controller="ConnectivityTabCtrl">\r\n    <section layout="row" ng-cloak layout-wrap class="grid-toolbar">\r\n        <section layout="row" layout-align="start center">\r\n            <button class="md-icon-button md-button" ng-click="addAsset()">\r\n                <i class="material-icons">add</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Add Connected Asset</md-tooltip>\r\n            </button>\r\n            <button class="md-icon-button md-button" ng-click="editAsset()">\r\n                <i class="material-icons">edit</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Edit Connected Asset</md-tooltip>\r\n            </button>\r\n            <button class="md-icon-button md-button" ng-click="delete()">\r\n                <i class="material-icons">delete</i><div class="md-ripple-container"></div>\r\n                <md-tooltip md-direction="bottom">Delete Connected Asset(s)</md-tooltip>\r\n            </button>\r\n        </section>\r\n    </section>\r\n    <div class="checkbox-grid" kendo-grid="connectedAssetGrid" options="options" k-on-data-bound="dataBound(connectedAssetGrid)">\r\n    </div>\r\n    \x3c!-- FAB button --\x3e\r\n    <div class="lock-size fixed-element" layout="row" layout-align="center center" ng-cloak ng-if="isNotViewer">\r\n        <md-fab-speed-dial md-open="buttons.state" md-direction="up"\r\n                           class="md-fling">\r\n            <md-fab-trigger>\r\n                <md-button aria-label="menu" class="md-fab md-accent">\r\n                    <md-icon md-svg-src="{{buttons.state ? \'close\' : \'menu\'}}"></md-icon>\r\n                </md-button>\r\n            </md-fab-trigger>\r\n            <md-fab-actions>\r\n                <div>\r\n                    <md-button aria-label="Export to Excel" class="md-fab md-mini"\r\n                               ng-click="exportGrid(\'excel\', connectedAssetGrid, \'Connectivity.xlsx\')">\r\n                        <md-tooltip md-direction="left" md-visible="false"\r\n                                    md-autohide="true">\r\n                            Export to Excel\r\n                        </md-tooltip>\r\n                        <md-icon md-svg-src="file_simple" aria-label="Export to Excel"></md-icon>\r\n                    </md-button>\r\n                </div>\r\n                \x3c!--<div ng-repeat="button in (params.add ? buttons.project.add : buttons.project.edit)">\r\n        <md-button aria-label="{{button.label}}" class="md-fab md-mini"\r\n                   ng-click="button.click(\'Project\')">\r\n            <md-tooltip md-direction="left" md-visible="false"\r\n                        md-autohide="true">\r\n                {{button.label}}\r\n            </md-tooltip>\r\n            <md-icon md-svg-src="{{button.icon}}" aria-label="{{button.label}}"></md-icon>\r\n        </md-button>\r\n    </div>--\x3e\r\n            </md-fab-actions>\r\n        </md-fab-speed-dial>\r\n    </div>\r\n    \x3c!--<div class="lock-size" layout="row" layout-align="center center" ng-cloak>\r\n        <md-fab-speed-dial md-open="buttons.state" md-direction="up"\r\n                           class="md-fling">\r\n            <md-fab-trigger>\r\n                <md-button aria-label="menu" class="md-fab md-accent">\r\n                    <md-icon md-svg-src="{{buttons.state ? \'close\' : \'more\'}}"></md-icon>\r\n                </md-button>\r\n            </md-fab-trigger>\r\n            <md-fab-actions>\r\n                <div>\r\n                    <md-button aria-label="Export to Excel" class="md-fab md-mini"\r\n                               ng-click="exportGrid(\'excel\', connectedAssetGrid)">\r\n                        <md-tooltip md-direction="left" md-visible="false"\r\n                                    md-autohide="true">\r\n                            Export to Excel\r\n                        </md-tooltip>\r\n                        <md-icon md-svg-src="file_simple" aria-label="Export to Excel"></md-icon>\r\n                    </md-button>\r\n                </div>\r\n            </md-fab-actions>\r\n        </md-fab-speed-dial>\r\n    </div>--\x3e\r\n\r\n</section>\r\n\r\n<style parse-style>\r\n     aw-accordion .k-grid-content {\r\n        min-height:{{gridHeight - 150}}px;\r\n        max-height:{{gridHeight - 150}}px;\r\n    }\r\n</style>'),n.put("app/Projects/Cost Center/CostCenterGrid.html",'<md-content layout="column" ng-cloack class="md-inline-form" ng-controller="CostCenterGridCtrl">\r\n    <div class="checkbox-grid" kendo-grid="costCenterGrid" options="options"  k-on-data-bound="dataBound()">\r\n    </div>\r\n</md-content>'),n.put("app/Projects/Details/Department.html",'<section layout="column" ng-cloak class="md-inline-form padding-left-half padding-right-half padding-top padding-bottom-half" ng-controller="DetailsCtrl">\r\n    <form name="detailsForm" id="detailsForm">\r\n        <aw-accordion label="Information" expanded="true">\r\n            <section layout-gt-xs="row" layout-fill layout-align="space-between bottom" class="md-block">\r\n                <md-input-container class="md-block" flex-gt-xs="40">\r\n                    <label>Description</label>\r\n                    <input name="department_name" ng-model="data.description" required maxlength="50">\r\n                    <div ng-messages="detailsForm.department_name.$error">\r\n                        <div ng-message="required">Department description is mandatory</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <section flex-gt-xs="20"\r\n                         aw-combo-box \r\n                         ng-model="data.department_type" \r\n                         name="department_type"\r\n                         form="detailsForm"\r\n                         controller-name="departmentType" \r\n                         params="controllerParams" \r\n                         text-property="description" \r\n                         id-property="department_type_id" \r\n                         selected-id="data.department_type_id" \r\n                         selected-domain="data.department_type_domain_id" \r\n                         domain-property="domain_id" label="Type",\r\n                         watch-object="!params.add" \r\n                         watched-object-id="data.department_type.department_type_id" \r\n                         required></section>\r\n                <md-input-container class="md-block" flex-gt-xs="20">\r\n                    <label>Dept Area</label>\r\n                    <input type="text" name="dept_area" ng-model="data.area" aw-only-numbers>\r\n                    <div ng-messages="detailsForm.dept_area.$error">\r\n                        <div ng-message="number">Only numbers are allowed</div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n        </aw-accordion>\r\n        <aw-accordion label="More...">\r\n            <section class="padding-top">\r\n                <md-card-content layout-gt-xs="row" layout-align="start center" ng-if="!params.add">\r\n                    <section flex-gt-xs="45">\r\n                        <label><strong>Data Added: </strong></label>\r\n                        <span>{{data.date_added | date:\'shortDate\'}}</span>\r\n                    </section>\r\n                    <section>\r\n                        <label><strong>Added by: </strong></label>\r\n                        <span>{{data.added_by}}</span>\r\n                    </section>\r\n                </md-card-content>\r\n\r\n                <section layout-gt-sm="row" layout-align="space-around bottom" class="md-block">\r\n                    <md-input-container class="md-block" flex-gt-sm>\r\n                        <label>Contact Name</label>\r\n                        <input ng-model="data.contact_name">\r\n                    </md-input-container>\r\n                    <div flex-gt-sm="10"></div>\r\n                    <md-input-container class="md-block" flex-gt-sm="20">\r\n                        <label>Contact Phone</label>\r\n                        <input ng-model="data.contact_phone">\r\n                    </md-input-container>\r\n                    <div flex-gt-sm="10"></div>\r\n                    <md-input-container class="md-block" flex-gt-sm>\r\n                        <label>Contact Email</label>\r\n                        <input name="Zip" ng-model="data.contact_email">\r\n                    </md-input-container>\r\n                </section>\r\n                <md-input-container class="md-block">\r\n                    <label>Comment</label>\r\n                    <textarea ng-model="data.comment" name="comment" columns="1" md-maxlength="1000"></textarea>\r\n                    <div ng-messages="!detailsForm.comment.$valid && detailsForm.comment.$error" role="alert">\r\n                        <div ng-message="md-maxlength" class="my-message">\r\n                            Only 1000 characters are allowed!\r\n                        </div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n        </aw-accordion>\r\n        <aw-accordion label="Rooms" ng-if="!params.add">\r\n            <section layout="column" ng-cloak class="md-inline-form level-below-grid" ng-controller="LevelBelowListCtrl">\r\n                <div class="checkbox-grid" kendo-grid="itemsGrid" options="options" k-on-data-bound="dataBound(itemsGrid)">\r\n                </div>\r\n            </section>\r\n        </aw-accordion>\r\n    </form>\r\n    \x3c!-- FAB button --\x3e\r\n    <div class="lock-size fixed-element" layout="row" layout-align="center center" ng-cloak ng-if="isNotViewer">\r\n        <md-fab-speed-dial md-open="buttons.state" md-direction="up" class="md-fling">\r\n            <md-fab-trigger>\r\n                <md-button aria-label="menu" class="md-fab md-accent">\r\n                    <md-icon md-svg-src="{{buttons.state ? \'close\' : \'menu\'}}"></md-icon>\r\n                </md-button>\r\n            </md-fab-trigger>\r\n            <md-fab-actions>\r\n                <div ng-repeat="button in (params.add ? buttons.department.add : buttons.department.edit)">\r\n                    <md-button aria-label="{{button.label}}" class="md-fab md-mini"\r\n                               ng-click="button.click(\'Department\')">\r\n                        <md-tooltip md-direction="left" md-visible="false"\r\n                                    md-autohide="true">\r\n                            {{button.label}}\r\n                        </md-tooltip>\r\n                        <md-icon md-svg-src="{{button.icon}}" aria-label="{{button.label}}"></md-icon>\r\n                    </md-button>\r\n                </div>\r\n            </md-fab-actions>\r\n        </md-fab-speed-dial>\r\n    </div>\r\n</section>\r\n'),n.put("app/Projects/Details/Phase.html",'<section layout="column" ng-cloak class="md-inline-form padding-left-half padding-right-half padding-top padding-bottom-half" ng-controller="DetailsCtrl">\r\n    <form name="detailsForm" id="detailsForm" novalidate>\r\n        <aw-accordion label="Information" expanded="true">\r\n            <section layout-gt-sm="row" layout-align="space-between start">\r\n                <md-input-container class="md-block" flex-gt-sm="30">\r\n                    <label>Description</label>\r\n                    <input type="text" ng-model="data.description" name="description" required maxlength="50">\r\n                    <div ng-messages="detailsForm.description.$error">\r\n                        <div ng-message="required">Phase description is mandatory</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container flex-gt-sm="30">\r\n                    <label>Start Date</label>\r\n                    <md-datepicker ng-model="data.start_date" name="start_date" required></md-datepicker>\r\n                    <div ng-messages="detailsForm.start_date.$error">\r\n                        <div ng-message="valid">The entered value is not a date</div>\r\n                        <div ng-message="required">Start date is required</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container flex-gt-sm="30">\r\n                    <label>End Date</label>\r\n                    <md-datepicker ng-model="data.end_date" name="end_date" required md-min-date="data.start_date"></md-datepicker>\r\n                    <div ng-messages="detailsForm.end_date.$error">\r\n                        <div ng-message="valid">The entered value is not a date</div>\r\n                        <div ng-message="required">End date is required</div>\r\n                        <div ng-message="mindate">End date cannot be before start date</div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n            <section layout-gt-sm="row" layout-wrap layout-fill layout-align="space-between bottom">\r\n                <md-input-container flex-gt-sm="30">\r\n                    <label>Asset Date</label>\r\n                    <md-datepicker name="equip_move_in_date" ng-model="data.equip_move_in_date"></md-datepicker>\r\n                    <div ng-messages="detailsForm.equip_move_in_date.$error">\r\n                        <div ng-message="valid">The entered value is not a date</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container flex-gt-sm="30">\r\n                    <label>Go Live Date</label>\r\n                    <md-datepicker name="occupancy_date" ng-model="data.occupancy_date"></md-datepicker>\r\n                    <div ng-messages="detailsForm.occupancy_date.$error">\r\n                        <div ng-message="valid">The entered value is not a date</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container flex-gt-sm="30">\r\n                    <label>OFCI Delivery</label>\r\n                    <md-datepicker name="ofci_delivery" ng-model="data.ofci_delivery"></md-datepicker>\r\n                    <div ng-messages="detailsForm.ofci_delivery.$error">\r\n                        <div ng-message="valid">The entered value is not a date</div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n        </aw-accordion>\r\n        <aw-accordion label="More...">\r\n            <section class="padding-top">\r\n                <md-card-content layout-gt-xs="row" layout-align="start center" ng-if="!params.add">\r\n                    <section flex-gt-xs="45">\r\n                        <label><strong>Data Added: </strong></label>\r\n                        <span>{{data.date_added | date:\'shortDate\'}}</span>\r\n                    </section>\r\n                    <section>\r\n                        <label><strong>Added by: </strong></label>\r\n                        <span>{{data.added_by}}</span>\r\n                    </section>\r\n                </md-card-content>\r\n                <md-input-container class="md-block">\r\n                    <label>Comment</label>\r\n                    <textarea ng-model="data.comment" name="comment" columns="1" md-maxlength="1000"></textarea>\r\n                    <div ng-messages="!detailsForm.comment.$valid && detailsForm.comment.$error" role="alert">\r\n                        <div ng-message="md-maxlength" class="my-message">\r\n                            Only 1000 characters are allowed!\r\n                        </div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n        </aw-accordion>\r\n        <aw-accordion label="Departments" ng-if="!params.add">\r\n            <section layout="column" ng-cloak class="md-inline-form level-below-grid" ng-controller="LevelBelowListCtrl">\r\n                <div class="checkbox-grid" kendo-grid="itemsGrid" options="options" k-on-data-bound="dataBound(itemsGrid)">\r\n                </div>\r\n            </section>\r\n        </aw-accordion>\r\n        \x3c!--<aw-accordion label="Documents" class="padding-bottom" ng-if="!params.add">\r\n            <ng-include src="\'app/Projects/Documents/DocumentsTab.html\'"></ng-include>\r\n        </aw-accordion>--\x3e\r\n    </form>\r\n    \x3c!-- FAB button --\x3e\r\n    <div class="lock-size fixed-element" layout="row" layout-align="center center" ng-cloak ng-if="isNotViewer">\r\n        <md-fab-speed-dial md-open="buttons.state" md-direction="up"\r\n                           class="md-fling">\r\n            <md-fab-trigger>\r\n                <md-button aria-label="menu" class="md-fab md-accent">\r\n                    <md-icon md-svg-src="{{buttons.state ? \'close\' : \'menu\'}}"></md-icon>\r\n                </md-button>\r\n            </md-fab-trigger>\r\n            <md-fab-actions>\r\n                <div ng-repeat="button in (params.add ? buttons.phase.add : buttons.phase.edit)">\r\n                    <md-button aria-label="{{button.label}}" class="md-fab md-mini"\r\n                               ng-click="button.click(\'Phase\')">\r\n                        <md-tooltip md-direction="left" md-visible="false"\r\n                                    md-autohide="true">\r\n                            {{button.label}}\r\n                        </md-tooltip>\r\n                        <md-icon md-svg-src="{{button.icon}}" aria-label="{{button.label}}"></md-icon>\r\n                    </md-button>\r\n                </div>\r\n            </md-fab-actions>\r\n        </md-fab-speed-dial>\r\n    </div>\r\n</section>'),n.put("app/Projects/Details/Project.html",'<section layout="column" ng-cloak class="md-inline-form padding-top padding-bottom-half" ng-controller="DetailsCtrl">\r\n    <form name="detailsForm" id="detailsForm" novalidate">\r\n        \x3c!-- Prevent implicit submission of the form (like pressing enter key on text input)--\x3e\r\n        <button type="submit" disabled style="display: none" aria-hidden="true"></button>\r\n\r\n        <section layout="column" layout-align="none end" ng-if="!params.add" ng-cloak>\r\n            <md-icon class="material-icons" aria-label="favorite" style="margin-right: 1em; margin-bottom: 0.5em; color: #FFD700" ng-click="toggleFavorite()">\r\n                {{isInFavorites ? \'star\' : \'star_border\'}}\r\n            </md-icon>\r\n        </section>\r\n        <aw-accordion label="Information" expanded="true">\r\n            <section layout-gt-xs="row" flex="100" layout-align="space-between start">\r\n                <md-input-container class="md-block" flex-gt-sm="30" flex-sm="60">\r\n                    <label>Name</label>\r\n                    <input name="projectName" ng-model="data.project_description" required maxlength="200">\r\n                    <div ng-messages="detailsForm.projectName.$error">\r\n                        <div ng-message="required">Project name is mandatory</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-sm="20" flex-sm="35">\r\n                    <label>Status</label>\r\n                    <md-select ng-model="data.status" ng-change="changeProjectStatus()" ng-disabled="!canChangeStatus()">\r\n                        <md-option ng-repeat="status in statusList" value="{{status.id}}">\r\n                            {{status.name}}\r\n                        </md-option>\r\n                    </md-select>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-sm="20" flex-sm="35" ng-click="changeProjectStatus()">\r\n                    <label>Lock comment/Submmittal</label>\r\n                    <input name="submittal" ng-model="data.locked_comment" maxlength="30" disabled>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-sm="20" flex-sm="35">\r\n                    <label>Lock/Submmittal Date</label>\r\n                    <input name="submittalDate" ng-model="data.locked_date" disabled>\r\n                </md-input-container>\r\n            </section>\r\n            <section layout="column" layout-gt-sm="row" layout-align-gt-sm="space-between start" class="md-block" layout-wrap layout-fill>\r\n                <section layout-gt-xs="row" flex-gt-sm="50" layout-align="space-between start">\r\n                    <md-input-container flex-gt-sm="25" flex-gt-xs="60" class="md-block">\r\n                        <aw-autocomplete ng-model="data.client" name="client" add-option="true" controller-name="clients" params="controllerParams" max="100" selected-item="data.client" selected-id="data.client_id" selected-domain="data.client_domain_id" label="Client *" watch-object="!params.add" watched-object-id="data.project_id" required></aw-autocomplete>\r\n                        <div ng-messages="detailsForm.client.$error">\r\n                            <div ng-message="required">Client is mandatory</div>\r\n                        </div>\r\n                    </md-input-container>\r\n                    <md-input-container class="md-block" flex-gt-sm="15" flex-gt-xs="35">\r\n                        <label>Client project #</label>\r\n                        <input name="clientProjectNumber" ng-model="data.client_project_number" maxlength="25">\r\n                        <div ng-messages="detailsForm.clientProjectNumber.$error"></div>\r\n                    </md-input-container>\r\n                </section>\r\n                <section flex-gt-sm="5"></section>\r\n                <section layout-gt-xs="row" flex-gt-sm="45" layout-align="space-between center">\r\n                    <md-input-container flex-gt-sm="25" flex-gt-xs="60" class="md-block">\r\n                        <aw-autocomplete ng-model="data.facility" name="facility" add-option="true" controller-name="facilities" params="controllerParams" selected-item="data.facility" selected-id="data.facility_id" selected-domain="data.facility_domain_id" label="Facility *" max="100" watch-object="!params.add" watched-object-id="data.project_id" required></aw-autocomplete>\r\n                        <div ng-messages="detailsForm.facility.$error">\r\n                            <div ng-message="required">Facility is mandatory</div>\r\n                        </div>\r\n                    </md-input-container>\r\n                    <md-input-container class="md-block" flex-gt-sm="15" flex-gt-xs="35">\r\n                        <label>Facility project #</label>\r\n                        <input name="facilityProjectNumber" ng-model="data.facility_project_number" maxlength="25">\r\n                        <div ng-messages="detailsForm.facilityProjectNumber.$error"></div>\r\n                    </md-input-container>\r\n                </section>\r\n            </section>\r\n        </aw-accordion>\r\n        <aw-accordion label="More...">\r\n            <section layout="column" class="padding-top">\r\n                <md-card-content layout-gt-sm="row" layout-align="start center" ng-if="!params.add">\r\n                    <section flex-gt-sm="45">\r\n                        <label><strong>Data Added: </strong></label>\r\n                        <span>{{data.date_added | date:\'shortDate\'}}</span>\r\n                    </section>\r\n                    <section>\r\n                        <label><strong>Added by: </strong></label>\r\n                        <span>{{data.added_by}}</span>\r\n                    </section>\r\n                </md-card-content>\r\n            </section>\r\n            <md-input-container class="md-block">\r\n                <label>Comment</label>\r\n                <textarea ng-model="data.comment" name="comment" columns="1" md-maxlength="1000" maxlength="1000"></textarea>\r\n                <div ng-messages="!detailsForm.comment.$valid && detailsForm.comment.$error" role="alert">\r\n                    <div ng-message="md-maxlength" class="my-message">\r\n                        Only 1000 characters are allowed!\r\n                    </div>\r\n                </div>\r\n            </md-input-container>\r\n        </aw-accordion>\r\n        <aw-accordion label="Phases" ng-if="!params.add">\r\n            <section layout="column" ng-cloak class="md-inline-form padding-bottom level-below-grid" ng-controller="LevelBelowListCtrl">\r\n                <div class="checkbox-grid" kendo-grid="itemsGrid" options="options" k-on-data-bound="dataBound(itemsGrid)">\r\n                </div>\r\n            </section>\r\n        </aw-accordion>\r\n        <aw-accordion label="Financials" expanded="false">\r\n            \x3c!--<section layout-gt-xs="column" layout-align-gt-sm="none start" layout-align-sm="none center" class="padding-top">--\x3e\r\n            <div layout="row" layout-align="space-between start">\r\n                <aw-procurement data="data" column-name="medial_budget" project-level="false" title="Total Budget" costs="financialCosts"></aw-procurement>\r\n                <aw-procurement data="data" column-name="warehouse_budget" project-level="false" title="Warehouse" costs="financialCosts.warehouse"></aw-procurement>\r\n                <aw-procurement data="data" column-name="tax_budget" project-level="false" title="Tax" costs="financialCosts.Tax"></aw-procurement>\r\n            </div>\r\n            <div layout="row" layout-align="space-between start">\r\n                <aw-procurement data="data" column-name="misc_budget" project-level="false" title="Contingency" costs="financialCosts.contingency"></aw-procurement>\r\n                <aw-procurement data="data" column-name="freight_budget" project-level="false" title="Freight" costs="financialCosts.freight"></aw-procurement>\r\n                <aw-procurement data="data" column-name="warranty_budget" project-level="false" title="Warranty" costs="financialCosts.warranty"></aw-procurement>\r\n            </div>\r\n            <div layout="row" layout-align="space-between start">\r\n                <aw-procurement data="data" column-name="markup_budget" project-level="false" title="Markup" costs="financialCosts.markup"></aw-procurement>\r\n                <aw-procurement data="data" column-name="escalation_budget" project-level="false" title="Escalation" costs="financialCosts.escalation"></aw-procurement>\r\n                <aw-procurement data="data" column-name="install_budget" project-level="false" title="Install" costs="financialCosts.install"></aw-procurement>\r\n            </div>\r\n            <div layout="row" layout-align="space-between end">\r\n                <aw-procurement data="data" column-name="asset_budget" readonly="true" info-message="This field is calculated by subtracting the other fields from the Total Budget" costs="financialCosts" project-level="false" title="Asset"></aw-procurement>\r\n            </div>\r\n                \x3c!--<md-input-container class="md-block" flex-gt-xs="45">\r\n            Total Budget\r\n            <input name="medial_budget" ng-model="data.medial_budget" aw-currency aw-currency-model aria-label="medial_budget">\r\n            <div ng-messages="detailsForm.medial_budget.$error">\r\n                <div ng-message="currency">Only currency values are allowed</div>\r\n            </div>\r\n        </md-input-container>--\x3e\r\n                \x3c!--<section layout-sm="column" layout-xs="column" layout-gt-sm="row" layout-align-gt-sm="space-around bottom" class="md-block" layout-wrap layout-fill>--\x3e\r\n                \x3c!--<section layout-sm="row" flex-gt-sm="20" layout-align-sm="space-between bottom">\r\n\r\n            <md-input-container class="md-block" flex-sm="45">\r\n                <label>Warehouse</label>\r\n                <input name="warehouse_budget" ng-model="data.warehouse_budget" aw-currency aw-currency-model>\r\n                <div ng-messages="detailsForm.warehouse_budget.$error">\r\n                    <div ng-message="currency">Only currency values are allowed</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block" flex-sm="45">\r\n                <label>Freight</label>\r\n                <input name="freight_budget" ng-model="data.freight_budget" aw-currency aw-currency-model>\r\n                <div ng-messages="detailsForm.freight_budget.$error">\r\n                    <div ng-message="currency">Only currency values are allowed</div>\r\n                </div>\r\n            </md-input-container>\r\n        </section>--\x3e\r\n                \x3c!--<section layout-sm="row" flex-gt-sm="20" layout-align-sm="space-between bottom">\r\n\r\n            <md-input-container class="md-block" flex-sm="45">\r\n                <label>Tax</label>\r\n                <input name="tax_budget" ng-model="data.tax_budget" aw-currency aw-currency-model>\r\n                <div ng-messages="detailsForm.tax_budget.$error">\r\n                    <div ng-message="currency">Only currency values are allowed</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block" flex-sm="45">\r\n                <label>Warranty</label>\r\n                <input name="warranty_budget" ng-model="data.warranty_budget" aw-currency aw-currency-model>\r\n                <div ng-messages="detailsForm.warranty_budget.$error">\r\n                    <div ng-message="currency">Only currency values are allowed</div>\r\n                </div>\r\n            </md-input-container>\r\n        </section>--\x3e\r\n                \x3c!--<section layout-sm="row" flex-gt-sm="20" layout-align-sm="space-between bottom">\r\n            <md-input-container class="md-block" flex-sm="45" style="margin-bottom:0">\r\n                <label>Misc</label>\r\n                <input name="misc_budget" ng-model="data.misc_budget" aw-currency aw-currency-model>\r\n                <div ng-messages="detailsForm.misc_budget.$error">\r\n                    <div ng-message="currency">Only currency values are allowed</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block" flex-sm="45" style="margin-top:0">\r\n                <section layout-sm="column" flex-sm="45" layout-align-sm="none start">\r\n                    Asset Budget\r\n                    <md-button class="md-icon-button" style="margin:0;padding:0">\r\n                        <md-icon class="md-bottom md-18">info</md-icon>\r\n                        <md-tooltip>This field is calculated by subtracting the other fields from the Total Budget</md-tooltip>\r\n                    </md-button>\r\n                </section>\r\n                <input name="asset_budget" ng-model="asset_budget" ng-disabled="true" aw-currency aw-currency-model aria-label="asset_budget">\r\n            </md-input-container>\r\n        </section>--\x3e\r\n                \x3c!--</section>--\x3e\r\n                \x3c!--</section>--\x3e\r\n        </aw-accordion>\r\n        <aw-accordion label="Project Defaults">\r\n            <section layout-gt-xs="row" flex="100" layout-align="space-between start">\r\n                <md-input-container class="md-block" flex-sm="25">\r\n                    <label>Asset Default Budget</label>\r\n                    <md-select ng-model="data.default_cost_field" name="default_cost_field" required>\r\n                        <md-option ng-repeat="cost in costs" value="{{cost.id}}">\r\n                            {{cost.name}}\r\n                        </md-option>\r\n                    </md-select>\r\n                    <div ng-messages="detailsForm.default_cost_field.$error">\r\n                        <div ng-message="required">Asset Default Budget is mandatory</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-sm="15">\r\n                    <label>Asset Markup (%)</label>\r\n                    <input name="markup" ng-model="data.markup" aw-currency>\r\n                    <div ng-messages="detailsForm.markup.$error">\r\n                        <div ng-message="currency">Only currency values are allowed</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-sm="15">\r\n                    <label>Escalation (%)</label>\r\n                    <input name="escalation" ng-model="data.escalation" aw-currency>\r\n                    <div ng-messages="detailsForm.escalation.$error">\r\n                        <div ng-message="currency">Only currency values are allowed</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-sm="15">\r\n                    <label>Tax Rate (%)</label>\r\n                    <input name="tax" ng-model="data.tax" aw-currency>\r\n                    <div ng-messages="detailsForm.tax.$error">\r\n                        <div ng-message="currency">Only currency values are allowed</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-sm="15">\r\n                    <label>Freight Markup (%)</label>\r\n                    <input name="freight_markup" ng-model="data.freight_markup" aw-currency>\r\n                    <div ng-messages="detailsForm.freight_markup.$error">\r\n                        <div ng-message="currency">Only currency values are allowed</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-sm="15">\r\n                    <label>Install Markup (%)</label>\r\n                    <input name="install_markup" ng-model="data.install_markup" aw-currency>\r\n                    <div ng-messages="detailsForm.install_markup.$error">\r\n                        <div ng-message="currency">Only currency values are allowed</div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n        </aw-accordion>\r\n        <aw-accordion label="Cost Center" class="layout-bottom" ng-if="!params.add">\r\n            <section layout="column" ng-cloak class="md-inline-form" ng-controller="CostCenterGridCtrl">\r\n                <div class="checkbox-grid" kendo-grid="costCenterGrid" options="options" k-on-data-bound="dataBound(costCenterGrid)">\r\n                </div>\r\n            </section>\r\n        </aw-accordion>\r\n        <aw-accordion label="Address" class="padding-bottom" ng-if="!params.add">\r\n            <section layout="column" ng-cloak class="md-inline-form" ng-controller="AddressesGridCtrl">\r\n                <div class="checkbox-grid" kendo-grid="addressesGrid" options="options" k-on-data-bound="dataBound(addressesGrid)">\r\n                </div>\r\n            </section>\r\n        </aw-accordion>\r\n    </form>\r\n    \x3c!-- FAB button --\x3e\r\n    <div class="lock-size fixed-element" layout="row" layout-align="center center" ng-cloak ng-if="isNotViewer">\r\n        <md-fab-speed-dial md-open="buttons.state" md-direction="up"\r\n                           class="md-fling">\r\n            <md-fab-trigger>\r\n                <md-button aria-label="menu" class="md-fab md-accent">\r\n                    <md-icon md-svg-src="{{buttons.state ? \'close\' : \'menu\'}}"></md-icon>\r\n                </md-button>\r\n            </md-fab-trigger>\r\n            <md-fab-actions>\r\n                <div ng-repeat="button in (params.add ? buttons.project.add : buttons.project.edit)">\r\n                    <md-button aria-label="{{button.label}}" class="md-fab md-mini"\r\n                               ng-click="button.click(\'Project\')">\r\n                        <md-tooltip md-direction="left" md-visible="false"\r\n                                    md-autohide="true">\r\n                            {{button.label}}\r\n                        </md-tooltip>\r\n                        <md-icon md-svg-src="{{button.icon}}" aria-label="{{button.label}}"></md-icon>\r\n                    </md-button>\r\n                </div>\r\n            </md-fab-actions>\r\n        </md-fab-speed-dial>\r\n    </div>\r\n</section>\r\n\r\n<style type="text/css">\r\n    .k-grid-content {\r\n        max-height: 160px;\r\n        min-height: 160px;\r\n    }\r\n</style>'),n.put("app/Projects/Details/Room.html",'<section layout="column" ng-cloack class="md-inline-form padding-left-half padding-right-half padding-top padding-bottom-half" ng-controller="DetailsCtrl">\r\n    <form name="detailsForm" id="detailsForm">\r\n        <aw-accordion label="Information" expanded="true">\r\n            <section layout-gt-xs="row" layout-fill layout-align="space-between bottom" class="md-block">\r\n                <md-input-container class="md-block" flex-gt-xs="20">\r\n                    <label>Room Name</label>\r\n                    <input type="text" name="room_name" ng-model="data.drawing_room_name" maxlength="50" required>\r\n                    <div ng-messages="detailsForm.room_name.$error">\r\n                        <div ng-message="required">Room name is mandatory</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-xs="20">\r\n                    <label style="line-height:12px">Room No</label>\r\n                    <input type="text" name="room_number" ng-model="data.drawing_room_number" maxlength="10">\r\n                    \x3c!--<div ng-messages="detailsForm.room_number.$error">\r\n                        <div ng-message="required">Room number is mandatory</div>\r\n                    </div>--\x3e\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-xs="20">\r\n                    <label>Wayfinding Name</label>\r\n                    <input type="text" name="final_room_name" ng-model="data.final_room_name">\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-xs="20">\r\n                    <label>Wayfinding No.</label>\r\n                    <input type="text" name="final_room_number" ng-model="data.final_room_number">\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-xs="10">\r\n                    <label>Room Count</label>\r\n                    <input type="text" name="room_quantity" ng-model="data.room_quantity" maxlength="2" required aw-only-numbers-not-zero>\r\n                    <div ng-messages="detailsForm.room_quantity.$error">\r\n                        <div ng-message="required">Room Count is mandatory</div>\r\n                        <div ng-message="numberNotZero">Only numbers are allowed</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-xs="10" style="margin-left:-34px;">\r\n                    <md-button class="md-button md-button-updated" ng-click="splitRooms()" ng-show="room_count > 1">\r\n                        <md-icon md-svg-icon="split"></md-icon>\r\n                        <md-tooltip md-direction="bottom">\r\n                            Split Rooms\r\n                        </md-tooltip>\r\n                    </md-button>\r\n                    \x3c!--<md-button class="md-raised md-button md-button-updated" ng-click="splitRooms()" ng-show="room_count > 1"> Split </md-button>--\x3e\r\n                </md-input-container>\r\n            </section>\r\n            <section layout-gt-xs="row" layout-fill layout-align="space-between bottom" class="md-block">\r\n                <md-input-container class="md-block" flex-gt-xs="20">\r\n                    <label>Room Code</label>\r\n                    <input type="text" name="room_code" ng-model="data.room_code" maxlength="20">\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-xs="15">\r\n                    <label style="line-height:12px">Blueprint</label>\r\n                    <input type="text" name="blueprint" ng-model="data.blueprint" maxlength="50">\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-xs="20">\r\n                    <label>Staff</label>\r\n                    <input type="text" name="staff" ng-model="data.staff">\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-xs="15">\r\n                    <label>Room Area (sqft)</label>\r\n                    <input type="text" name="room_area" ng-model="data.room_area" aw-currency>\r\n                    <div ng-messages="detailsForm.room_area.$error">\r\n                        <div ng-message="currency">Only currency values are allowed</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-xs="20">\r\n                    <label>Functional Area</label>\r\n                    <input type="text" name="functional_area" ng-model="data.functional_area">\r\n                </md-input-container>\r\n            </section>\r\n        </aw-accordion>\r\n        <aw-accordion label="Template" expanded="false" ng-if="params.room_id">\r\n            <section layout-gt-xs="row" layout-fill layout-align="space-between bottom" class="md-block">\r\n                <md-input-container class="md-block" flex-gt-xs="10">\r\n                    <label style="line-height:12px">Template:</label>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-xs="30">\r\n                    <label style="line-height:12px">{{linked_template_info}}</label>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-xs="10">\r\n                    <md-button class="md-raised md-button" ng-click="applyTemplate()"> Change/Apply </md-button>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-xs="10">\r\n                    <md-button class="md-raised md-button" ng-click="unlinkTemplate()" ng-if="data.linked_template">Unlink</md-button>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-xs="10">\r\n                    \r\n                </md-input-container>\r\n            </section>\r\n        </aw-accordion>\r\n        <aw-accordion label="More...">\r\n            <section class="padding-top">\r\n                <md-card-content layout-gt-xs="row" layout-align="start center" ng-if="!params.add">\r\n                    <section flex-gt-xs="45">\r\n                        <label><strong>Data Added: </strong></label>\r\n                        <span>{{data.date_added | date:\'shortDate\'}}</span>\r\n                    </section>\r\n                    <section>\r\n                        <label><strong>Added by: </strong></label>\r\n                        <span>{{data.added_by}}</span>\r\n                    </section>\r\n                </md-card-content>\r\n                <md-input-container class="md-block">\r\n                    <label>Comment</label>\r\n                    <textarea ng-model="data.comment" name="comment" columns="1" md-maxlength="1000"></textarea>\r\n                    <div ng-messages="!detailsForm.comment.$valid && detailsForm.comment.$error" role="alert">\r\n                        <div ng-message="md-maxlength" class="my-message">\r\n                            Only 1000 characters are allowed!\r\n                        </div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n        </aw-accordion>\r\n    </form>\r\n    \x3c!-- FAB button --\x3e\r\n    <div class="lock-size fixed-element" layout="row" layout-align="center center" ng-cloak ng-if="isNotViewer">\r\n        <md-fab-speed-dial md-open="buttons.state" md-direction="up"\r\n                           class="md-fling">\r\n            <md-fab-trigger>\r\n                <md-button aria-label="menu" class="md-fab md-accent">\r\n                    <md-icon md-svg-src="{{buttons.state ? \'close\' : \'menu\'}}"></md-icon>\r\n                </md-button>\r\n            </md-fab-trigger>\r\n            <md-fab-actions>\r\n                <div ng-repeat="button in (params.add ? buttons.room.add : buttons.room.edit)">\r\n                    <md-button aria-label="{{button.label}}" class="md-fab md-mini"\r\n                               ng-click="button.click(\'Room\')">\r\n                        <md-tooltip md-direction="left" md-visible="false"\r\n                                    md-autohide="true">\r\n                            {{button.label}}\r\n                        </md-tooltip>\r\n                        <md-icon md-svg-src="{{button.icon}}" aria-label="{{button.label}}"></md-icon>\r\n                    </md-button>\r\n                </div>\r\n            </md-fab-actions>\r\n        </md-fab-speed-dial>\r\n    </div>\r\n</section>\r\n\r\n\x3c!--<div class="md-block" layout-gt-sm="row">\r\n    <md-input-container class="md-block" flex-gt-sm="50">\r\n        <label>Department</label>\r\n        <input ng-if="!params.add" type="text" ng-model="data.project_department.description" disabled>\r\n        <input ng-if="params.add" type="text" ng-model="parent.description" disabled>\r\n    </md-input-container>\r\n</div>--\x3e\r\n\r\n<style type="text/css">\r\n    .md-button-updated {\r\n        min-height:26px !important;\r\n        line-height:26px !important;\r\n        min-width:48px !important;\r\n        font-size: 11px !important;\r\n    }\r\n</style>\r\n'),n.put("app/Projects/Documents/DocumentsTab.html",'<section layout="column" ng-cloak class="md-inline-form" ng-controller="DocumentsTabCtrl">\r\n    <div class="checkbox-grid" kendo-grid="documentsGrid" options="options"  k-on-data-bound="dataBound(documentsGrid)">\r\n    </div>\r\n</section>'),n.put("app/Projects/Documents/ProjectDocumentsTab.html",'<section layout="column" ng-cloak class="md-inline-form">\r\n    <div class="checkbox-grid primary-color-header" kendo-grid="documentsGrid" options="options" k-on-data-bound="dataBound(documentsGrid)">\r\n        <div k-detail-template>\r\n            <section class="md-inline-form" layout-padding>\r\n                <div class="nested-grid primary-color-header" kendo-grid="docAssociationsGrid" options="getDocAssociations(dataItem)"></div>\r\n            </section>\r\n        </div>\r\n    </div>\r\n</section>\r\n\r\n<style parse-style>\r\n    .k-grid-content {\r\n        max-height:{{gridHeight - 160}}px; \r\n        min-height:{{gridHeight - 160}}px;\r\n    }\r\n\r\n    .nested-grid .k-grid-content {\r\n        max-height:{{nestedGridHeight - 140}}px; \r\n        min-height:{{nestedGridHeight - 140}}px;\r\n    }\r\n</style> '),n.put("app/Projects/Documents/RoomDocumentsTab.html",'<section layout="column" ng-cloak class="md-inline-form padding-top padding-bottom-half">\r\n    <section layout="row" layout-align="start start" class="no-space">\r\n        <button class="md-icon-button md-button" ng-click="addPicture()">\r\n            <i class="material-icons">add</i><div class="md-ripple-container"></div>\r\n            <md-tooltip md-direction="bottom">Add room picture</md-tooltip>\r\n        </button>\r\n    </section>\r\n    <aw-accordion label="Images" expanded="true">\r\n        <section ng-repeat="photos in photosFileMatrix track by $index" layout="row" layout-align="start center" class="room-pictures">\r\n            <section ng-repeat="photo in photos" class="room-pictures-row">\r\n                <section layout="row" layout-align="end center">\r\n                    <button class="md-icon-button md-button" ng-click="deletePicture(photo)">\r\n                        <i class="material-icons">delete</i>\r\n                        <md-tooltip md-direction="bottom">Delete picture</md-tooltip>\r\n                    </button>\r\n                </section>\r\n                <section class="boxshadow">\r\n                    <img src="{{photo.file}}" alt="photo">\r\n                </section>\r\n            </section>\r\n        </section>\r\n    </aw-accordion>\r\n</section>'),n.put("app/Reports/Modals/GenerateReport.html",'<md-dialog aria-label="generateReport" flex="50" class="all-screen">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Generate Report\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak class="md-inline-form">\r\n        <form name="generateReportForm" id="generateReportForm">\r\n            <md-stepper id="stepper-generating-report"\r\n                        md-mobile-step-text="mobileStep"\r\n                        md-vertical="false"\r\n                        md-linear="true"\r\n                        md-alternative="true">\r\n\r\n                <md-step md-label="Settings">\r\n                    <md-step-body style="padding-top: 3em;" class="padding-right padding-left">\r\n                        <section layout-gt-xs="row" layout-align-gt-xs="space-around start">\r\n                            <md-input-container class="md-block" flex-gt-xs="35">\r\n                                <label>Name</label>\r\n                                <input name="name" ng-model="report.name" maxlength="50" required aw-only-numbers-and-letters>\r\n                                <div ng-messages="generateReportForm.name.$error">\r\n                                    <div ng-message="required">Report name is required</div>\r\n                                    <div ng-message="number-and-letter">Report name only allows numbers, letters, underline, underscore and spaces</div>\r\n                                </div>\r\n                            </md-input-container>\r\n                            <section flex-gt-xs="35"\r\n                                     aw-combo-box \r\n                                     ng-model="report.report_type" \r\n                                     name="type"\r\n                                     form="generateReportForm"\r\n                                     controller-name="reportTypes" \r\n                                     text-property="name" \r\n                                     id-property="id" \r\n                                     selected-id="report.report_type_id" \r\n                                     label="Type" \r\n                                     order-by="name" \r\n                                     required></section>\r\n                        </section>\r\n                        <section layout-gt-xs="row" layout-align-gt-xs="space-around start">\r\n                            <md-input-container class="md-block" flex-gt-xs="85">\r\n                                <label>Description</label>\r\n                                <input name="description" ng-model="report.description" maxlength="200">\r\n                            </md-input-container>\r\n                        </section>\r\n                        <section layout-gt-xs="row" layout-align-gt-xs="space-around start">\r\n                            <md-checkbox flex-gt-xs="85" ng-model="report.isPrivate" aria-label="private" style="top: -15px" name="private">\r\n                                Private\r\n                            </md-checkbox>\r\n                        </section>\r\n                    </md-step-body style="height:{{locations.height + 30}}px">\r\n\r\n                </md-step>\r\n                <md-step md-label="Filter">\r\n                    <md-step-body>\r\n                        \x3c!--<section style="padding-top: 3em;">\r\n                            <h2 align=center class="gray-color" ng-if="report.report_type.name.toLowerCase() === \'shop drawing\'">\r\n                                This type of report do not requires filter information!\r\n                            </h2>\r\n                        </section>--\x3e\r\n                        <aw-locations-grid\r\n                            params="locations.params" \r\n                            selecteds="locations.selecteds" \r\n                            height="locations.height" \r\n                            select-all="true">\r\n                        </aw-locations-grid>\r\n                    </md-step-body>\r\n                </md-step>\r\n                <md-step md-label="Details">\r\n                    <md-step-body style="padding-top: 3em;">\r\n                        <h2 align=center class="gray-color" ng-if="report.report_type.name.toLowerCase() === \'it connectivity\'">\r\n                            This type of report do not requires specific information!\r\n                        </h2>\r\n                        <section ng-if="report.report_type.name.toLowerCase() !== \'it connectivity\' && report.report_type.name.toLowerCase() !== \'copied project inventory comparison\'">\r\n                            <section layout-gt-xs="row" layout-alignt-gt-xs="space-around center" ng-if="report.report_type.name.toLowerCase() !== \'shop drawing\'">\r\n                               <md-input-container class="md-block" flex-gt-xs="50" flex-offset-gt-xs="25" ng-if="report.report_type.name.toLowerCase() !== \'procurement\'">\r\n                                    <label>Cost Center</label>\r\n                                    <md-select name="cost_center" ng-model="report.cost_center1">\r\n                                        <md-option value="-1">All</md-option>\r\n                                        <md-option ng-repeat="cost in costCenters" ng-value="cost">\r\n                                            {{cost.code + \' - \' + cost.description}}\r\n                                        </md-option>\r\n                                    </md-select>\r\n                                </md-input-container>\r\n                                <md-input-container class="md-block" flex-gt-xs="40" flex-offset-gt-xs="30" ng-if="report.report_type.name.toLowerCase() === \'procurement\'">\r\n                                    <label>PO Status</label>\r\n                                    <md-select name="po_status" ng-model="report.po_status">\r\n                                        <md-option value="All">All</md-option>\r\n                                        <md-option ng-repeat="status in poStatuses" ng-value="status.value">\r\n                                            {{status.name}}\r\n                                        </md-option>\r\n                                    </md-select>\r\n                                </md-input-container>\r\n                            </section>\r\n                            <section layout-gt-xs="row" layout-alignt-gt-xs="space-around start" ng-if="report.report_type.name.toLowerCase() !== \'procurement\' && report.report_type.name.toLowerCase() !== \'shop drawing\'">\r\n                                <section flex-gt-xs="80" flex-offset-gt-xs="10" layout-gt-xs="row" layout-align-gt-xs="space-between start" layout="column">\r\n                                    <md-checkbox ng-model="report.include_cutsheets" aria-label="cutsheets" name="cursheets" ng-if="report.report_type.name.toLowerCase() === \'asset book\'">\r\n                                        Include Cutsheets\r\n                                    </md-checkbox>\r\n                                    <md-checkbox ng-model="report.use_cad_id" aria-label="cadIDs" name="cadIDs" ng-if="report.report_type.name.toLowerCase() === \'asset by room\' || report.report_type.name.toLowerCase() === \'asset book\'">\r\n                                        Use CAD ID\'s\r\n                                    </md-checkbox>\r\n                                    <md-checkbox ng-model="report.include_budgets" aria-label="budgets" name="budgets" ng-if="report.report_type.name.toLowerCase() === \'room by room (government)\'">\r\n                                        Include Budgets\r\n                                    </md-checkbox>\r\n                                    <md-checkbox ng-model="report.include_photo" aria-label="photo" name="photo" ng-if="report.report_type.name.toLowerCase() === \'government inventory\'">\r\n                                        Include Photo\r\n                                    </md-checkbox>\r\n                                    <md-checkbox ng-model="report.include_jsn" aria-label="jsn" name="jsn" ng-if="report.report_type.name.toLowerCase() === \'asset book\'">\r\n                                        Include JSN\r\n                                    </md-checkbox>\r\n                                    <md-checkbox ng-model="report.remove_logo" aria-label="Logo" name="Logo" ng-if="report.report_type.name.toLowerCase() === \'equipment with costs\' || report.report_type.name.toLowerCase() === \'room equipment list\' || report.report_type.name.toLowerCase() === \'equipment dimensional and utilities\'">\r\n                                        Remove Audaxware Logo\r\n                                    </md-checkbox>\r\n                                    <md-checkbox ng-model="report.ignore_description_difference" aria-label="description" name="description" ng-if="report.report_type.name.toLowerCase() === \'asset book\'">\r\n                                        ignore Description Difference\r\n                                    </md-checkbox>\r\n                                    <md-checkbox ng-model="report.remove_ecn" aria-label="ecn" name="ecn" ng-if="report.report_type.name.toLowerCase() === \'door list\'">\r\n                                        Remove ECN Column\r\n                                    </md-checkbox>\r\n\r\n                                </section>\r\n                            </section>\r\n\r\n                            <section layout-gt-xs="row" layout-alignt-gt-xs="space-around start" ng-if="report.report_type.name.toLowerCase() === \'shop drawing\'">\r\n                                <section flex-gt-xs="50" flex-offset-gt-xs="25" layout-gt-xs="row" layout-align-gt-xs="space-between start" layout="column">\r\n                                    <md-checkbox ng-model="report.include_docs_without_link" aria-label="doc_without_link" name="doc_without_link">\r\n                                        Include Shop Drawings Without Link\r\n                                    </md-checkbox>\r\n                                </section>\r\n                            </section>\r\n\r\n                            <section layout="column" layout-align="start start" flex-offset-gt-xs="30" ng-if="report.report_type.name.toLowerCase() === \'procurement\'">\r\n                                <md-checkbox ng-model="report.include_po_cover" aria-label="po_cover" name="po_cover">\r\n                                    Include POs Cover\r\n                                </md-checkbox>\r\n                                <md-checkbox ng-model="report.include_po_uploaded" aria-label="po_uploaded" name="po_uploaded">\r\n                                    Include Uploaded POs\r\n                                </md-checkbox>\r\n                                <md-checkbox ng-model="report.include_quote_uploaded" aria-label="quote_uploaded" name="quote_uploaded">\r\n                                    Include Uploaded Quotes\r\n                                </md-checkbox>\r\n                            </section>\r\n\r\n                            \r\n                        </section>\r\n                        <section ng-if="report.report_type.name.toLowerCase() === \'copied project inventory comparison\'">\r\n                            <md-input-container class="md-block">\r\n                                <label>Project</label>\r\n                                <md-select name="project" ng-model="report.compare_with_project_id" required>\r\n                                    <md-option ng-repeat="p in projects | orderBy : \'project_description\'" ng-value="p.project_id">\r\n                                        {{p.project_description}}\r\n                                    </md-option>\r\n                                </md-select>\r\n                                <div ng-messages="generateReportForm.project.$error">\r\n                                    <div ng-message="required">Project is required</div>\r\n                                </div>\r\n                            </md-input-container>\r\n                        </section>\r\n\r\n                    </md-step-body>\r\n                </md-step>\r\n            </md-stepper>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n        <md-button class="md-primary" ng-click="cancel()">Cancel</md-button>\r\n        <md-button class="md-primary" ng-click="back()" ng-if="currentStep > 1">Back</md-button>\r\n        <md-button class="md-primary" ng-click="next()">{{currentStep === 3 ? \'Generate\' : \'Next\'}}</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Room Templates/Modals/AddTemplate.html",'<md-dialog aria-label="addAssetSubcategory" flex-gt-xs="50">\r\n    <md-toolbar layout="row" layout-align="center center" ng-cloak>\r\n        Add Room Template\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak class="not-scrollable">\r\n        <form name="addTemplateForm" id="addTemplateForm">\r\n            <section aw-combo-box \r\n                     ng-model="room_template.department_type" \r\n                     name="department_type"\r\n                     form="addTemplateForm"\r\n                     controller-name="departmentType" \r\n                     params="controllerParams" \r\n                     text-property="description" \r\n                     id-property="department_type_id" \r\n                     selected-id="room_template.department_type_id" \r\n                     selected-domain="room_template.department_type_domain_id" \r\n                     selected-item="room_template.department_type" \r\n                     order-by="description" \r\n                     label="Department Type" \r\n                     required></section>\r\n            <md-input-container class="md-block" style="margin-bottom: 0px">\r\n                <label>Name</label>\r\n                <input name="description" ng-model="room_template.drawing_room_name" maxlength="250" required>\r\n                <div ng-messages="addTemplateForm.description.$error">\r\n                    <div ng-message="required">Template name is required</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label>Scope</label>\r\n                <md-select ng-model="room_template.project" aria-label="scope">\r\n                    <md-option value="{}" ng-selected="true">Global</md-option>\r\n                    <md-option ng-repeat="project in projects" ng-value="project">\r\n                        {{project.project_description}}\r\n                    </md-option>\r\n                </md-select>\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label>Comment</label>\r\n                <textarea ng-model="room_template.comment" name="comment" columns="1" maxlength="1000" md-maxlength="1000" rows="1"></textarea>\r\n            </md-input-container>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row" ng-cloak>\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="save()">Save</md-button>\r\n        <md-button ng-if="!edit" class="md-primary" ng-click="save(true)">Save and Close</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Room Templates/Modals/CloneTemplate.html",'<md-dialog aria-label="addAssetSubcategory" flex-gt-xs="30">\r\n    <md-toolbar layout="row" layout-align="center center" ng-cloak>\r\n        Clone Room Template\r\n    </md-toolbar>\r\n    <md-dialog-content ng-cloak class="not-scrollable padding-top">\r\n        <form name="cloneTemplateForm" id="cloneTemplateForm">\r\n            <md-input-container class="md-block">\r\n                <label>Name</label>\r\n                <input name="description" ng-model="room_template.drawing_room_name" maxlength="250" required>\r\n                <div ng-messages="cloneTemplateForm.description.$error">\r\n                    <div ng-message="required">Template name is required</div>\r\n                </div>\r\n            </md-input-container>\r\n            <section aw-combo-box \r\n                     name="project" \r\n                     ng-model="room_template.project" \r\n                     controller-name="projects" \r\n                     params="projectParams" \r\n                     text-property="project_description" \r\n                     id-property="project_id" \r\n                     selected-item="room_template.project" \r\n                     label="Related project" \r\n                     order-by="project_description"></section>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row" ng-cloak>\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="save()">Save</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Security/Change Password/ChangePassword.html",'<md-dialog aria-label="change_password" class="width-40">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Change Password\r\n    </md-toolbar>\r\n    <md-dialog-content ng-cloak>\r\n        <form name="changePasswordForm" id="changePasswordForm" layout="column" layout-align="center center" novalidate>\r\n            <md-input-container class="md-block" style="width: 15em;">\r\n                <label>Current Password</label>\r\n                <input type="password" ng-model="data.oldPassword" name="current_psw" required ng-enter="change()">\r\n                <div ng-messages="changePasswordForm.current_psw.$error">\r\n                    <div ng-message="required">You must inform your current password</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block" style="width: 15em;">\r\n                <label>New Password</label>\r\n                <input type="password" ng-model="data.newPassword" name="psw" ng-minlength="6" aw-password required ng-enter="change()">\r\n                <div ng-messages="changePasswordForm.psw.$error">\r\n                    <div ng-message="required">You must inform a new password</div>\r\n                    <div ng-message="minlength">Must have at least 6 characters</div>\r\n                    <div ng-message="password">Must have letters and digits, <br />at least one non letter or digit character <br />and at least one uppercase (\'A\'-\'Z\')</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block" style="width: 15em;">\r\n                <label>Confirm New Password</label>\r\n                <input type="password" ng-model="data.confirmPassword" name="confirm" aw-match="data.newPassword" required ng-enter="change()">\r\n                <div ng-messages="changePasswordForm.confirm.$error">\r\n                    <div ng-message="match">The passwords do not match</div>\r\n                    <div ng-message="required">You must confirm the new password</div>\r\n                </div>\r\n            </md-input-container>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions>\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="change()">Change</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Security/Login/DomainsModal.html",'<md-dialog aria-label="domain_select">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Select your enterprise\r\n    </md-toolbar>\r\n    <md-dialog-content layout="row" style="padding-top: 2em;" layout-align="center center" ng-cloak>\r\n        <form name="selectDomainForm" id="selectDomainForm" layout="row" layout-align="start center" flex="100">\r\n            <md-input-container class="md-block" flex="100">\r\n                <label>Enterprises available</label>\r\n                <md-select name="domain" ng-model="ctrl.selected" required flex="100">\r\n                    <md-option ng-repeat="domain in ctrl.domains" ng-value="domain">\r\n                        {{domain.name | enterpriseName}}\r\n                    </md-option>\r\n                </md-select>\r\n                <div ng-messages="selectDomainForm.domain.$error">\r\n                    <div ng-message="required">Select a enterprise</div>\r\n                </div>\r\n            </md-input-container>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions>\r\n        <md-button class="md-primary" ng-click="ctrl.select()">Select</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Security/Login/LicenseAgreement.html",'<md-dialog aria-label="license_agreement">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Audaxware Software End User License Agreement\r\n    </md-toolbar>\r\n    <md-dialog-content style="padding-top: 2em;" layout-align="center center" ng-cloak>\r\n            <md-input-container class="md-block" flex="100">\r\n                    <p class="MsoNormal">\r\n                        Thank you for using Audaxware software and services. Please review this entire Audaxware Software\r\n                        End User License Agreement (“Agreement”) thoroughly. This Agreement is a legal agreement between\r\n                        you and Audaxware. By clicking "I AGREE," indicating acceptance electronically, accessing or using the\r\n                        Software, you agree to these terms and consent to the transmission of certain information during\r\n                        activation and for internet-based features of the software/service. If you do not agree to this\r\n                        Agreement, then do not indicate acceptance of the Agreement and you must not use the software.\r\n                    </p>\r\n                    <h3>1. Agreement</h3>\r\n                    <p class="MsoNormal">\r\n                        1.1 This Agreement describes the terms governing your use of the Audaxware Software including\r\n\r\n                        content, updates and new releases (collectively, the "Software") and gives you certain rights and\r\n\r\n                        responsibilities depending on the software license you selected, purchased or subscribed to, as more\r\n\r\n                        fully described herein.\r\n                    </p>\r\n                    <p class="MsoNormal">\r\n                        This Supplement is the entire agreement for the service and\r\n                        software and services, unless Audaxware provides other terms with supplements,\r\n                        updates, or services. You understand that by using the software and service,\r\n                        you accept this Agreement.\r\n                    </p>\r\n\r\n                    <h3>2. License Grant and Acceptable Use Policy</h3>\r\n\r\n                    <p class="MsoNormal">\r\n                        2.1 The Software is protected by copyright, trade secret,\r\n                        and other intellectual property laws. You are only granted certain limited\r\n                        rights to install and use the Software, and Audaxware reserves all other rights\r\n                        in the Software not granted to you in writing herein. As long as you meet any\r\n                        applicable payment obligations and comply with this Agreement, Audaxware grants\r\n                        you a limited, nonexclusive, nontransferable, revocable license to use the\r\n                        Software only for the period of use provided in the ordering and activation\r\n                        terms, as set forth in this Agreement, or in accordance with Audaxware\r\n                        then-current product discontinuation policies, as updated from time to time,\r\n                        and only for the purposes described by Audaxware for the Software.\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">\r\n                        2.2 You acknowledge and agree that the Software is licensed,\r\n                        not sold. Neither you nor those that access the Software and Services through\r\n                        you may use it in a way prohibited by law, regulation, governmental order or\r\n                        decree. Furthermore, you agree you will not:\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">\r\n                        •Provide access to or give the Software or any part of the\r\n                        Software to any third party;\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">\r\n                        •Reproduce, duplicate, copy, reverse-engineer, sell, trade\r\n                        or resell the Software;\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">•Transfer your license to the Software to any other party;</p>\r\n\r\n                    <p class="MsoNormal">\r\n                        •Attempt unauthorized access to any other Audaxware systems\r\n                        that are not part of the Software;\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">\r\n                        •Permit any third party to benefit from the use or\r\n                        functionality of the Software via a rental, lease, timesharing, service bureau,\r\n                        hosting service, or other arrangement; or\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">\r\n                        •Upload, host, use or access the Software via a timesharing,\r\n                        service bureau, virtualization, application hosting or other remote access\r\n                        arrangement.\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">\r\n                        If you violate any of these terms, this Agreement and your\r\n                        license to use the Software may be terminated by Audaxware in its sole\r\n                        discretion.\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">2.3. Export Restrictions</p>\r\n\r\n                    <p class="MsoNormal">\r\n                        You acknowledge that this website, the Software, and the\r\n                        underlying software may include U.S. technical data subject to restrictions\r\n                        under export control laws and regulations administered by the United States\r\n                        government. You agree that you will comply with these laws and regulations, and\r\n                        will not export or re-export the Software, or any part of the Software, in\r\n                        violation of these laws and regulations, directly or indirectly. You also agree\r\n                        not to provide access to any part of the Software to anyone who you have reason\r\n                        to know may use the Software in the development of weapons or for any end that\r\n                        can pose a threat for the United States safety.\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">\r\n                        By accepting this Agreement you confirm that you are not\r\n                        located in (or a national resident of) any country under U.S. economic embargo,\r\n                        not identified on any U.S. Department of Commerce Denied Persons List, Entity\r\n                        List or Treasury Department Designated Nationals exclusion list, and not\r\n                        directly or indirectly involved in the development or production of nuclear,\r\n                        chemical, biological weapons or in missile technology programs as specified in\r\n                        the U.S. Export Administration Regulations. You may not export, re-export, or\r\n                        otherwise transfer this Software or any copy or adaptation in violation of any\r\n                        applicable laws or regulations, to persons or entities listed on the U.S.\r\n                        Department of Commerce Denied Persons List, Entity List, or on any U.S.\r\n                        Treasury Department Designated Nationals exclusion list, or to parties directly\r\n                        or indirectly involved in the development or production of nuclear, chemical,\r\n                        biological weapons or in missile technology programs as specified in the U.S.\r\n                        Export Administration Regulations.\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">\r\n                        Without limiting the generality of the foregoing, software,\r\n                        technology or services provided under this license agreement may not be\r\n                        exported, re-exported, transferred or downloaded to or within (or to a national\r\n                        resident of) countries under U.S. economic embargo.\r\n                    </p>\r\n\r\n                    <h3>3. Payment</h3>\r\n\r\n                    <p class="MsoNormal">\r\n                        For Software licensed on a payment or subscription basis,\r\n                        the following terms apply, unless Audaxware notifies you otherwise in writing.\r\n                        This Agreement also incorporates by reference and includes program ordering and\r\n                        payment terms provided to you for the Software:\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">\r\n                        a. Payments will be billed to you in U.S. dollars, and your\r\n                        account will be debited when you subscribe and provide your payment\r\n                        information.\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">&nbsp;</p>\r\n\r\n                    <p class="MsoNormal">\r\n                        b. If your payment and registration information is not\r\n                        accurate, current and complete, and you do not notify us promptly when such\r\n                        information changes, we may immediately suspend or terminate your account,\r\n                        terminate your license and refuse any further use of the Software.\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">\r\n                        c. Audaxware will automatically renew your annual\r\n                        subscription at the then-current rates, as required for you to maintain access\r\n                        to the Software, unless your license to the Software is cancelled or terminated\r\n                        under this Agreement.\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">\r\n                        d. Additional cancellation or renewal terms may be provided\r\n                        to you.\r\n                    </p>\r\n\r\n                    <h3>4. Trial version and Beta features</h3>\r\n\r\n                    <p class="MsoNormal">\r\n                        If you registered for a trial use of the Software\r\n                        (&quot;Trial Period&quot;), the content you have created within the Software\r\n                        data file, posted or uploaded during the Trial Period may no longer be\r\n                        available to you.\r\n                    </p>\r\n\r\n                    <h3>5. Your privacy and personal information</h3>\r\n\r\n                    <p class="MsoNormal">\r\n                        To give Audaxware permission to combine information you\r\n                        enter or upload in a way that does not identify you personally with that of\r\n                        other users of the Software. In other words, this means that Audaxware may use\r\n                        that non-identifiable aggregated data to improve services, design promotions,\r\n                        or provide ways for you to compare business practices with other users.\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">\r\n                        Audaxware may access or store information in multiple\r\n                        countries. When you agree to this Agreement, you agree to this practice.\r\n                    </p>\r\n\r\n                    <h3>6. Content</h3>\r\n\r\n                    <p class="MsoNormal">\r\n                        6.1 You are responsible for your content. You are legally\r\n                        responsible for all information, data, text, software, music, sound,\r\n                        photographs, graphics, video, messages or other materials (&quot;Content&quot;)\r\n                        uploaded, posted or stored through your use of the Software. You grant Audaxware\r\n                        a worldwide, royalty-free, non-exclusive license to host and use any Content\r\n                        provided through your use of the Software. You agree not to use the Software\r\n                        for any illegal purpose or in violation of any applicable local, state, federal\r\n                        or international law. You are encouraged to archive your Content regularly and\r\n                        frequently. You are responsible for any Content that may be lost or\r\n                        unrecoverable through your use of the Software. You agree that you will not use\r\n                        the Software to share, store, or in any way distribute financial data that is\r\n                        not in accordance with the law. Any users suspected of having information which\r\n                        involves fraud, embezzlement, money laundering, insider trading, support for\r\n                        terrorism, or any other activity proscribed by law may have their accounts\r\n                        terminated, their data erased, and they also may be reported to law enforcement\r\n                        officials in the appropriate jurisdictions. Audaxware is not responsible for\r\n                        the Content or data you provide through your use of the Software.\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">\r\n                        You agree not to use the Software to upload, post,\r\n                        distribute, link to, publish, reproduce, engage in or transmit any of the\r\n                        following, including but not limited to:\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">&nbsp;</p>\r\n\r\n                    <p class="MsoNormal">\r\n                        Illegal, fraudulent, libelous, defamatory, obscene,\r\n                        pornographic, profane, threatening, abusive, hateful, harassing, offensive,\r\n                        inappropriate or objectionable information or communications of any kind, including\r\n                        without limitation conduct that would encourage or constitute an attack or\r\n                        &quot;flaming&quot; others, or criminal or civil liability under any local,\r\n                        state, federal or foreign law;\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">\r\n                        Content or data that would impersonate someone else or\r\n                        falsely represent your identity or qualifications, or that constitutes a breach\r\n                        of any individual\'s privacy, including posting images about children or any\r\n                        third party without their consent (or a parent\'s consent in the case of a\r\n                        minor);\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">\r\n                        Except as otherwise permitted by Audaxware in writing,\r\n                        advertisements, solicitations, investment opportunities, chain letters, pyramid\r\n                        schemes, other unsolicited commercial communication or engage in spamming or\r\n                        flooding;\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">\r\n                        Virus, trojan horse, worm or other disruptive or harmful\r\n                        software or data; and\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">\r\n                        Any information, software or Content which is not legally\r\n                        yours and may be protected by copyright or other proprietary right, or\r\n                        derivative works, without permission from the copyright owner or intellectual\r\n                        property rights owner.\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">\r\n                        6.2 Community forums. The Software may include access to a\r\n                        community forum to exchange information with other users of the Software and\r\n                        the public. Please use respect when you interact with other users. Audaxware\r\n                        does not support and is not responsible for the accuracy of others\' content in\r\n                        these community forums. Do not reveal information in the community forum that\r\n                        you do not want to make public. Users may post hypertext links to content\r\n                        hosted and maintained by third parties for which Audaxware is not responsible.\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">&nbsp;</p>\r\n\r\n                    <p class="MsoNormal">\r\n                        Audaxware may, but has no obligation to, monitor Content\r\n                        provided on the community forum. We may disclose any information necessary or\r\n                        appropriate to satisfy our legal obligations, protect Audaxware or its\r\n                        customers, or operate the Software properly. Audaxware, in its sole discretion,\r\n                        may refuse to post, remove, or refuse to remove, any Content, in whole or in\r\n                        part, alleged to be unacceptable, undesirable, inappropriate, or in violation\r\n                        of this Agreement.\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">&nbsp;</p>\r\n\r\n                    <p class="MsoNormal">\r\n                        6.3 Audaxware may freely use feedback you provide. You agree\r\n                        that Audaxware may use your feedback, suggestions, or ideas in any way,\r\n                        including in future modifications of the Software, other products or services,\r\n                        advertising or marketing materials. You grant Audaxware a perpetual, worldwide,\r\n                        fully transferable, sub-licensable, irrevocable, fully paid-up, royalty free\r\n                        license to use the feedback you provide to Audaxware in any way.\r\n                    </p>\r\n\r\n                    <h3>7. Additional Terms</h3>\r\n\r\n                    <p class="MsoNormal">\r\n                        7.1 Audaxware does not give professional advice. Audaxware\r\n                        is not in the business of providing project planning, legal, financial,\r\n                        accounting, health care, real estate or other professional services or advice.\r\n                        Consult the services of a competent professional when you need this type of\r\n                        assistance.\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">\r\n                        7.2 We may tell you about other Audaxware services. You may\r\n                        be offered other services, features, products, applications, online\r\n                        communities, or promotions provided by Audaxware. If you decide to use any of\r\n                        these Audaxware Product or Services, additional terms and conditions and\r\n                        separate fees may apply. You acknowledge that in accessing some Audaxware\r\n                        Services you may upload or enter data such as names, addresses and phone\r\n                        numbers, purchases, and other data to the Internet. You grant Audaxware\r\n                        permission to use information you provide and about your experience so that we\r\n                        can provide the Audaxware Services to you, monitor and analyze your use of the\r\n                        services, maintain and update your data, and address errors or service\r\n                        interruptions. We may use this data to improve services, enhance future\r\n                        services, identify potentially relevant offers, and produce anonymous research\r\n                        data. You grant Audaxware permission to combine the data you have entered or\r\n                        uploaded with that of others in a way that does not identify you or any\r\n                        individual personally. You also grant Audaxware permission to share or publish\r\n                        summary results relating to such research data and to distribute or license\r\n                        such data to third parties.\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">\r\n                        7.3 We may tell you about third party products or services. Audaxware\r\n                        may offer products and services on behalf of third parties who are not affiliated\r\n                        with Audaxware (&quot;Third Party Products&quot;) or the Software may contain\r\n                        links to third party websites (&quot;Third Party Sites&quot;).You agree that Audaxware\r\n                        can use your contact information, including name and address, for the purpose\r\n                        of offering these products to you in accordance with your stated Audaxware\r\n                        contact preferences. If you decide to use any Third Party Products or access\r\n                        any Third Party Sites, you are responsible for reviewing the third party\'s\r\n                        separate product terms, website terms and privacy policies. You agree that the\r\n                        third parties, and not Audaxware, are responsible for their product\'s\r\n                        performance and the content on their websites. Audaxware is not affiliated with\r\n                        these Third Party Products or Third Party Sites and has no liability for them.\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">\r\n                        7.4 Communications choices. Audaxware may be required by law\r\n                        to send you communications about the Software or Third Party Products. You\r\n                        agree that Audaxware may send these communications to you via email or by\r\n                        posting them on one of our sponsored websites. We may also send business\r\n                        communications such as confirmations or notices, which will be delivered to you\r\n                        via email or posted on our websites. You are required to receive these\r\n                        communications. You can choose not to receive some types of communication, such\r\n                        as marketing messages.\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">\r\n                        7.5 You will track your passwords and accept updates. You\r\n                        are responsible for securely managing your password(s) for access to the\r\n                        Software. If you become aware of any unauthorized access to your Software\r\n                        account, theft or loss of your password, you agree to contact Audaxware as soon\r\n                        as possible. The Software may periodically be updated with tools, utilities,\r\n                        improvements, third party applications, or general updates to improve and\r\n                        enhance the features and performance of the Software.\r\n                    </p>\r\n\r\n                    <h3>8. Disclaimer of Warranties</h3>\r\n\r\n                    <p class="MsoNormal">\r\n                        8.1 YOUR USE OF THE SOFTWARE AND CONTENT ACCESSIBLE THROUGH\r\n                        THE SOFTWARE IS ENTIRELY AT YOUR OWN RISK. EXCEPT AS DESCRIBED IN THIS\r\n                        AGREEMENT, THE SOFTWARE IS PROVIDED &quot;AS IS.&quot; TO THE MAXIMUM EXTENT\r\n                        PERMITTED BY APPLICABLE LAW, AUDAXWARE, ITS AFFILIATES, AND ITS THIRD PARTY\r\n                        SERVICE OR DATA PROVIDERS, LICENSORS, DISTRIBUTORS OR SUPPLIERS (COLLECTIVELY\r\n                        REFERRED TO AS, &quot;SUPPLIERS&quot;) DISCLAIM ALL WARRANTIES, EXPRESS OR\r\n                        IMPLIED, INCLUDING ANY WARRANTY THAT THE SOFTWARE IS FIT FOR A PARTICULAR\r\n                        PURPOSE, TITLE, MERCHANTABILITY, DATA LOSS, NON-INTERFERENCE WITH OR\r\n                        NON-INFRINGEMENT OF ANY INTELLECTUAL PROPERTY RIGHTS, OR THE ACCURACY,\r\n                        RELIABILITY, QUALITY OR CONTENT IN OR LINKED TO THE SOFTWARE. AUDAXWARE AND ITS\r\n                        AFFILIATES AND SUPPLIERS DO NOT WARRANT THAT THE SOFTWARE IS SECURE, FREE FROM\r\n                        BUGS, VIRUSES, INTERRUPTION, ERRORS, THEFT OR DESTRUCTION. FURTHER, AUDAXWARE\r\n                        DOES NOT WARRANT ACCESS TO THE INTERNET OR TO ANY OTHER SERVICE, CONTENT OR\r\n                        DATA TRANSMITTED THROUGH THE SOFTWARE. IF THE EXCLUSIONS FOR IMPLIED WARRANTIES\r\n                        DO NOT APPLY TO YOU, ANY IMPLIED WARRANTIES ARE LIMITED TO 30 DAYS FROM THE\r\n                        DATE OF PURCHASE OR DELIVERY OF THE SERVICES, WHICHEVER IS SOONER.\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">\r\n                        8.2 AUDAXWARE AND ITS AFFILIATES AND SUPPLIERS DISCLAIM ANY\r\n                        REPRESENTATIONS OR WARRANTIES THAT YOUR USE OF THE SOFTWARE WILL SATISFY OR\r\n                        ENSURE COMPLIANCE WITH ANY LEGAL OBLIGATIONS OR LAWS OR REGULATIONS. YOU ARE\r\n                        SOLELY RESPONSIBLE FOR ENSURING THAT YOUR USE OF THE SOFTWARE IS IN ACCORDANCE\r\n                        WITH APPLICABLE LAW\r\n                    </p>\r\n\r\n                    <h3>9. Limitation of Liability and Indemnity</h3>\r\n\r\n                    <p class="MsoNormal">\r\n                        TO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, THE\r\n                        ENTIRE LIABILITY OF AUDAXWARE, AND ITS AFFILIATES AND SUPPLIERS FOR ALL MATTERS\r\n                        OR CLAIMS RELATING TO THIS AGREEMENT SHALL BE LIMITED TO THE AMOUNT YOU PAID\r\n                        FOR THE SOFTWARE DURING THE LAST MONTH PRIOR TO SUCH CLAIM. SUBJECT TO\r\n                        APPLICABLE LAW, AUDAXWARE AND ITS AFFILIATES AND SUPPLIERS ARE NOT LIABLE FOR\r\n                        ANY OF THE FOLLOWING: (A) INDIRECT, SPECIAL, INCIDENTAL, PUNITIVE OR\r\n                        CONSEQUENTIAL DAMAGES; (B) DAMAGES RELATING TO FAILURES OF TELECOMMUNICATIONS,\r\n                        THE INTERNET, ELECTRONIC COMMUNICATIONS, CORRUPTION, SECURITY, LOSS OR THEFT OF\r\n                        DATA, VIRUSES, SPYWARE, LOSS OF BUSINESS, REVENUE, PROFITS OR INVESTMENT, OR\r\n                        USE OF SOFTWARE OR HARDWARE THAT DOES NOT MEET AUDAXWARE SYSTEMS REQUIREMENTS.\r\n                        THE ABOVE LIMITATIONS APPLY EVEN IF AUDAXWARE AND ITS AFFILIATES AND SUPPLIERS\r\n                        HAVE BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. THIS AGREEMENT SETS FORTH\r\n                        THE ENTIRE LIABILITY OF AUDAXWARE, ITS AFFILIATES AND YOUR EXCLUSIVE REMEDY\r\n                        WITH RESPECT TO THE SOFTWARE AND ITS USE.\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">\r\n                        You agree to indemnify and hold Audaxware and its Affiliates\r\n                        and Suppliers harmless from any and all claims, liability and expenses,\r\n                        including reasonable attorneys\' fees and costs, arising out of your use of the\r\n                        Software or breach of this Agreement (collectively referred to as\r\n                        &quot;Claims&quot;). Audaxware reserves the right, in its sole discretion and\r\n                        at its own expense, to assume the exclusive defense and control of any Claims.\r\n                        You agree to reasonably cooperate as requested by Audaxware in the defense of\r\n                        any Claims.\r\n                    </p>\r\n\r\n                    <h3>10. Changes to this Agreement of the software</h3>\r\n\r\n                    <p class="MsoNormal">\r\n                        We may change this Agreement from time to time, and the\r\n                        changes will be effective when posted on our website for the Software or when\r\n                        we notify you by other means. Please review the Agreement periodically on the\r\n                        website for changes. We have the right to change any of the terms of this\r\n                        Agreement. We may also change or discontinue the Software, in whole or in part,\r\n                        including but not limited to, any feature or aspect of the Software, Internet\r\n                        based services, pricing, technical support options, and other product-related\r\n                        policies. Your continued use of the Software after Audaxware posts or otherwise\r\n                        notifies you of any changes, indicates your agreement to the changes.\r\n                    </p>\r\n\r\n                    <h3>11. Termination</h3>\r\n\r\n                    <p class="MsoNormal">\r\n                        Audaxware may immediately and without notice terminate this\r\n                        Agreement or suspend or terminate the license to the Software if you fail to\r\n                        comply with these terms, default in payment, or if you no longer agree to\r\n                        receive electronic communications. Upon any termination you must immediately\r\n                        stop using and delete or destroy all copies of the Software and any outstanding\r\n                        payments will become due. Any termination of this Agreement shall not affect Audaxware\'s\r\n                        rights to any payments due to it. &quot;). Upon termination, the content you\r\n                        have created within the Software, posted or uploaded during any period may no\r\n                        longer be available to you. Audaxware may terminate a free account at any time.\r\n                        Other requirements regarding termination or cancellation of your license to the\r\n                        Software may apply based on the specific ordering or activation terms for the\r\n                        Software. Application sections of this agreement, in Audaxware sole discretion,\r\n                        will survive and remain in effect even if the Agreement is terminated,\r\n                        cancelled or rescinded.\r\n                    </p>\r\n\r\n                    <h3>12. Export restrictions</h3>\r\n\r\n                    <p class="MsoNormal">\r\n                        You acknowledge that this website, the Software, and the\r\n                        underlying software may include U.S. technical data subject to restrictions\r\n                        under export control laws and regulations administered by the United States\r\n                        government. You agree that you will comply with these laws and regulations, and\r\n                        will not export or re-export the Software, or any part of the Software, in\r\n                        violation of these laws and regulations, directly or indirectly. You also agree\r\n                        not to provide access to any part of the Software to anyone who you have reason\r\n                        to know may use the Software in the development of nuclear, chemical, or\r\n                        biological weapons.\r\n                    </p>\r\n\r\n                    <h3>13. Governing Laws</h3>\r\n\r\n                    <p class="MsoNormal">\r\n                        Texas state law governs this Agreement without regard to its\r\n                        conflicts of laws provisions.\r\n                    </p>\r\n\r\n                    <h3>14. Disputes</h3>\r\n\r\n                    <p class="MsoNormal">\r\n                        AUDAXWARE MAY, IN ITS SOLE DISCRETION, CHOSE TO RESOLVE ANY\r\n                        DISPUTE OR CLAIM RELATING IN ANY WAY TO THE AUDAXWARE SOFTWARE OR THIS\r\n                        AGREEMENT BY BINDING ARBITRATION, RATHER THAN IN COURT. The Federal Arbitration\r\n                        Act governs the interpretation and enforcement of this provision; the\r\n                        arbitrator shall apply Texas law to all other matters. Notwithstanding anything\r\n                        to the contrary, any party to the arbitration may at any time seek injunctions\r\n                        or other forms of equitable relief from any court of competent jurisdiction. BY\r\n                        ENTERING INTO THIS AGREEMENT AND AGREEING TO ARBITRATION, YOU AGREE THAT YOU\r\n                        AND AUDAXWARE ARE EACH WAIVING THE RIGHT TO FILE A LAWSUIT AND THE RIGHT TO A\r\n                        TRIAL BY JURY. IN ADDITION, YOU AGREE TO WAIVE THE RIGHT TO PARTICIPATE IN A\r\n                        CLASS ACTION OR LITIGATE ON A CLASS-WIDE BASIS. YOU AGREE THAT YOU HAVE\r\n                        EXPRESSLY AND KNOWINGLY WAIVED THESE RIGHTS.\r\n                    </p>\r\n\r\n                    <p class="MsoNormal">\r\n                        To begin an arbitration proceeding, send a letter requesting\r\n                        arbitration and describing your claim to Audaxware LLC.\r\n                    </p>\r\n\r\n                    <h3>15. Languages</h3>\r\n\r\n                    <p class="MsoNormal">\r\n                        Any translation of this Agreement is done for local\r\n                        requirements and in the event of a dispute between the English and any\r\n                        non-English version, the English version of this Agreement shall govern. The\r\n                        parties hereby confirm that they have requested that this Agreement and all related\r\n                        documents be drafted in English.\r\n                    </p>\r\n\r\n                    <h3>16. General</h3>\r\n\r\n                    <p class="MsoNormal">\r\n                        This Agreement is the entire agreement between you and Audaxware\r\n                        and replaces all prior understandings, communications and agreements, oral or\r\n                        written, regarding its subject matter. If any court of law, having the\r\n                        jurisdiction, rules that any part of this Agreement is invalid, that section\r\n                        will be removed without affecting the remainder of the Agreement. The remaining\r\n                        terms will be valid and enforceable. You cannot assign or transfer ownership of\r\n                        this Agreement. However, Audaxware may assign or transfer it without your\r\n                        consent to (a) an Affiliate, (b) another company through a sale of assets by Audaxware\r\n                        or (c) a successor by merger, acquisition, or other lawful transaction.\r\n                    </p>\r\n</md-input-container>\r\n    </md-dialog-content>\r\n    <md-dialog-actions>\r\n        <md-button class="md-primary" ng-click="ctrl.accept()">I Agree</md-button>\r\n        <md-button class="md-primary" ng-click="ctrl.reject()">Reject</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Security/Login/Login.html",'\r\n<div layout="column" layout-align="center center">\r\n    <form name="loginForm" id="loginForm">\r\n        <div layout="column" layout-align="center center" class="login-logo">\r\n            <img id="Image1" src="images/branding/logo.png" style="border-width:0px;">\r\n            <span>\r\n                planning - procurement - logistics\r\n            </span>\r\n        </div>\r\n        <md-input-container class="md-block">\r\n            <label>User</label>\r\n            <input type="email" ng-model="user.username" name="username" required ng-enter="login()">\r\n            <div ng-messages="loginForm.username.$error">\r\n                <div ng-message="required">Username is required</div>\r\n                <div ng-message="email">Is not a valid email</div>\r\n            </div>\r\n        </md-input-container>\r\n        <md-input-container class="md-block">\r\n            <label>Password</label>\r\n            <input type="password" ng-model="user.password" name="password" required ng-enter="login()">\r\n            <div ng-messages="loginForm.password.$error">\r\n                <div ng-message="required">Password is required</div>\r\n            </div>\r\n        </md-input-container>\r\n        <md-checkbox ng-model="user.rememberme" aria-label="Remember me">\r\n            Keep me logged in\r\n        </md-checkbox>\r\n        <section layout="column" layout-align="center center">\r\n            <md-button class="md-raised" ng-click="login()">Login</md-button>\r\n        </section>\r\n        <div class="forget-password" layout="column" layout-align="center center">\r\n            <a href="" ng-click="forgotPassword()">Forgot your password?</a>\r\n            <a href="" ng-click="requestSubscription()">Request Subscription</a>\r\n        </div>\r\n    </form>\r\n</div>'),n.put("app/Security/Login/NoDomain.html",'\r\n<md-toolbar layout="row" aria-label="Top Menu">\r\n</md-toolbar>\r\n\r\n<div layout="column" layout-align="center center" style="margin-top:5em">\r\n    <div layout="column" layout-align="center center" class="login-logo">\r\n        <img id="Image1" src="images/branding/logo.png" style="border-width:0px;">\r\n        <span>\r\n            planning - procurement - logistics\r\n        </span>\r\n    </div>\r\n    <section layout="column" layout-align="center center">\r\n        <strong>Your domain is not authorized. Please contact the Application Administrator to register one.</strong>\r\n        <md-button style="margin-top: 1em" class="md-raised md-primary" ui-sref="login">Go to login</md-button>\r\n    </section>\r\n    \x3c!--<div class="forget-password" layout="column" layout-align="center center">\r\n        <a href="">Forgot your password?</a>\r\n        <a href="">Request Subscription</a>\r\n    </div>--\x3e:\r\n</div>'),n.put("app/Security/Login/ThirdPartyCopyright.html",'<md-dialog aria-label="third_party_copyright">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        <h2>Third Party Libraries</h2>\r\n    </md-toolbar>\r\n    <md-dialog-content ng-cloak>\r\n        <form name="thirdPartyLibraries" id="thirdPartyLibraries" layout="column" layout-align="center center" novalidate>\r\n            <md-input-container class="md-block" flex="100">\r\n                <h3>•Jszip</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/Stuk/jszip">https://github.com/Stuk/jszip</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2009-2016 Stuart Knightley, David Duponchel, Franz Buchinger, António Afonso\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <h4>GNU</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (C) 2007 Free Software Foundation, Inc. http://fsf.org/ Everyone is permitted to\r\n                    copy and distribute verbatim copies of this license document, but changing it is not allowed.\r\n                </p>\r\n                <br />\r\n\r\n\r\n                <h3>•Jquery v2.1.4</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/jquery/jquery/">https://github.com/jquery/jquery/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright JS Foundation and other contributors, https://js.foundation/\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•Angular.js v1.5.5</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/angular/angular.js/">https://github.com/angular/angular.js/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2010-2019 Google, Inc. http://angularjs.org\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•Angular-ui ui-router v0.2.15</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/angular-ui/ui-router">https://github.com/angular-ui/ui-router/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2013-2018 The AngularUI Team, Karsten Sperling\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•Angular-local-storage 0.1.5</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/grevory/angular-local-storage">https://github.com/grevory/angular-local-storage/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2016 Gregory Pike\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•Angular-toastr v1.6.0</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/Foxandxss/angular-toastr">https://github.com/Foxandxss/angular-toastr/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2014-2016 Jesús Rodríguez\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•Angular-material v1.1.0</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/angular/material">https://github.com/angular/material/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2014-2018 Google LLC. https://angularjs.org\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•Md-data-table v0.9.4</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="- https://github.com/daniel-nagy/md-data-table">https://github.com/daniel-nagy/md-data-table</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2015 Daniel Nagy\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•Angular-oauth2 v3.0.1</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/oauthjs/angular-oauth2">https://github.com/oauthjs/angular-oauth2/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2015 Seegno\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n                <h3>•Ngprogress v1.1.2</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/victorb/ngProgress">https://github.com/victorb/ngProgress/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2013 Victor Bjelkholm\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•Ng-file-upload v12.0.1</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/danialfarid/ng-file-upload/tree">https://github.com/danialfarid/ng-file-upload/tree/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2013 danialfarid\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•Angular-material-sidenav-menu v.0.0.2</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://libraries.io/bower/angular-material-sidenav-menu">https://libraries.io/bower/angular-material-sidenav-menu/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2014-2018 Google LLC. https://angularjs.org\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•KendoUI Q32015</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://www.telerik.com/kendo-ui">https://www.telerik.com/kendo-ui/</a>\r\n                </p>\r\n                <h4>1. Certain Definitions.</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    “Authorized End Users” means Your own end-user licensees, each of whom is authorized to use the Software solely as part of Your Application pursuant\r\n                    to an end-user license that meets the requirements of this Agreement.\r\n                </p>\r\n                <h4>2. Software License.</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <b>2.1</b> While You have an active Subscription, and only to the extent and level of such Subscription, Telerik hereby grants to You the following limited, non–exclusive,\r\n                    non–transferable license (the “License”) to use the  Platform UI Components and any updates, upgrades, modifications and error corrections thereto provided to You\r\n                    by Telerik (the “Programs”) and any accompanying documentation (the “Documentation” and, together with the Programs, the “Software”) subject to the terms of this\r\n                    Agreement.\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <b>2.2 License with Updates and Support.</b> While You have an active Subscription, Your Licensed Developers may use the Software in the format(s) provided to You\r\n                    by Telerik (e.g.  object, minified, and/or source code form (as applicable)) in accordance with Section 2.3 in the development of Your Application(s).\r\n                </p>\r\n\r\n                <p class="MsoNormal">\r\n                    <b>2.3. Source Code. </b> In cases where the source code is provided, the Software’s source code is provided to You so that You can create modifications under the terms\r\n                    of this Agreement.\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <b>2.3.1. </b> While Telerik does not claim any ownership rights in Your Applications, any modifications You develop to the Software source code will be the exclusive\r\n                    property of Telerik, and You agree to and hereby do assign all right, title and interest in and to such modifications and all rights associated therewith to Telerik.\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <b>2.3.2. </b> You will be entitled to use such authorized modifications of the Software’s source code developed by You under the terms of this Agreement and Telerik hereby\r\n                    grants You a license to use such modifications pursuant to Section 2.2.\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <b>2.3.3. </b> You acknowledge that the Software’s source code is confidential and contains valuable and proprietary trade secrets of Telerik. Under no circumstances may\r\n                    any portion of the Software’s source code or any modified version of the source code be distributed, disclosed or otherwise made available to any third party.\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <b>2.3.4. </b> YTelerik DOES NOT provide technical support for any source code that has been modified by any party other than Telerik.\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <b>2.3.5. </b> The Software’s source code is provided “as is”, without warranty of any kind. Refunds are not available for any licenses that include a right to\r\n                    receive source code.\r\n                </p>\r\n\r\n                <p>\r\n                    <h4>3. Redistribution License.</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <b>While You have an active Subscription</b> , You may distribute the Programs only in machine readable form and only as embedded in Your Application(s) to Your\r\n                    Authorized End-Users only pursuant to an end-user license that meets the requirements of this Section. You are not permitted to distribute the Software pursuant to\r\n                    this Section: as a standalone product or as a part of any product other than Your Application. Your end-user license agreement must: prohibit distribution of the\r\n                    Software by Your Authorized End Users; limit the liability of Your licensors or suppliers to the maximum extent permitted by applicable law; and prohibit any attempt to\r\n                    disassemble, decompile or “unlock”, decode or otherwise reverse translate or engineer, or attempt in any manner to reconstruct or discover any source code\r\n                    or underlying algorithms of the Software. Provided Your Authorized End-Users are in compliance with their license agreements with You, any sublicenses to use\r\n                    the Software granted by You to Your Authorized End-Users will survive any termination of this Agreement or the License set forth herein between You and Telerik. You\r\n                    are not allowed to, and are expressly prohibited from granting Your Authorized End-Users any right to further sublicense the Software. For avoidance of doubt, Your\r\n                    Authorized End Users are not permitted to use the Programs, or any portions thereof, for software development or application development purposes.\r\n                </p>\r\n\r\n                </p>\r\n                <h4>4. Redistribution License Limitations.</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <b>4.2.1</b> You may not use the Telerik product names, logos or trademarks to market Your Application(s).\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <b>4.2.2</b> You must ensure that the Programs are not distributed in any form that allows them to be reused by any application other than Your Application. Technical\r\n                    guidelines are provided here: http://www.telerik.com/purchase/license-agreement/assembly-protection-guidelines.aspx. Please contact support@telerik.com for any\r\n                    additional questions.\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <b>4.2.3  </b> You must include a valid copyright message in Your Application in a location viewable by Authorized End-Users (e.g. “About” box) that will serve to protect\r\n                    Telerik’s copyright and other intellectual property rights in the Software.\r\n                </p>\r\n                <p>\r\n                    <h4>5. Delivery.</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Telerik shall make a master copy of the Software available for access or download (as applicable) by Licensee in electronic files only.\r\n                </p>\r\n                <p>\r\n                    <h4>6. Term and Termination.</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    This License is granted only while You have an active Subscription and shall last as long as You use the Software in compliance with the terms herein. Unless\r\n                    otherwise prohibited by law, and without prejudice to Telerik’s other rights or remedies, Telerik shall have the right to terminate this Agreement in accordance with the\r\n                    General Terms. Upon termination of this Agreement, all Licenses granted to You hereunder shall terminate automatically and You shall immediately cease use of the\r\n                    Software. You must also destroy (i) all locally installed copies of the Software and (ii) any product and company logos provided by Telerik in connection with this\r\n                    Agreement. Notwithstanding the foregoing, any sublicenses to the Software granted to Your end-users in accordance with Section 3 shall survive termination of this\r\n                    Agreement.\r\n                </p>\r\n                <p>\r\n                    <h4>7. Product Discontinuance.</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Telerik reserves the right to discontinue the Software or any component of the Software, whether offered as a standalone product or solely as a component, at any\r\n                    time.\r\n                </p>\r\n                <p>\r\n                    <h4>8. Open Source.</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Any Open Source Software that may be delivered by Telerik embedded in or in association with Telerik products is provided pursuant to the open source license\r\n                    applicable to the software and subject to the disclaimers and limitations on liability set forth in such license.\r\n                </p>\r\n                <p>\r\n                    <h4>9. Survival.</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Any provisions of the Agreement containing license restrictions, warranties and warranty disclaimers, confidentiality obligations, limitations of liability and/or indemnity\r\n                    terms, and any provision of the Agreement which, by its nature, is intended to survive shall remain in effect following any termination or expiration of the Agreement.\r\n                </p>\r\n                <br />\r\n                <h3>•Super-json.js v0.0.2</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/tarruda/super-json">https://github.com/tarruda/super-json/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2015 Thiago de Arruda\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•Moment v2.13.0</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/moment/moment">https://github.com/moment/moment/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) JS Foundation and other contributors\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•Material-steppers v1.0.3</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://libraries.io/npm/material-steppers">https://libraries.io/npm/material-steppers/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2016 Eduardo Eidelwein Berlitz\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•Angular-click-outside</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/IamAdamJowett/angular-click-outside">https://github.com/IamAdamJowett/angular-click-outside/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2015 Adam Jowett\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•Powerbi-angular</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/Microsoft/powerbi-angular">https://github.com/Microsoft/powerbi-angular/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2015 Microsoft Corporation\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•Jquery-cookie v1.4.1 </h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/carhartl/jquery-cookie">https://github.com/carhartl/jquery-cookie/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright 2014 Klaus Hartl\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n\r\n            </md-input-container>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions>\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>        \r\n    </md-dialog-actions>\r\n</md-dialog>\r\n'),n.put("app/Security/Reset Password/ResetPassword.html",'<md-toolbar layout="row" aria-label="navbar">\r\n    <h1 flex="100" layout="column" layout-align="none center"><img class="logo" height="40" width="200" id="Image1" ng-src="{{\'images/branding/logo.png\'}}" ui-sref="index"></h1>\r\n</md-toolbar>\r\n\r\n<div layout="column" layout-align="center center" style="margin-top: 6em">\r\n    <h1 class="gray-color">Reset Password</h1>\r\n    <form name="resetPasswordForm" id="resetPasswordForm" class="md-block" flex="20">\r\n        <md-input-container class="md-block">\r\n            <label>New Password</label>\r\n            <input type="password" ng-model="data.password" name="psw" ng-minlength="6" aw-password required ng-enter="reset()">\r\n            <div ng-messages="resetPasswordForm.psw.$error">\r\n                <div ng-message="required">You must inform a new password</div>\r\n                <div ng-message="minlength">Must have at least 6 characters</div>\r\n                <div ng-message="password">Must have letters and digits, <br/>at least one non letter or digit character <br/>and at least one uppercase (\'A\'-\'Z\')</div>\r\n            </div>\r\n        </md-input-container>\r\n        <md-input-container class="md-block">\r\n            <label>Confirm New Password</label>\r\n            <input type="password" ng-model="data.confirmPassword" name="confirm" aw-match="data.password" required ng-enter="reset()">\r\n            <div ng-messages="resetPasswordForm.confirm.$error">\r\n                <div ng-message="match">The passwords do not match</div>\r\n                <div ng-message="required">You must confirm the new password</div>\r\n            </div>\r\n        </md-input-container>\r\n        <section layout="column" layout-align="center center">\r\n            <md-button class="md-raised" ng-click="reset()">Reset</md-button>\r\n        </section>\r\n    </form>\r\n</div>'),n.put("app/Subscription/Modals/Subscription.html",'<md-dialog aria-label="requestSubscription" ng-cloak class="max-width-40 width-40">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Request Subscription\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak>\r\n        <form name="requestSubscriptionForm" id="requestSubscriptionForm">\r\n            <md-input-container class="md-block">\r\n                <label>Name</label>\r\n                <input name="name" ng-model="data.name" maxlength="200" property="name" required>\r\n                <div ng-messages="requestSubscriptionForm.name.$error">\r\n                    <div ng-message="required">Name is required</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label>Email</label>\r\n                <input type="email" name="email" ng-model="data.email" maxlength="200" required>\r\n                <div ng-messages="requestSubscriptionForm.user_email.$error">\r\n                    <div ng-message="required">Email is required</div>\r\n                    <div ng-message="email">Not a valid email</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label>Phone Number</label>\r\n                <input name="phone_number" ng-model="data.phone_number" maxlength="10" required aw-only-numbers>\r\n                <div ng-messages="requestSubscriptionForm.phone.$error">\r\n                    <div ng-message="required">Phone number is required</div>\r\n                    <div ng-message="number">Only numbers</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label>Message</label>\r\n                <textarea ng-model="data.message" name="message" columns="1" md-maxlength="2000" maxlength="2000" rows="1"></textarea>\r\n            </md-input-container>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="send()">Send</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Utils/Modals/DisplayColumns.html",'<md-dialog aria-label="addDomain" flex-gt-xs="55">\r\n    <md-toolbar layout="row" layout-align="center center" ng-cloak>\r\n        Grid Configuration\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak>\r\n        <section class="md-inline-form">\r\n            <section layout="row">\r\n                <section layout="row" layout-align="start space-between" layout-wrap class="grid-toolbar" flex="90">\r\n                    <md-input-container class="md-block" style="margin: 0px; bottom: -10px;" flex-xs="100" flex-sm="30" flex-gt-sm="20">\r\n                        <md-select ng-model="selectedGroup" placeholder="Select a group to">\r\n                            <md-option ng-value="grp" ng-repeat="grp in groups">{{ grp }}</md-option>\r\n                        </md-select>\r\n                    </md-input-container>\r\n                    <md-button class="md-raised md-primary select-all" style="font-size: 14px" ng-click="selectAllToDisplay(selectedGroup)">\r\n                        Display\r\n                    </md-button>\r\n                    <md-button class="md-raised md-primary select-all" style="font-size: 14px" ng-click="unselectAllToDisplay(selectedGroup)">\r\n                        Hide\r\n                    </md-button>\r\n                    <md-button class="md-raised md-primary select-all" style="font-size: 14px" ng-click="selectAllToConsolidate(selectedGroup)">\r\n                        Consolidate\r\n                    </md-button>\r\n                    <md-button class="md-raised md-primary select-all" style="font-size: 14px" ng-click="unselectAllToConsolidate(selectedGroup)">\r\n                        Unconsolidate\r\n                    </md-button>\r\n                </section>\r\n                <section layout="row" layout-align="end start" layout-wrap class="grid-toolbar" flex="10">\r\n                    <button class="md-icon-button md-button" ng-click="collapseExpand(displayColumnsGrid)" style="bottom: -20px;">\r\n                        <md-icon md-svg-icon="collapse_expand"></md-icon>\r\n                        <md-tooltip md-direction="bottom">Collapse/Expand All</md-tooltip>\r\n                    </button>\r\n                </section>\r\n            </section>\r\n            <div kendo-grid="displayColumnsGrid" options="options" k-on-data-bound="dataBound(displayColumnsGrid)"></div>\r\n        </section>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row" layout-align="end" ng-cloak>\r\n        <section layout="row" layout-align="start" flex="50">\r\n            <md-button class="md-raised md-primary select-all" ng-click="resetDefaultColumns()">\r\n                Reset Default Columns\r\n            </md-button>\r\n            <md-button class="md-raised md-primary select-all" ng-click="resetDefaultConsolidation()">\r\n                Reset Default Consolidation\r\n            </md-button>\r\n        </section>\r\n        <section layout="row" layout-align="end" flex="50">\r\n            <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n            <md-button class="md-primary" ng-click="save()">Save</md-button>\r\n        </section>\r\n    </md-dialog-actions> \r\n</md-dialog>\r\n\r\n<style parse-style>\r\n    .k-grid-content { \r\n        max-height:{{gridHeight - 150}}px;\r\n        min-height:{{gridHeight - 150}}px;\r\n    }\r\n</style>'),n.put("app/Utils/Modals/ProgressBar.html",'<md-dialog aria-label="progressBar" flex-gt-xs="30">\r\n    <md-dialog-content layout-padding ng-cloak class="md-inline-form">\r\n        <h2 class="md-title ng-binding">Regenerate All Cutsheets</h2>\r\n        <p class="ng-binding">The cutsheets are already being generated. You can see the progress here.</p>\r\n        <md-progress-linear style="display: flex; justify-content: center; width: 95%" md-mode="determinate" value="{{progress}}"></md-progress-linear>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Utils/Modals/SaveChanges.html",'<md-dialog aria-label="saveChanges" flex-gt-xs="30">\r\n    <md-dialog-content layout-padding ng-cloak class="md-inline-form">\r\n        <h2 class="md-title ng-binding">Unsaved changes</h2>\r\n        <p class="ng-binding">Some changes haven\'t been saved and will be lost. Do you want to save it before leaving the page?</p>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n        <md-button class="md-primary" ng-click="cancel()">Cancel</md-button>\r\n        <md-button class="md-primary" ng-click="confirm(false)">No</md-button>\r\n        <md-button class="md-primary" ng-click="confirm(true)">Yes</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Utils/Modals/ThirdPartyCopyright.html",'<md-dialog aria-label="third_party_copyright">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        <h2>Third Party Libraries</h2>\r\n    </md-toolbar>\r\n    <md-dialog-content ng-cloak>\r\n        <form name="thirdPartyLibraries" id="thirdPartyLibraries" layout="column" layout-align="center center" novalidate>\r\n            <md-input-container class="md-block" flex="100">\r\n                <h3>•Jszip</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/Stuk/jszip">https://github.com/Stuk/jszip</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2009-2016 Stuart Knightley, David Duponchel, Franz Buchinger, António Afonso\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <h4>GNU</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (C) 2007 Free Software Foundation, Inc. http://fsf.org/ Everyone is permitted to\r\n                    copy and distribute verbatim copies of this license document, but changing it is not allowed.\r\n                </p>\r\n                <br />\r\n\r\n\r\n                <h3>•Jquery v2.1.4</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/jquery/jquery/">https://github.com/jquery/jquery/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright JS Foundation and other contributors, https://js.foundation/\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•Angular.js v1.5.5</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/angular/angular.js/">https://github.com/angular/angular.js/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2010-2019 Google, Inc. http://angularjs.org\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•Angular-ui ui-router v0.2.15</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/angular-ui/ui-router">https://github.com/angular-ui/ui-router/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2013-2018 The AngularUI Team, Karsten Sperling\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•Angular-local-storage 0.1.5</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/grevory/angular-local-storage">https://github.com/grevory/angular-local-storage/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2016 Gregory Pike\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•Angular-toastr v1.6.0</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/Foxandxss/angular-toastr">https://github.com/Foxandxss/angular-toastr/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2014-2016 Jesús Rodríguez\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•Angular-material v1.1.0</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/angular/material">https://github.com/angular/material/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2014-2018 Google LLC. https://angularjs.org\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•Md-data-table v0.9.4</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="- https://github.com/daniel-nagy/md-data-table">https://github.com/daniel-nagy/md-data-table</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2015 Daniel Nagy\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•Angular-oauth2 v3.0.1</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/oauthjs/angular-oauth2">https://github.com/oauthjs/angular-oauth2/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2015 Seegno\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n                <h3>•Ngprogress v1.1.2</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/victorb/ngProgress">https://github.com/victorb/ngProgress/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2013 Victor Bjelkholm\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•Ng-file-upload v12.0.1</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/danialfarid/ng-file-upload/tree">https://github.com/danialfarid/ng-file-upload/tree/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2013 danialfarid\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•Angular-material-sidenav-menu v.0.0.2</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://libraries.io/bower/angular-material-sidenav-menu">https://libraries.io/bower/angular-material-sidenav-menu/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2014-2018 Google LLC. https://angularjs.org\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•KendoUI Q32015</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://www.telerik.com/kendo-ui">https://www.telerik.com/kendo-ui/</a>\r\n                </p>\r\n                <h4>1. Certain Definitions.</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    “Authorized End Users” means Your own end-user licensees, each of whom is authorized to use the Software solely as part of Your Application pursuant\r\n                    to an end-user license that meets the requirements of this Agreement.\r\n                </p>\r\n                <h4>2. Software License.</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <b>2.1</b> While You have an active Subscription, and only to the extent and level of such Subscription, Telerik hereby grants to You the following limited, non–exclusive,\r\n                    non–transferable license (the “License”) to use the  Platform UI Components and any updates, upgrades, modifications and error corrections thereto provided to You\r\n                    by Telerik (the “Programs”) and any accompanying documentation (the “Documentation” and, together with the Programs, the “Software”) subject to the terms of this\r\n                    Agreement.\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <b>2.2 License with Updates and Support.</b> While You have an active Subscription, Your Licensed Developers may use the Software in the format(s) provided to You\r\n                    by Telerik (e.g.  object, minified, and/or source code form (as applicable)) in accordance with Section 2.3 in the development of Your Application(s).\r\n                </p>\r\n\r\n                <p class="MsoNormal">\r\n                    <b>2.3. Source Code. </b> In cases where the source code is provided, the Software’s source code is provided to You so that You can create modifications under the terms\r\n                    of this Agreement.\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <b>2.3.1. </b> While Telerik does not claim any ownership rights in Your Applications, any modifications You develop to the Software source code will be the exclusive\r\n                    property of Telerik, and You agree to and hereby do assign all right, title and interest in and to such modifications and all rights associated therewith to Telerik.\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <b>2.3.2. </b> You will be entitled to use such authorized modifications of the Software’s source code developed by You under the terms of this Agreement and Telerik hereby\r\n                    grants You a license to use such modifications pursuant to Section 2.2.\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <b>2.3.3. </b> You acknowledge that the Software’s source code is confidential and contains valuable and proprietary trade secrets of Telerik. Under no circumstances may\r\n                    any portion of the Software’s source code or any modified version of the source code be distributed, disclosed or otherwise made available to any third party.\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <b>2.3.4. </b> YTelerik DOES NOT provide technical support for any source code that has been modified by any party other than Telerik.\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <b>2.3.5. </b> The Software’s source code is provided “as is”, without warranty of any kind. Refunds are not available for any licenses that include a right to\r\n                    receive source code.\r\n                </p>\r\n\r\n                <p>\r\n                    <h4>3. Redistribution License.</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <b>While You have an active Subscription</b> , You may distribute the Programs only in machine readable form and only as embedded in Your Application(s) to Your\r\n                    Authorized End-Users only pursuant to an end-user license that meets the requirements of this Section. You are not permitted to distribute the Software pursuant to\r\n                    this Section: as a standalone product or as a part of any product other than Your Application. Your end-user license agreement must: prohibit distribution of the\r\n                    Software by Your Authorized End Users; limit the liability of Your licensors or suppliers to the maximum extent permitted by applicable law; and prohibit any attempt to\r\n                    disassemble, decompile or “unlock”, decode or otherwise reverse translate or engineer, or attempt in any manner to reconstruct or discover any source code\r\n                    or underlying algorithms of the Software. Provided Your Authorized End-Users are in compliance with their license agreements with You, any sublicenses to use\r\n                    the Software granted by You to Your Authorized End-Users will survive any termination of this Agreement or the License set forth herein between You and Telerik. You\r\n                    are not allowed to, and are expressly prohibited from granting Your Authorized End-Users any right to further sublicense the Software. For avoidance of doubt, Your\r\n                    Authorized End Users are not permitted to use the Programs, or any portions thereof, for software development or application development purposes.\r\n                </p>\r\n\r\n                </p>\r\n                <h4>4. Redistribution License Limitations.</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <b>4.2.1</b> You may not use the Telerik product names, logos or trademarks to market Your Application(s).\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <b>4.2.2</b> You must ensure that the Programs are not distributed in any form that allows them to be reused by any application other than Your Application. Technical\r\n                    guidelines are provided here: http://www.telerik.com/purchase/license-agreement/assembly-protection-guidelines.aspx. Please contact support@telerik.com for any\r\n                    additional questions.\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    <b>4.2.3  </b> You must include a valid copyright message in Your Application in a location viewable by Authorized End-Users (e.g. “About” box) that will serve to protect\r\n                    Telerik’s copyright and other intellectual property rights in the Software.\r\n                </p>\r\n                <p>\r\n                    <h4>5. Delivery.</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Telerik shall make a master copy of the Software available for access or download (as applicable) by Licensee in electronic files only.\r\n                </p>\r\n                <p>\r\n                    <h4>6. Term and Termination.</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    This License is granted only while You have an active Subscription and shall last as long as You use the Software in compliance with the terms herein. Unless\r\n                    otherwise prohibited by law, and without prejudice to Telerik’s other rights or remedies, Telerik shall have the right to terminate this Agreement in accordance with the\r\n                    General Terms. Upon termination of this Agreement, all Licenses granted to You hereunder shall terminate automatically and You shall immediately cease use of the\r\n                    Software. You must also destroy (i) all locally installed copies of the Software and (ii) any product and company logos provided by Telerik in connection with this\r\n                    Agreement. Notwithstanding the foregoing, any sublicenses to the Software granted to Your end-users in accordance with Section 3 shall survive termination of this\r\n                    Agreement.\r\n                </p>\r\n                <p>\r\n                    <h4>7. Product Discontinuance.</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Telerik reserves the right to discontinue the Software or any component of the Software, whether offered as a standalone product or solely as a component, at any\r\n                    time.\r\n                </p>\r\n                <p>\r\n                    <h4>8. Open Source.</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Any Open Source Software that may be delivered by Telerik embedded in or in association with Telerik products is provided pursuant to the open source license\r\n                    applicable to the software and subject to the disclaimers and limitations on liability set forth in such license.\r\n                </p>\r\n                <p>\r\n                    <h4>9. Survival.</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Any provisions of the Agreement containing license restrictions, warranties and warranty disclaimers, confidentiality obligations, limitations of liability and/or indemnity\r\n                    terms, and any provision of the Agreement which, by its nature, is intended to survive shall remain in effect following any termination or expiration of the Agreement.\r\n                </p>\r\n                <br />\r\n                <h3>•Super-json.js v0.0.2</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/tarruda/super-json">https://github.com/tarruda/super-json/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2015 Thiago de Arruda\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•Moment v2.13.0</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/moment/moment">https://github.com/moment/moment/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) JS Foundation and other contributors\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•Material-steppers v1.0.3</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://libraries.io/npm/material-steppers">https://libraries.io/npm/material-steppers/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2016 Eduardo Eidelwein Berlitz\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•Angular-click-outside</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/IamAdamJowett/angular-click-outside">https://github.com/IamAdamJowett/angular-click-outside/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2015 Adam Jowett\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•Powerbi-angular</h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/Microsoft/powerbi-angular">https://github.com/Microsoft/powerbi-angular/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright (c) 2015 Microsoft Corporation\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n                <br />\r\n\r\n                <h3>•Jquery-cookie v1.4.1 </h3>\r\n                <p class="MsoNormal">\r\n                    <a href="https://github.com/carhartl/jquery-cookie">https://github.com/carhartl/jquery-cookie/</a>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Copyright 2014 Klaus Hartl\r\n                <p class="MsoNormal">\r\n                    <h4>The MIT License</h4>\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    Permission is hereby granted, free of charge, to any person obtaining a copy of this software\r\n                    and associated documentation files (the "Software"), to deal in the Software without\r\n                    restriction, including without limitation the rights to use, copy, modify, merge, publish,\r\n                    distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the\r\n                    Software is furnished to do so, subject to the following conditions:\r\n                </p>\r\n                <p class="MsoNormal">\r\n\r\n                    The above copyright notice and this permission notice shall be included in all copies or\r\n                    substantial portions of the Software.\r\n\r\n                </p>\r\n                <p class="MsoNormal">\r\n                    The software is provided "as is", without warranty of any kind, express or implied, including\r\n                    but not limited to the warranties of merchantability, fitness for a particular purpose and\r\n                    noninfringement. in no event shall the authors or copyright holders be liable for any claim,\r\n                    damages or other liability, whether in an action of contract, tort or otherwise, arising from,\r\n                    out of or in connection with the software or the use or other dealings in the software.\r\n                </p>\r\n\r\n            </md-input-container>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions>\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>        \r\n    </md-dialog-actions>\r\n</md-dialog>\r\n'),n.put("app/Utils/Modals/ViewersChanges.html",'<md-dialog aria-label="saveChanges" flex-gt-xs="30">\r\n    <md-dialog-content layout-padding ng-cloak class="md-inline-form">\r\n        <h2 class="md-title ng-binding">Not Allowed</h2>\r\n        <p class="ng-binding">You do not have rights to perform this operation, please contact your system Administrator</p>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n        <md-button class="md-primary" ng-click="cancel()">OK</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Users/Modals/EditUser.html",'<md-dialog aria-label="edit_multi" class="all-screen" flex-gt-sm="60" flex-xs="100" flex="80">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        {{edit ? \'Edit\' : \'Add\'}} User\r\n    </md-toolbar>\r\n    <md-dialog-content class="md-inline-form not-scrollable" ng-cloak>\r\n        <div flex>\r\n            <md-tabs class="full-size" md-stretch-tabs="always" md-selected="selectedIndex" md-border-bottom>\r\n                <md-tab label="Information">\r\n                    <form name="EditUserForm" id="EditUserForm">\r\n                        <section layout-gt-xs="row" layout-align="space-between start">\r\n                            <md-input-container class="md-block" flex-gt-xs="45">\r\n                                <label>Role</label>\r\n                                <md-select name="role_id" ng-model="user.role_id" required ng-change="updateProjects()">\r\n                                    <md-option ng-repeat="role in roles" ng-value="role.id">\r\n                                        {{role.name}}\r\n                                    </md-option>\r\n                                </md-select>\r\n                                <div ng-messages="EditUserForm.role_id.$error">\r\n                                    <div ng-message="required">Role is required</div>\r\n                                </div>\r\n                            </md-input-container>\r\n                            <md-input-container class="md-block" flex-gt-xs="45">\r\n                                <label>Email</label>\r\n                                <input name="email" ng-model="user.email" required>\r\n                                <div ng-messages="EditUserForm.email.$error">\r\n                                    <div ng-message="required">Email is required</div>\r\n                                </div>\r\n                            </md-input-container>\r\n                        </section>\r\n                        <section layout-gt-xs="row" layout-align="space-between start">\r\n                            <md-input-container class="md-block" flex-gt-xs="45">\r\n                                <label>First Name</label>\r\n                                <input name="first_name" ng-model="user.first_name" required>\r\n                                <div ng-messages="EditUserForm.first_name.$error">\r\n                                    <div ng-message="required">First name is required</div>\r\n                                </div>\r\n                            </md-input-container>\r\n                            <md-input-container class="md-block" flex-gt-xs="45">\r\n                                <label>Last Name</label>\r\n                                <input name="last_name" ng-model="user.last_name" required>\r\n                                <div ng-messages="EditUserForm.last_name.$error">\r\n                                    <div ng-message="required">Last name is required</div>\r\n                                </div>\r\n                            </md-input-container>\r\n                        </section>\r\n                        <section layout-gt-xs="row" layout-align="space-between start">\r\n                            <md-input-container class="md-block" flex-gt-xs="95">\r\n                                <label>Comment</label>\r\n                                <input name="comment" ng-model="user.comment">\r\n                            </md-input-container>\r\n                        </section>\r\n                        <section layout-gt-xs="row" layout-align="space-between start">\r\n                            <md-input-container class="md-block" flex-gt-xs="95">\r\n                                <label>Email Content</label>\r\n                                <input name="email_content" ng-model="email_content">\r\n                            </md-input-container>\r\n                        </section>\r\n                        <section layout="row" layout-align="center center" ng-if="edit">\r\n                            <md-button class="md-raised gray-color" ng-click="resetPassword()">Reset Password</md-button>\r\n                        </section>\r\n                    </form>\r\n                </md-tab>\r\n                <md-tab label="Projects" ng-click="verifyRole()">\r\n                    <section style="padding-top: 15px; text-align: center;" ng-if="!showProjects">\r\n                        You don\'t have permissions to see the projects\r\n                    </section>\r\n                    <div ng-show="showProjects">\r\n                        <md-input-container class="md-block" flex-gt-xs="40">\r\n                            <label>Status</label>\r\n                            <md-select ng-model="project_status">\r\n                                <md-option value="0" ng-selected="true">All</md-option>\r\n                                <md-option ng-repeat="status in statusList" value="{{status.id}}">\r\n                                    {{status.name}}\r\n                                </md-option>\r\n                            </md-select>\r\n                        </md-input-container>\r\n                        <md-input-container class="md-block">\r\n                            <md-content>\r\n                                <div class="checkbox-grid" kendo-grid="userProjectsGrid" options="options" k-on-data-bound="dataBound()">\r\n                                </div>\r\n                            </md-content>\r\n                        </md-input-container>\r\n                    </div>\r\n                </md-tab>\r\n            </md-tabs>\r\n        </div>\r\n    </md-dialog-content>\r\n    <md-dialog-actions ng-cloak>\r\n        <md-button class="md-primary" ng-click="close()">Cancel</md-button>\r\n        <md-button class="md-primary" ng-click="save()">Save</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>\r\n\r\n<style parse-style>\r\n    .full-size {\r\n        min-height:{{style_height}}px !important;\r\n    }\r\n\r\n    .k-grid-content {\r\n        min-height:{{gridHeight - 60}}px;\r\n        max-height:{{gridHeight - 60}}px;\r\n</style>'),n.put("app/Vendor/Modals/AddVendor.html",'<md-dialog aria-label="addVendor" class="max-width-40 width-40">\r\n    <md-toolbar layout="row" layout-align="center center" ng-cloak>\r\n        Add Vendor\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak>\r\n        <form name="addVendorForm" id="addVendorForm">\r\n            <md-input-container class="md-block">\r\n                <label>Name</label>\r\n                <input name="name" ng-model="vendor.name" maxlength="50" aw-exists="{{anotherVendors}}" required>\r\n                <div ng-messages="addVendorForm.name.$error">\r\n                    <div ng-message="required">Vendor name is required</div>\r\n                    <div ng-message="maxlength">Only 100 characters are allowed</div>\r\n                    <div ng-message="exists">Vendor name already exists in that domain</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label>Territory</label>\r\n                <input name="territory" ng-model="vendor.territory" maxlength="50">\r\n                <div ng-messages="addVendorForm.territory.$error"></div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label>Hospitals</label>\r\n                <input name="hospitals" ng-model="vendor.hospitals" maxlength="50">\r\n                <div ng-messages="addVendorForm.hospitals.$error"></div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label>Comment</label>\r\n                <textarea ng-model="vendor.comment" name="comment" columns="1" md-maxlength="1000" rows="1"></textarea>\r\n                <div ng-messages="addVendorForm.comment.$error" role="alert">\r\n                    <div ng-message="md-maxlength" class="my-message">\r\n                        Only 1000 characters are allowed!\r\n                    </div>\r\n                </div>\r\n            </md-input-container>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row" ng-cloak>\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="add()">Add</md-button>\r\n        <md-button class="md-primary" ng-click="add(true)">Add and Close</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Projects/Addresses/Modals/AddEditAddress.html",'<md-dialog aria-label="add_address" ng-cloak>\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Add address to project\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloack class="md-inline-form">\r\n        <form name="addAddressForm" id="addAddressForm">\r\n            <md-input-container class="md-block">\r\n                <label>Nickname</label>\r\n                <input name="nickname" ng-model="address.nickname" required maxlength="20" aw-exists="{{anotherAddresses}}" property="nickname">\r\n                <div ng-messages="addAddressForm.nickname.$error">\r\n                    <div ng-message="required">Nickname is mandatory</div>\r\n                    <div ng-message="maxlength">Only 20 caracteres are allowed</div>\r\n                    <div ng-message="exists">Nickname already exists for this project</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label>Description</label>\r\n                <input name="description" ng-model="address.description" maxlength="100">\r\n                <div ng-messages="addAddressForm.description.$error">\r\n                    <div ng-message="maxlength">Only 100 caracteres are allowed</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label>Address 1</label>\r\n                <input name="address1" ng-model="address.address1" required maxlength="50">\r\n                <div ng-messages="addAddressForm.address1.$error">\r\n                    <div ng-message="required">Address 1 is mandatory</div>\r\n                    <div ng-message="maxlength">Only 50 caracteres are allowed</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label>Address 2</label>\r\n                <input name="address2" ng-model="address.address2" maxlength="50">\r\n                <div ng-messages="addAddressForm.address2.$error">\r\n                    <div ng-message="maxlength">Only 50 caracteres are allowed</div>\r\n                </div>\r\n            </md-input-container>\r\n            <section layout-gt-xs="row" layout-fill layout-align="space-between bottom" class="md-block">\r\n                <md-input-container class="md-block" flex-gt-xs="35">\r\n                    <label>City</label>\r\n                    <input name="city" ng-model="address.city" maxlength="25" required>\r\n                    <div ng-messages="addAddressForm.city.$error">\r\n                        <div ng-message="required">City is mandatory</div>\r\n                        <div ng-message="maxlength">Only 25 caracteres are allowed</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-xs="20">\r\n                    <label>State</label>\r\n                    <md-select name="state" ng-model="address.state" required>\r\n                        <md-option ng-repeat="state in statesList" value="{{state.id}}">\r\n                            {{state.abrv}}\r\n                        </md-option>\r\n                    </md-select>\r\n                    <div ng-messages="addAddressForm.state.$error">\r\n                        <div ng-message="required">State is mandatory</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-xs="35">\r\n                    <label>Zip</label>\r\n                    <input name="zip" ng-model="address.zip" maxlength="10" aw-only-numbers required>\r\n                    <div ng-messages="addAddressForm.zip.$error">\r\n                        <div ng-message="required">Zip is mandatory</div>\r\n                        <div ng-message="maxlength">Only 10 digits are allowed</div>\r\n                        <div ng-message="number">Only numbers are allowed</div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n            <md-checkbox ng-model="address.is_default" aria-label="default" style="margin: 0px; top: -20px">\r\n                Default\r\n            </md-checkbox>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="add()">{{saveButtonText}}</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Projects/Assets/Modals/AddModal.html",'<md-dialog aria-label="check_room" flex-gt-xs="90" class="all-screen">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        {{modalTitle}}\r\n    </md-toolbar>\r\n    <md-dialog-content>\r\n            <md-stepper id="stepper-add-asset"\r\n                        md-mobile-step-text="mobileStep"\r\n                        md-vertical="false"\r\n                        md-linear="true"\r\n                        md-alternative="true">\r\n                <div layout="row" layout-margin="" layout-align="center center" ng-if="isLink">\r\n                    Source asset:\r\n                    {{ sourceDescription }}\r\n                </div>\r\n                <md-step md-label="Assets">\r\n                    <md-step-body style="height:{{wizardData.style_height + 56}}px">\r\n                        <aw-available-assets-inventory-grid params="wizardData.params" height="wizardData.style_height" selecteds="wizardData.selectedAssets" project-action="wizardData.projectAction" selected-cost-field="wizardData.selected_costField" is-to-global-template="isToGlobalTemplate" is-relocate="wizardData.isRelocate" is-link="isLink" link-budget-qty="linkBudgetQty" is-template="isTemplate"></aw-available-assets-inventory-grid>\r\n                    </md-step-body>\r\n                </md-step>\r\n                <md-step md-label="Locations">\r\n                    <md-step-body style="height:{{wizardData.style_height + 56}}px">\r\n                        <aw-locations-grid height="wizardData.style_height-50" params="wizardData.params" selecteds="wizardData.selecteds" not-linked-only="true"></aw-locations-grid>\r\n                    </md-step-body>\r\n                </md-step>\r\n                <md-step md-label="Confirmation">\r\n                    <md-step-body>\r\n                        <section layout="column" layout-align="top center" class="gray-color" style="margin-bottom: 1em">\r\n                            <h4>Please click ADD to confirm {{confirmMessage}} to {{wizardData.params.room_id ? \'current room\' : \'following rooms:\'}}</h4>\r\n                            <p>{{wizardData.addingRooms}}</p>\r\n                        </section>\r\n                    </md-step-body>\r\n                </md-step>\r\n            </md-stepper>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n        <md-button class="md-primary" ng-click="close()">Cancel</md-button>\r\n        <md-button class="md-primary" ng-click="back()" ng-if="currentStep > 1">Back</md-button>\r\n        <md-button class="md-primary" ng-click="next()">{{currentStep === 3 ? \'Add\' : \'Next\'}}</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>\r\n\r\n\r\n<style parse-style>\r\n    #assets .k-grid-content {\r\n        max-height:{{style_height - 208;}}px; \r\n        min-height:{{style_height - 208;}}px;\r\n    }\r\n</style>\r\n'),n.put("app/Projects/Assets/Modals/checkRoomModal.html",'<md-dialog aria-label="check_room" ng-cloack flex-gt-sm="70" layout="column">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Check Asset Room\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding>\r\n        <div kendo-grid="roomsGrid" options={{options}}  k-on-data-bound="dataBound(roomsGrid)">\r\n        </div>\r\n    </md-dialog-content>\r\n    <md-dialog-actions>\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>\r\n\r\n<style parse-style>\r\n    .k-grid-content {\r\n        max-height:{{gridHeight - 120}}px;\r\n        min-height:{{gridHeight - 120}}px;\r\n    }\r\n</style> '),n.put("app/Projects/Assets/Modals/CompareAssets.html",'<md-dialog aria-label="addDomain" flex-gt-xs="65">\r\n    <md-toolbar layout="row" layout-align="center center" ng-cloak>\r\n        Compare Assets\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak>\r\n        <section class="md-inline-form">\r\n            <section layout="row">\r\n                <section layout="row" layout-align="start space-between" layout-wrap class="grid-toolbar" flex="90">\r\n                    <md-input-container class="md-block">\r\n                        <strong>Asset 1:</strong> {{asset1Content}}\r\n                    </md-input-container>\r\n                </section>\r\n                <section layout="row" layout-align="start space-between" layout-wrap class="grid-toolbar" flex="90">\r\n                    <md-input-container class="md-block">\r\n                        <strong>Asset 2:</strong> {{asset2Content}}\r\n                    </md-input-container>\r\n                </section>\r\n            </section>\r\n            <div kendo-grid="compareAssetsGrid" options="options" k-on-data-bound="dataBound(compareAssetsGrid)"></div>\r\n        </section>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row" layout-align="end" ng-cloak>\r\n        <section layout="row" layout-align="end" flex="50">\r\n            <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        </section>\r\n    </md-dialog-actions>\r\n</md-dialog>\r\n\r\n<style parse-style>\r\n    .k-grid-content {\r\n        max-height:{{gridHeight - 150}}px;\r\n        min-height:{{gridHeight - 150}}px;\r\n    }\r\n</style>'),n.put("app/Projects/Assets/Modals/ConnectAsset.html",'<md-dialog aria-label="check_room" flex-gt-sm="80" class="all-screen">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Connect Asset\r\n    </md-toolbar>\r\n    <md-dialog-content layout="column" ng-cloak style="padding-bottom: 0px">\r\n        <md-stepper id="stepper-connect-asset"\r\n                    md-mobile-step-text="mobileStep"\r\n                    md-vertical="false"\r\n                    md-linear="true"\r\n                    md-alternative="true">\r\n            <md-step md-label="Click on a row to select the target asset to connect">\r\n                <md-step-body style="height:{{wizardData.gridHeight+10}}px">\r\n                    <div kendo-grid="wizardData.assetsGrid" k-on-data-bound="dataBound(wizardData.assetsGrid)" options="wizardData.options" k-on-edit="edit(kendoEvent)">\r\n                    </div>\r\n                </md-step-body>\r\n            </md-step>\r\n            <md-step md-label="Confirmation">\r\n                <md-step-body>\r\n                    <section layout="column" layout-align="top center" class="gray-color" style="margin-bottom: 1em">\r\n                        <h4>{{assetIn.asset_description}} - {{assetIn.asset_code}} will be connected to {{assetOut.asset_description}} - {{assetOut.asset_code}}.</h4>\r\n                    </section>\r\n                </md-step-body>\r\n            </md-step>\r\n        </md-stepper>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n        <md-button class="md-primary" ng-click="cancel()">Cancel</md-button>\r\n        <md-button class="md-primary" ng-click="back()" ng-if="currentStep > 1">Back</md-button>\r\n        <md-button class="md-primary" ng-click="next()">{{currentStep == 1 ? \'Next\' : \'Connect\'}}</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>\r\n\r\n\x3c!--<style parse-style>\r\n    .k-grid-content {\r\n        max-height: {{options.height - 210}}px;\r\n        min-height: {{options.height - 210}}px;\r\n    }\r\n</style>--\x3e\r\n'),n.put("app/Projects/Assets/Modals/ConnectAssetConnTab.html",'<md-dialog aria-label="check_room" flex-gt-sm="80" class="all-screen">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Connect Asset2\r\n    </md-toolbar>\r\n    <md-dialog-content layout="column" ng-cloak style="padding-bottom: 0px">\r\n        <md-stepper id="stepper-connect-asset"\r\n                    md-mobile-step-text="mobileStep"\r\n                    md-vertical="false"\r\n                    md-linear="true"\r\n                    md-alternative="true">\r\n            <md-step md-label="Click on a row to select the source asset to connect">\r\n                <md-step-body style="height:{{wizardData.gridHeight+10}}px">\r\n                    <div kendo-grid="wizardData.assetsInGrid" k-on-data-bound="dataBound(wizardData.assetsInGrid)" options="wizardData.optionsIn" k-on-edit="edit(kendoEvent)">\r\n                    </div>\r\n                </md-step-body>\r\n            </md-step>\r\n            <md-step md-label="Click on a row to select the target asset to connect">\r\n                <md-step-body style="height:{{wizardData.gridHeight+10}}px">\r\n                    <div kendo-grid="wizardData.assetsGrid" k-on-data-bound="dataBound(wizardData.assetsGrid)" options="wizardData.options" k-on-edit="edit(kendoEvent)">\r\n                    </div>\r\n                </md-step-body>\r\n            </md-step>\r\n            <md-step md-label="Confirmation">\r\n                <md-step-body>\r\n                    <section layout="column" layout-align="top center" class="gray-color" style="margin-bottom: 1em">\r\n                        <h4>{{assetIn.asset_description}} - {{assetIn.asset_code}} will be connected to {{assetOut.asset_description}} - {{assetOut.asset_code}}.</h4>\r\n                    </section>\r\n                </md-step-body>\r\n            </md-step>\r\n        </md-stepper>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n        <md-button class="md-primary" ng-click="cancel()">Cancel</md-button>\r\n        <md-button class="md-primary" ng-click="back()" ng-if="currentStep > 1">Back</md-button>\r\n        <md-button class="md-primary" ng-click="next()">{{currentStep <3 ? \'Next\' : \'Connect\'}}</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>\r\n\r\n\x3c!--<style parse-style>\r\n    .k-grid-content {\r\n        max-height: {{options.height - 210}}px;\r\n        min-height: {{options.height - 210}}px;\r\n    }\r\n</style>--\x3e\r\n'),n.put("app/Projects/Assets/Modals/EditMulti.html",'<script type="text/javascript">\r\n    $(document).ready(function () {\r\n\r\n        $(\'.datepicker\').kendoMaskedTextBox({\r\n            mask: "99/99/9999"\r\n        });\r\n\r\n    });\r\n<\/script>\r\n\r\n<md-dialog aria-label="edit_multi" class="all-screen" flex-gt-sm="70" flex-xs="100" flex="80">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Edit Multiple Assets\r\n    </md-toolbar>\r\n    <md-dialog-content class="md-inline-form not-scrollable" ng-cloak>\r\n        <div flex class="tabs-wrapper">\r\n            <md-tabs class="full-size" md-border-bottom>\r\n                <md-tab label="Details" md-on-select="optionsTab = false">\r\n                    <section layout="column" layout-align="top center" ng-if="oneType">\r\n                        <h4>{{data.asset_description}}</h4>\r\n                    </section>\r\n                    <form name="editAssetForm" id="editAssetForm" ng-cloak class="padding-top padding-bottom">\r\n                        <section layout-gt-xs="row" layout-align="space-between start" style="margin-top: 2em;">\r\n                            <md-input-container class="md-block" flex-gt-xs="30">\r\n                                <label>CAD ID</label>\r\n                                <input name="cad_id" ng-model="data.cad_id">\r\n                                <md-checkbox ng-model="data.empty_cad_id" aria-label="empty" class="checkbox-input">\r\n                                    Empty\r\n                                </md-checkbox>\r\n                            </md-input-container>\r\n                            <md-input-container class="md-block" flex-gt-xs="30">\r\n                                <label>\r\n                                    Status\r\n                                    <md-tooltip>\r\n                                        Delivered = Delivered to the facility</br>\r\n                                        Received = Received at the warehouse\r\n                                    </md-tooltip>\r\n                                </label>\r\n                                <md-select ng-model="data.current_location" name="current_location">\r\n                                    <md-option ng-repeat="status in statusList" value="{{status.value}}">\r\n                                        {{status.name}}\r\n                                    </md-option>\r\n                                </md-select>\r\n                                <md-icon class="material-icons info-icon md-primary">\r\n                                    info\r\n                                </md-icon>\r\n                                <div ng-messages="editAssetForm.current_location.$error" role="alert"></div>\r\n                            </md-input-container>\r\n                            <section flex-gt-xs="30"\r\n                                     aw-combo-box\r\n                                     ng-model="data.resp"\r\n                                     name="resp"\r\n                                     controller-name="responsability"\r\n                                     params="controllerParams"\r\n                                     text-property="name"\r\n                                     id-property="name"\r\n                                     selected-id="data.resp"\r\n                                     no-domain-property\r\n                                     order-by="domain_id"\r\n                                     label="Responsibility"></section>\r\n                        </section>\r\n                        <section layout-gt-xs="row" layout-align="space-around start" ng-if="oneType">\r\n                            <md-input-container class="md-block" flex-gt-xs="30">\r\n                                <label>Asset code</label>\r\n                                <input name="asset_code" ng-model="data.asset_code" disabled>\r\n                            </md-input-container>\r\n                            <section layout="row" layout-align="space-between start" class="md-block lock-input-group" flex-gt-xs="65">\r\n                                <md-input-container class="md-block" flex="95">\r\n                                    <label>Description</label>\r\n                                    <input name="asset_description" ng-model="data.asset_description" ng-disabled="!data.asset_description_ow">\r\n                                </md-input-container>\r\n                                <md-icon class="material-icons" flex="5" ng-click="toggleLock(\'asset_description\')">\r\n                                    {{getLockIcon(\'asset_description\')}}\r\n                                    <md-tooltip>\r\n                                        {{getLockTooltip(\'asset_description\')}}\r\n                                    </md-tooltip>\r\n                                </md-icon>\r\n                            </section>\r\n                        </section>\r\n                        <section layout="row" layout-align="space-between center" class="lock-input-group">\r\n                            <md-input-container class="md-block" flex="40">\r\n                                <label>Manufacturer</label>\r\n                                <input name="asset_manufacturer" ng-model="data.manufacturer_description" ng-disabled="!data.manufacturer_description_ow">\r\n                            </md-input-container>\r\n                            <md-icon class="material-icons" flex="5" ng-click="toggleLock(\'manufacturer_description\')">\r\n                                {{getLockIcon(\'manufacturer_description\')}}\r\n                                <md-tooltip>\r\n                                    {{getLockTooltip(\'manufacturer_description\')}}\r\n                                </md-tooltip>\r\n                            </md-icon>\r\n                            <md-input-container class="md-block" flex="20">\r\n                                <label>Model Name</label>\r\n                                <input name="asset_serial_name" ng-model="data.serial_name" ng-disabled="!data.serial_name_ow">\r\n                            </md-input-container>\r\n                            <md-icon class="material-icons" flex="5" ng-click="toggleLock(\'serial_name\')">\r\n                                {{getLockIcon(\'serial_name\')}}\r\n                                <md-tooltip>\r\n                                    {{getLockTooltip(\'serial_name\')}}\r\n                                </md-tooltip>\r\n                            </md-icon>\r\n                            <md-input-container class="md-block" flex="20">\r\n                                <label>Model Number</label>\r\n                                <input name="asset_serial_number" ng-model="data.serial_number" ng-disabled="!data.serial_number_ow">\r\n                            </md-input-container>\r\n                            <md-icon class="material-icons" flex="5" ng-click="toggleLock(\'serial_number\')">\r\n                                {{getLockIcon(\'serial_number\')}}\r\n                                <md-tooltip>\r\n                                    {{getLockTooltip(\'serial_number\')}}\r\n                                </md-tooltip>\r\n                            </md-icon>\r\n                        </section>\r\n                        <section layout-gt-xs="row" layout-align="space-between start">\r\n                            <md-input-container flex="30">\r\n                                <label>Install Date</label>\r\n                                <md-datepicker name="install_date" ng-model="data.estimated_delivery_date" flex="100"></md-datepicker>\r\n                                <div ng-messages="editAssetForm.install_date.$error">\r\n                                    <div ng-message="valid">The entered value is not a date</div>\r\n                                </div>\r\n                            </md-input-container>\r\n                            <md-input-container flex="30" ng-if="(data.current_location == \'Received\' || data.current_location == \'Delivered\' || data.current_location == \'Completed\')">\r\n                                <label>Delivered Date</label>\r\n                                <md-datepicker name="delivered_date" ng-model="data.delivered_date" flex="100"></md-datepicker>\r\n                                <div ng-messages="editAssetForm.delivered_date.$error">\r\n                                    <div ng-message="valid">The entered value is not a date</div>\r\n                                </div>\r\n                            </md-input-container>\r\n                            <md-input-container flex="30" ng-if="(data.current_location == \'Received\' || data.current_location == \'Completed\')">\r\n                                <label>Received Date</label>\r\n                                <md-datepicker name="received_date" ng-model="data.received_date" flex="100"></md-datepicker>\r\n                                <div ng-messages="editAssetForm.received_date.$error">\r\n                                    <div ng-message="valid">The entered value is not a date</div>\r\n                                </div>\r\n                            </md-input-container>\r\n                        </section>\r\n                        <section layout-gt-xs="row" layout-align="space-between start">\r\n                            <section flex-gt-xs="30"\r\n                                     aw-combo-box\r\n                                     name="cost_center"\r\n                                     controller-name="costCenters"\r\n                                     params="ccControllerParams"\r\n                                     text-property="code"\r\n                                     text-property2="description"\r\n                                     text-property-separator="-"\r\n                                     id-property="id"\r\n                                     selected-id="data.cost_center_id"\r\n                                     label="Cost Center"></section>\r\n                            <md-input-container class="md-block" flex-gt-xs="10">\r\n                                <label>Override Budget</label>\r\n                                <input name="unit_budget" ng-model="data.unit_budget" aw-currency>\r\n                                <div ng-messages="editAssetForm.unit_budget.$error" role="alert">\r\n                                    <div ng-message="currency" class="my-message">\r\n                                        Override Budget must be currency\r\n                                    </div>\r\n                                </div>\r\n                            </md-input-container>\r\n                            <md-input-container class="md-block" flex-gt-xs="30">\r\n                                <label>Lead Time(Days)</label>\r\n                                <input name="lead_time" ng-model="data.lead_time" aw-only-numbers />\r\n                                <div ng-messages="editAssetForm.lead_time.$error" role="alert">\r\n                                    <div ng-message="number" class="my-message">\r\n                                        Only numbers are allowed\r\n                                    </div>\r\n                                </div>\r\n                            </md-input-container>\r\n                        </section>\r\n                        <section layout-gt-xs="row" layout-align="space-between center">\r\n                            <md-input-container class="md-block" flex-gt-xs="30">\r\n                                <label>Override Planned Qty</label>\r\n                                <input name="planned_qty" ng-model="data.budget_qty" aw-only-numbers ng-disabled="!canChangeBudgetQty()" />\r\n                                <div ng-messages="editAssetForm.planned_qty.$error" role="alert">\r\n                                    <div ng-message="number" class="my-message">\r\n                                        Only numbers are allowed\r\n                                    </div>\r\n                                </div>\r\n                            </md-input-container>\r\n                            <md-input-container class="md-block" flex-gt-xs="30">\r\n                                <label>Override Lease Qty</label>\r\n                                <input name="lease_qty" ng-model="data.lease_qty" aw-only-numbers />\r\n                                <div ng-messages="editAssetForm.lease_qty.$error" role="alert">\r\n                                    <div ng-message="number" class="my-message">\r\n                                        Only numbers are allowed\r\n                                    </div>\r\n                                </div>\r\n                            </md-input-container>\r\n                            <md-input-container class="md-block label-info-icon" flex-gt-xs="30">\r\n                                <label>\r\n                                    Override DNP Qty\r\n                                    <md-icon class="material-icons info-icon md-primary">\r\n                                        info\r\n                                        <md-tooltip>\r\n                                            DNP refers to Do Not Purchase Assets or Deferred assets. This quantity will not be accounted for in the budget.\r\n                                        </md-tooltip>\r\n                                    </md-icon>\r\n                                </label>\r\n                                <input name="dnp_qty" ng-model="data.dnp_qty" aw-only-numbers />\r\n                                <div ng-messages="editAssetForm.dnp_qty.$error" role="alert">\r\n                                    <div ng-message="number">Only numbers are allowed</div>\r\n                                </div>\r\n                            </md-input-container>\r\n                        </section>\r\n                        <section layout-gt-xs="row" layout-align="space-between start">\r\n\r\n                            \x3c!--<md-input-container class="md-block" flex-gt-xs="20">\r\n            <label>ECN</label>\r\n            <input name="ecn" ng-model="data.ecn" maxlength="20" />\r\n        </md-input-container>--\x3e\r\n                            <md-input-container class="md-block" flex-gt-xs="30">\r\n                                <label>Placement</label>\r\n                                <md-select name="placement" ng-model="data.placement" ng-disabled="!data.placement_ow">\r\n                                    <md-option ng-repeat="placement in placementList" ng-value="placement.value">\r\n                                        {{placement.name}}\r\n                                    </md-option>\r\n                                </md-select>\r\n                                <md-icon class="material-icons" flex="5" ng-click="toggleLock(\'placement\')">\r\n                                    {{getLockIcon(\'placement\')}}\r\n                                    <md-tooltip>\r\n                                        {{getLockTooltip(\'placement\')}}\r\n                                    </md-tooltip>\r\n                                </md-icon>\r\n                            </md-input-container>\r\n                            <md-input-container class="md-block" flex-gt-xs="30">\r\n                                <aw-autocomplete ng-model="selectedTemporaryLocation"\r\n                                                 name="temporary_location"\r\n                                                 add-option="true"\r\n                                                 controller-name="temporaryLocation"\r\n                                                 params="projectControllerParams"\r\n                                                 selected-item="selectedTemporaryLocation"\r\n                                                 id-property="name"\r\n                                                 label="Temporary Location *"\r\n                                                 max="100" check-not-selected></aw-autocomplete>\r\n                                <div ng-messages="editAssetForm.temporary_location.$error">\r\n                                    <div ng-message="autocomplete-not-selected">Keep the field empty, choose an option or add a new one</div>\r\n                                </div>\r\n                            </md-input-container>\r\n                            <md-input-container class="md-block" flex-gt-xs="30">\r\n                                <aw-autocomplete ng-model="selectedFinalDisposition"\r\n                                                 name="final_disposition"\r\n                                                 add-option="true"\r\n                                                 controller-name="finalDisposition"\r\n                                                 params="projectControllerParams"\r\n                                                 selected-item="selectedFinalDisposition"\r\n                                                 id-property="name"\r\n                                                 label="Final Disposition"\r\n                                                 max="100" check-not-selected></aw-autocomplete>\r\n                                <div ng-messages="editAssetForm.final_disposition.$error">\r\n                                    <div ng-message="autocomplete-not-selected">Keep the field empty, choose an option or add a new one</div>\r\n                                </div>\r\n                            </md-input-container>\r\n                            <md-input-container class="md-block" flex-gt-xs="25">\r\n                                <md-checkbox ng-model="data.biomed_check_required" aria-label="Biomed Check Required" style="margin-top: 7px;">\r\n                                    Biomed Check Required\r\n                                </md-checkbox>\r\n                            </md-input-container>\r\n                        </section>\r\n                        <md-input-container class="md-block" flex-gt-xs="100">\r\n                            <label>Comment</label>\r\n                            <textarea ng-model="data.comment" name="comment" columns="1" md-maxlength="1000" rows="1"></textarea>\r\n                            <div ng-messages="!editAssetForm.comment.$valid && editAssetForm.comment.$error" role="alert">\r\n                                <div ng-message="md-maxlength" class="my-message">\r\n                                    Only 1000 characters are allowed!\r\n                                </div>\r\n                            </div>\r\n                        </md-input-container>\r\n                        <md-chips ng-model="data.tags"\r\n                                  placeholder="+tag"\r\n                                  secondary-placeholder="Add a tag and press Enter"></md-chips>\r\n                    </form>\r\n                </md-tab>\r\n                <md-tab label="Options" md-on-select="optionsTab = true">\r\n                    <section layout="column" layout-align="top center" ng-if="oneType && !multipleProfiles">\r\n                        <h4>{{data.asset_description}}</h4>\r\n                    </section>\r\n                    <section ng-show="!oneType" layout="column" layout-align="top center" class="gray-color" style="margin-bottom: 1em">\r\n                        <h4>Options editing is not available when selecting assets of different types</h4>\r\n                    </section>\r\n                    <section ng-show="oneType" class="padding-top">\r\n                        <section ng-if="multipleProfiles" layout="column" layout-align="top center" class="gray-color" style="margin-bottom: 1em">\r\n                            <h4 style="margin-bottom: 5px;">The assets you selected have different options profile.</h4>\r\n                            <h4 style="margin-top: 0px; margin-bottom: 5px;">You can only edit options if the assets have the same profile.</h4>\r\n                            <h4 style="margin: 0px;">Please use the drop down menu to select a profile to be applied to all the selected assets.</h4>\r\n                        </section>\r\n                        <section layout="row" layout-align="end center" flex="100" class="grid-toolbar" ng-if="!addOp">\r\n                            <md-checkbox class="no-top-margin" ng-model="data.detailed_budget" aria-label="detailed budget" ng-change="toggleDetailedBudget()">\r\n                                Detailed budget\r\n                            </md-checkbox>\r\n                            <md-icon class="material-icons info-icon md-primary">\r\n                                info\r\n                                <md-tooltip>\r\n                                    Values entered for options will be added to the Asset Unit Budget.\r\n                                </md-tooltip>\r\n                            </md-icon>\r\n                        </section>\r\n                        <section layout="row" ng-cloak ng-show="!addOp" class="grid-toolbar">\r\n                            <section layout="row" layout-align="start center" class="gray-color">\r\n                                <button class="md-icon-button md-button" ng-click="toggleAddOption()" ng-disabled="data.none_option || multipleProfiles">\r\n                                    <i class="material-icons">add</i><div class="md-ripple-container"></div>\r\n                                    <md-tooltip md-direction="bottom">Add Option(s)</md-tooltip>\r\n                                </button>\r\n                                <button class="md-icon-button md-button" ng-click="deleteOptions()" ng-disabled="data.none_option || multipleProfiles">\r\n                                    <i class="material-icons">delete</i>\r\n                                    <md-tooltip md-direction="bottom">Delete Option(s)</md-tooltip>\r\n                                </button>\r\n                                <md-input-container class="md-block" flex="100" style="margin: 0px;">\r\n                                    <label>Profile</label>\r\n                                    <md-select ng-model="selectedProfile" name="profile" ng-change="changeProfile()">\r\n                                        <md-optgroup label="Project">\r\n                                            <md-option ng-repeat="profile in profiles" ng-value="profile">\r\n                                                {{profile.profile}}\r\n                                            </md-option>\r\n                                        </md-optgroup>\r\n                                        <md-optgroup label="Global">\r\n                                            <md-option ng-repeat="profile in globalProfiles" ng-value="profile">\r\n                                                {{profile.profile_text}}\r\n                                            </md-option>\r\n                                        </md-optgroup>\r\n                                    </md-select>\r\n                                </md-input-container>\r\n                            </section>\r\n                            <section layout="row" layout-align="end center" flex="100">\r\n                                <md-checkbox class="no-vertical-margin" ng-model="data.none_option" aria-label="options none">\r\n                                    Disable options for this entry\r\n                                </md-checkbox>\r\n                                <md-icon class="material-icons info-icon md-primary">\r\n                                    info\r\n                                    <md-tooltip>\r\n                                        This selection acknowledges there are no options selected for the asset and the “pending” status for options selection will be removed in the asset grid.\r\n                                    </md-tooltip>\r\n                                </md-icon>\r\n                            </section>\r\n                        </section>\r\n                        <div ng-show="!addOp && !data.none_option" class="checkbox-grid" kendo-grid="optionsGrid" k-on-data-bound="dataBound(optionsGrid)" options="oneType ? options : {}">\r\n                        </div>\r\n                        <aw-add-option ng-if="addOp"\r\n                                       asset-info="assetInfo"\r\n                                       ctrl="newOptionCtrl"\r\n                                       added-options="optionsAdded"\r\n                                       is-inventory="true"\r\n                                       option="optionToEdit">\r\n                        </aw-add-option>\r\n                    </section>\r\n                </md-tab>\r\n                <md-tab label="Budget">\r\n                    <form name="editBudgetForm" id="editBudgetForm" ng-cloak class="padding-top padding-bottom">\r\n                        <section layout-gt-xs="row" layout-align="space-between center">\r\n                            <md-input-container class="md-block" flex-gt-xs="30">\r\n                                <label>Unit Markup %</label>\r\n                                <input name="unit_markup" ng-model="data.unit_markup" aw-currency>\r\n                                <div ng-messages="editBudgetForm.unit_markup.$error" role="alert">\r\n                                    <div ng-message="currency" class="my-message">\r\n                                        Unit Markup must be currency\r\n                                    </div>\r\n                                </div>\r\n                            </md-input-container>\r\n                            <md-input-container class="md-block" flex-gt-xs="30">\r\n                                <label>Unit Freight (Net)</label>\r\n                                <input name="unit_freight_net" ng-model="data.unit_freight_net" aw-currency aw-currency-model>\r\n                                <div ng-messages="editBudgetForm.unit_freight_net.$error" role="alert">\r\n                                    <div ng-message="currency" class="my-message">\r\n                                        Unit Freight (Net) must be currency\r\n                                    </div>\r\n                                </div>\r\n                            </md-input-container>\r\n                            <md-input-container class="md-block" flex-gt-xs="30">\r\n                                <label>Unit Freight Markup (%)</label>\r\n                                <input name="unit_freight_markup" ng-model="data.unit_freight_markup" aw-currency>\r\n                                <div ng-messages="editBudgetForm.unit_freight_markup.$error" role="alert">\r\n                                    <div ng-message="currency" class="my-message">\r\n                                        Unit Freight Markup (%) must be currency\r\n                                    </div>\r\n                                </div>\r\n                            </md-input-container>\r\n                        </section>\r\n                        <section layout-gt-xs="row" layout-align="space-between center">\r\n                            <md-input-container class="md-block" flex-gt-xs="30">\r\n                                <label>Unit Escalation %</label>\r\n                                <input name="unit_escalation" ng-model="data.unit_escalation" aw-currency>\r\n                                <div ng-messages="editBudgetForm.unit_escalation.$error" role="alert">\r\n                                    <div ng-message="currency" class="my-message">\r\n                                        Unit Escalation must be currency\r\n                                    </div>\r\n                                </div>\r\n                            </md-input-container>\r\n                            <md-input-container class="md-block" flex-gt-xs="30">\r\n                                <label>Unit Install (Net)</label>\r\n                                <input name="unit_install_net" ng-model="data.unit_install_net" aw-currency aw-currency-model>\r\n                                <div ng-messages="editBudgetForm.unit_install_net.$error" role="alert">\r\n                                    <div ng-message="currency" class="my-message">\r\n                                        Unit Install (Net) must be currency\r\n                                    </div>\r\n                                </div>\r\n                            </md-input-container>\r\n                            <md-input-container class="md-block" flex-gt-xs="30">\r\n                                <label>Unit Install Markup (%)</label>\r\n                                <input name="unit_install_markup" ng-model="data.unit_install_markup" aw-currency>\r\n                                <div ng-messages="editBudgetForm.unit_install_markup.$error" role="alert">\r\n                                    <div ng-message="currency" class="my-message">\r\n                                        Unit Install Markup % must be currency\r\n                                    </div>\r\n                                </div>\r\n                            </md-input-container>\r\n                        </section>\r\n                        <section layout-gt-xs="row" layout-align="space-between start">\r\n                            <md-input-container class="md-block" flex-gt-xs="30">\r\n                                <label>Unit Tax %</label>\r\n                                <input name="unit_tax" ng-model="data.unit_tax" aw-currency>\r\n                                <div ng-messages="editBudgetForm.unit_tax.$error" role="alert">\r\n                                    <div ng-message="currency" class="my-message">\r\n                                        Unit Tax must be currency\r\n                                    </div>\r\n                                </div>\r\n                            </md-input-container>\r\n                        </section>\r\n                    </form>\r\n                </md-tab>\r\n                <md-tab label="Government" md-on-select="selectGovernmentTab()">\r\n                    <section layout-gt-xs="row" layout-align="space-between start">\r\n                        <md-input-container class="md-block" flex-gt-xs="40">\r\n                            <label>CLIN</label>\r\n                            <input name="clin" ng-model="data.clin" maxlength="50" />\r\n                        </md-input-container>\r\n                        <md-input-container class="md-block" flex-gt-xs="40">\r\n                            <label>Class</label>\r\n                            <md-select name="class" ng-model="data.class" ng-disabled="!data.class_ow">\r\n                                <md-option ng-repeat="c in classes" ng-value="c.id">\r\n                                    {{c.name}}\r\n                                </md-option>\r\n                            </md-select>\r\n                            <md-icon class="material-icons" flex="5" ng-click="toggleLock(\'class\')">\r\n                                {{getLockIcon(\'class\')}}\r\n                                <md-tooltip>\r\n                                    {{getLockTooltip(\'class\')}}\r\n                                </md-tooltip>\r\n                            </md-icon>\r\n                        </md-input-container>\r\n\r\n                    </section>\r\n                    <aw-jsn-form asset="jsn_asset" inventory-editing="{{true}}"> </aw-jsn-form>\r\n                </md-tab>\r\n            </md-tabs>\r\n        </div>\r\n    </md-dialog-content>    \r\n        <md-dialog-actions ng-cloak>\r\n            <md-content>\r\n                <b><FONT COLOR="red">IMPORTANT:</FONT></b> Editing and saving in this dialog will update every individual asset with the specified value(s).\r\n            </md-content>\r\n            <md-button class="md-primary" ng-click="addOp && optionsTab ? toggleAddOption() : close()">Cancel</md-button>\r\n            <md-button ng-show="!addOp || (addOp && oneType && optionsTab)" class="md-primary" ng-click="addOp && optionsTab ? addNewOptionToGrid() : save()">{{addOp && optionsTab ?  (optionToEdit ? \'Edit Option\' : \'Add Options\') : \'Save\'}}</md-button>\r\n        </md-dialog-actions>\r\n</md-dialog>\r\n\r\n\r\n<style parse-style>\r\n    .tabs-wrapper {\r\n        position: relative;\r\n    }\r\n\r\n    .full-size {\r\n        min-height:{{style_height}}px !important;\r\n    }\r\n\r\n    .full-size .md-tab {\r\n        width: 150px;\r\n    }\r\n</style>\r\n'),n.put("app/Projects/Assets/Modals/EditProfile.html",'<script type="text/javascript">\r\n    $(document).ready(function () {\r\n\r\n        $(\'.datepicker\').kendoMaskedTextBox({\r\n            mask: "99/99/9999"\r\n        });\r\n\r\n    });\r\n<\/script>\r\n\r\n<md-dialog aria-label="edit_single" class="all-screen width-60 max-width-60">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Edit Profile\r\n    </md-toolbar>\r\n    <md-dialog-content layout="column" class="md-inline-form" ng-cloak>\r\n        <div flex class="tabs-wrapper">\r\n            <md-tabs class="full-size" md-border-bottom>\r\n                <md-tab id="teste" label="Options" md-on-select="optionsTab = true">\r\n                    <md-content style="overflow-x:hidden; overflow-y:hidden">\r\n                        <section layout="column" layout-align="top center">\r\n                            <h4>{{data.asset_description}}</h4>\r\n                        </section>\r\n                        <section layout="row" class="grid-toolbar no-top-margin">\r\n                            <section ng-cloak layout="column" flex="50" layout-align="none start" ng-show="addOp && data.detailed_budget">\r\n                                <md-input-container class="md-block" style="margin: 0px">\r\n                                    <label>Asset Default Cost</label>\r\n                                    <md-select ng-model="selected_costField">\r\n                                        <md-option ng-repeat="cost in costField" value="{{cost.value}}">\r\n                                            {{cost.name}}\r\n                                        </md-option>\r\n                                    </md-select>\r\n                                </md-input-container>\r\n                            </section>\r\n                            <section layout="row" class="no-vertical-margin" layout-align="end center" flex="{{addOp && data.detailed_budget ? 50 : 100}}">\r\n                                <md-checkbox ng-model="data.detailed_budget" aria-label="detailed budget" ng-change="toggleDetailedBudget()">\r\n                                    Detailed budget\r\n                                </md-checkbox>\r\n                                <md-icon class="material-icons info-icon md-primary">\r\n                                    info\r\n                                    <md-tooltip>\r\n                                        Values entered for options will be added to the Asset Unit Budget.\r\n                                    </md-tooltip>\r\n                                </md-icon>\r\n                            </section>\r\n                        </section>\r\n                        <section layout="row" ng-cloak ng-show="!addOp" class="grid-toolbar">\r\n                            <section layout="row" layout-align="start center" class="gray-color">\r\n                                <button class="md-icon-button md-button" ng-click="toggleAddOption()" ng-disabled="data.none_option || noOptionsAvailable">\r\n                                    <i class="material-icons">add</i><div class="md-ripple-container"></div>\r\n                                    <md-tooltip md-direction="bottom">Add Option</md-tooltip>\r\n                                </button>\r\n                                <button class="md-icon-button md-button" ng-click="deleteOptions()" ng-disabled="data.none_option || noOptionsAvailable">\r\n                                    <i class="material-icons">delete</i>\r\n                                    <md-tooltip md-direction="bottom">Delete Option(s)</md-tooltip>\r\n                                </button>\r\n                                <md-input-container class="md-block" flex="100" style="margin: 0px;">\r\n                                    <label>Profile</label>\r\n                                    <md-select ng-model="selectedProfile" name="profile" ng-change="changeProfile()">\r\n                                        <md-optgroup label="Project">\r\n                                            <md-option ng-repeat="profile in profiles" ng-value="profile">\r\n                                                {{profile.profile}}\r\n                                            </md-option>\r\n                                        </md-optgroup>\r\n                                        <md-optgroup label="Global">\r\n                                            <md-option ng-repeat="profile in globalProfiles" ng-value="profile">\r\n                                                {{profile.profile_text}}\r\n                                            </md-option>\r\n                                        </md-optgroup>\r\n                                    </md-select>\r\n                                </md-input-container>\r\n                            </section>\r\n                            <section layout="row" layout-align="end center" flex="100">\r\n                                <md-checkbox class="no-vertical-margin" ng-model="data.none_option" aria-label="options none">\r\n                                    Disable options for this entry\r\n                                </md-checkbox>\r\n                                <md-icon class="material-icons info-icon md-primary">\r\n                                    info\r\n                                    <md-tooltip>\r\n                                        This selection acknowledges there are no options selected for the asset and the “pending” status for options selection will be removed in the asset grid.\r\n                                    </md-tooltip>\r\n                                </md-icon>\r\n                            </section>\r\n                        </section>\r\n                        <div ng-show="!data.none_option" class="checkbox-grid" kendo-grid="optionsGrid" k-on-data-bound="dataBound(optionsGrid)" options="options">\r\n                        </div>\r\n                    </md-content>\r\n                </md-tab>\r\n            </md-tabs>\r\n        </div>\r\n    </md-dialog-content>\r\n    <md-dialog-actions ng-cloak>\r\n        <md-button class="md-primary" ng-click="addOp && optionsTab ? toggleAddOption() : close()">Cancel</md-button>\r\n        <md-button ng-show="!addOp || (addOp && optionsTab && !noOptionsAvailable)" class="md-primary" ng-click="addOp && optionsTab && !noOptionsAvailable ? addOptions() : save()">{{addOp && optionsTab && !noOptionsAvailable ? \'Add Options\' : \'Save\'}}</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>\r\n\r\n\r\n\r\n\r\n<style parse-style>\r\n    .full-size .md-tab {\r\n        width: 120px;\r\n    }\r\n\r\n    .tabs-wrapper {\r\n        position: relative;\r\n    }\r\n\r\n    .full-size {\r\n        min-height:{{style_height}}px !important;\r\n    }\r\n\r\n    .k-grid-content {\r\n        min-height:{{grid_height - 150}}px;\r\n        max-height:{{grid_height - 150}}px;\r\n    }\r\n</style>'),n.put("app/Projects/Assets/Modals/EditSingle.html",'<script type="text/javascript">\r\n    $(document).ready(function () {\r\n\r\n        $(\'.datepicker\').kendoMaskedTextBox({\r\n            mask: "99/99/9999"\r\n        });\r\n\r\n    });\r\n<\/script>\r\n\r\n<md-dialog aria-label="edit_single" class="all-screen width-70 max-width-70">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Edit Asset\r\n    </md-toolbar>\r\n    <md-dialog-content layout="column" class="md-inline-form" ng-cloak>\r\n        <div flex class="tabs-wrapper">\r\n            <md-tabs class="full-size" md-border-bottom>\r\n                <md-tab label="Details" md-on-select="selectDetailsTab()">\r\n                    <section layout="column" layout-align="top center">\r\n                        <h4>{{data.asset_description}}</h4>\r\n                    </section>\r\n                    <form name="editAssetForm" id="editAssetForm" ng-cloak class="padding-top padding-bottom">\r\n                        <section layout="row" layout-align="space-between center">\r\n                            <section flex="65" layout="column">\r\n                                <section layout="row" layout-align="space-between center">\r\n                                    <md-input-container class="md-block" flex="45">\r\n                                        <label>Asset code</label>\r\n                                        <input name="asset_code" ng-model="data.asset_code" disabled>\r\n                                    </md-input-container>\r\n                                    <md-input-container class="md-block" flex="45">\r\n                                        <label>CAD ID</label>\r\n                                        <input name="cad_id" ng-model="data.cad_id">\r\n                                    </md-input-container>\r\n                                </section>\r\n                                <section layout="row" layout-align="space-between center" class="lock-input-group">\r\n                                    <md-input-container class="md-block" flex="95">\r\n                                        <label>Description</label>\r\n                                        <input name="asset_description" ng-model="data.asset_description" ng-disabled="!data.asset_description_ow">\r\n                                    </md-input-container>\r\n                                    <md-icon class="material-icons" flex="5" ng-click="toggleLock(\'asset_description\')">\r\n                                        {{getLockIcon(\'asset_description\')}}\r\n                                        <md-tooltip>\r\n                                            {{getLockTooltip(\'asset_description\')}}\r\n                                        </md-tooltip>\r\n                                    </md-icon>\r\n                                </section>\r\n                                <section layout="row" layout-align="space-between center" class="lock-input-group">\r\n                                    <md-input-container class="md-block" flex="40">\r\n                                        <label>Manufacturer</label>\r\n                                        <input name="asset_manufacturer" ng-model="data.manufacturer_description" ng-disabled="!data.manufacturer_description_ow">\r\n                                    </md-input-container>\r\n                                    <md-icon class="material-icons" flex="5" ng-click="toggleLock(\'manufacturer_description\')">\r\n                                        {{getLockIcon(\'manufacturer_description\')}}\r\n                                        <md-tooltip>\r\n                                            {{getLockTooltip(\'manufacturer_description\')}}\r\n                                        </md-tooltip>\r\n                                    </md-icon>\r\n                                    <md-input-container class="md-block" flex="20">\r\n                                        <label>Model Name</label>\r\n                                        <input name="asset_serial_name" ng-model="data.serial_name" ng-disabled="!data.serial_name_ow">\r\n                                    </md-input-container>\r\n                                    <md-icon class="material-icons" flex="5" ng-click="toggleLock(\'serial_name\')">\r\n                                        {{getLockIcon(\'serial_name\')}}\r\n                                        <md-tooltip>\r\n                                            {{getLockTooltip(\'serial_name\')}}\r\n                                        </md-tooltip>\r\n                                    </md-icon>\r\n                                    <md-input-container class="md-block" flex="20">\r\n                                        <label>Model Number</label>\r\n                                        <input name="asset_serial_number" ng-model="data.serial_number" ng-disabled="!data.serial_number_ow">\r\n                                    </md-input-container>\r\n                                    <md-icon class="material-icons" flex="5" ng-click="toggleLock(\'serial_number\')">\r\n                                        {{getLockIcon(\'serial_number\')}}\r\n                                        <md-tooltip>\r\n                                            {{getLockTooltip(\'serial_number\')}}\r\n                                        </md-tooltip>\r\n                                    </md-icon>\r\n                                </section>\r\n                                <section layout="row" layout-align="space-between center">\r\n                                    <md-input-container class="md-block" flex="45">\r\n                                        <label>\r\n                                            Status\r\n                                            <md-tooltip>\r\n                                                Delivered = Delivered to the facility</br>\r\n                                                Received = Received at the warehouse\r\n                                            </md-tooltip>\r\n                                        </label>\r\n                                        <md-select ng-model="data.current_location">\r\n                                            <md-option ng-repeat="status in statusList" value="{{status.value}}">\r\n                                                {{status.name}}\r\n                                            </md-option>\r\n                                        </md-select>\r\n                                        <md-icon class="material-icons info-icon md-primary">\r\n                                            info\r\n                                        </md-icon>\r\n                                    </md-input-container>\r\n                                    <section flex="45"\r\n                                             aw-combo-box\r\n                                             ng-model="data.resp"\r\n                                             name="resp"\r\n                                             form="editAssetForm"\r\n                                             controller-name="responsability"\r\n                                             params="controllerParams"\r\n                                             order-by="domain_id"\r\n                                             text-property="name"\r\n                                             id-property="name"\r\n                                             selected-id="data.resp"\r\n                                             no-domain-property\r\n                                             label="Responsibility"></section>\r\n                                </section>\r\n\r\n                            </section>\r\n\r\n                            <section flex="30">\r\n                                <section layout="row" layout-align="center center">\r\n                                    <img ng-src="{{image}}" style="width:150px" title="no picture" ng-style="{\'transform\': \'rotate({{data.photo_rotate * 90}}deg)\'}">\r\n                                </section>\r\n                            </section>\r\n                        </section>\r\n\r\n                        <section layout="row" layout-align="space-between center">\r\n                            <md-input-container flex-gt-xs="30" ng-if="(data.current_location == \'Received\' || data.current_location == \'Delivered\' || data.current_location == \'Completed\')">\r\n                                <label>Delivered Date</label>\r\n                                <md-datepicker name="delivered_date" ng-model="data.delivered_date"></md-datepicker>\r\n                                <div ng-messages="editAssetForm.delivered_date.$error">\r\n                                    <div ng-message="valid">The entered value is not a date</div>\r\n                                </div>\r\n                            </md-input-container>\r\n                            <md-input-container flex-gt-xs="30" ng-if="(data.current_location == \'Received\' || data.current_location == \'Completed\')">\r\n                                <label>Received Date</label>\r\n                                <md-datepicker name="received_date" ng-model="data.received_date"></md-datepicker>\r\n                                <div ng-messages="editAssetForm.received_date.$error">\r\n                                    <div ng-message="valid">The entered value is not a date</div>\r\n                                </div>\r\n                            </md-input-container>\r\n                            <md-input-container class="md-block" flex-gt-xs="30">\r\n                            </md-input-container>\r\n                        </section>\r\n\r\n                        <section layout="row" layout-align="space-between center">\r\n                            <md-input-container flex-gt-xs="30">\r\n                                <label>Install Date</label>\r\n                                <md-datepicker name="install_date" ng-model="data.estimated_delivery_date"></md-datepicker>\r\n                                <div ng-messages="editAssetForm.install_date.$error">\r\n                                    <div ng-message="valid">The entered value is not a date</div>\r\n                                </div>\r\n                            </md-input-container>\r\n                            <md-input-container class="md-block" flex-gt-xs="30">\r\n                                <label>Lead Time(Days)</label>\r\n                                <input name="lead_time" ng-model="data.lead_time" aw-only-numbers />\r\n                                <div ng-messages="editAssetForm.lead_time.$error" role="alert">\r\n                                    <div ng-message="number" class="my-message">\r\n                                        Only numbers are allowed\r\n                                    </div>\r\n                                </div>\r\n                            </md-input-container>\r\n                            <md-input-container class="md-block" flex-gt-xs="30">\r\n                            </md-input-container>\r\n                        </section>\r\n                        <section layout-gt-xs="row" layout-align="space-between center">\r\n                            <md-input-container class="md-block" flex-gt-xs="30">\r\n                                <label>Planned Qty</label>\r\n                                <input name="planned_qty"\r\n                                       ng-model="data.budget_qty"\r\n                                       aw-only-numbers ng-readonly="!canChangeBudgetQty()"\r\n                                       ng-change="changeQty()"\r\n                                       autocomplete="off" />\r\n                                <div ng-messages="editAssetForm.planned_qty.$error" role="alert">\r\n                                    <div ng-message="number" class="my-message">\r\n                                        Only numbers are allowed\r\n                                    </div>\r\n                                </div>\r\n                            </md-input-container>\r\n                            <md-input-container class="md-block" flex-gt-xs="30">\r\n                                <label>Lease Qty</label>\r\n                                <input name="lease_qty" ng-model="data.lease_qty" aw-only-numbers autocomplete="off" />\r\n                                <div ng-messages="editAssetForm.lease_qty.$error" role="alert">\r\n                                    <div ng-message="number" class="my-message">\r\n                                        Only numbers are allowed\r\n                                    </div>\r\n                                </div>\r\n                            </md-input-container>\r\n                            <md-input-container class="md-block label-info-icon" flex-gt-xs="30">\r\n                                <label>\r\n                                    DNP Qty\r\n                                    <md-icon class="material-icons info-icon md-primary">\r\n                                        info\r\n                                        <md-tooltip>\r\n                                            DNP refers to Do Not Purchase Assets or Deferred assets. This quantity will not be accounted for in the budget.\r\n                                        </md-tooltip>\r\n                                    </md-icon>\r\n                                </label>\r\n                                <input name="dnp_qty"\r\n                                       ng-model="data.dnp_qty"\r\n                                       aw-only-numbers aw-less-than="{{data.budget_qty - data.lease_qty}}"\r\n                                       allow-equal="true"\r\n                                       autocomplete="off" />\r\n                                <div ng-messages="editAssetForm.dnp_qty.$error" role="alert">\r\n                                    <div ng-message="number">Only numbers are allowed</div>\r\n                                    <div ng-message="less-than">DNP Qty cannot be greater than planned qty - po qty</div>\r\n                                </div>\r\n                            </md-input-container>\r\n                        </section>\r\n                        <section layout-gt-xs="row" layout-align="space-between start">\r\n                            <section flex-gt-xs="{{data.detailed_budget ? 30: 45}}"\r\n                                     aw-combo-box\r\n                                     name="cost_center"\r\n                                     controller-name="costCenters"\r\n                                     params="ccControllerParams"\r\n                                     text-property="code"\r\n                                     text-property2="description"\r\n                                     text-property-separator="-"\r\n                                     id-property="id"\r\n                                     selected-id="data.cost_center_id"\r\n                                     no-domain-property\r\n                                     label="Cost Center"></section>\r\n                            <md-input-container class="md-block" flex-gt-xs="{{data.detailed_budget ? 30: 45}}">\r\n                                <label>Unit Budget(Net) $</label>\r\n                                <input name="unit_budget" ng-model="data.unit_budget" aw-currency aw-currency-model>\r\n                                <div ng-messages="editAssetForm.unit_budget.$error" role="alert">\r\n                                    <div ng-message="currency" class="my-message">\r\n                                        Unit Budget must be currency\r\n                                    </div>\r\n                                </div>\r\n                            </md-input-container>\r\n                            \x3c!--<md-input-container class="md-block" flex-gt-xs="20">\r\n                                <label>Unit Budget (Adjusted)</label>\r\n                                <input name="unit_budget_adjusted" ng-model="data.unit_budget_adjusted" aw-currency aw-currency-model ng-disabled="true">\r\n                            </md-input-container>\r\n                            <md-input-container class="md-block" flex-gt-xs="20">\r\n                                <label>Unit Budget</label>\r\n                                <input name="unit_budget_total" ng-model="data.unit_budget_total" aw-currency aw-currency-model ng-disabled="true">\r\n                            </md-input-container>--\x3e\r\n                            <md-input-container class="md-block label-info-icon" flex-gt-xs="30" ng-if="data.detailed_budget">\r\n                                <label>\r\n                                    Unit + Options Budget $\r\n                                    <md-icon class="material-icons info-icon md-primary">\r\n                                        info\r\n                                        <md-tooltip>\r\n                                            This is a calculated budget totaling the Asset Unit Budget and the values entered for the asset options.\r\n                                        </md-tooltip>\r\n                                    </md-icon>\r\n                                </label>\r\n                                <input name="unit_budget_options" ng-model="data.total_unit_budget" aw-currency-model disabled>\r\n                            </md-input-container>\r\n                        </section>\r\n                        <section layout-gt-xs="row" layout-align="space-between start">\r\n                            <md-input-container class="md-block" flex-gt-xs="35">\r\n                                <label>Placement</label>\r\n                                <md-select name="placement" ng-model="data.placement" ng-disabled="!data.placement_ow">\r\n                                    <md-option ng-repeat="placement in placementList" ng-value="placement.value">\r\n                                        {{placement.name}}\r\n                                    </md-option>\r\n                                </md-select>\r\n                                <md-icon class="material-icons" flex="5" ng-click="toggleLock(\'placement\')">\r\n                                    {{getLockIcon(\'placement\')}}\r\n                                    <md-tooltip>\r\n                                        {{getLockTooltip(\'placement\')}}\r\n                                    </md-tooltip>\r\n                                </md-icon>\r\n                            </md-input-container>\r\n                            <md-input-container class="md-block" flex-gt-xs="35">\r\n                                <aw-autocomplete ng-model="selectedTemporaryLocation"\r\n                                                 name="temporary_location"\r\n                                                 add-option="true"\r\n                                                 controller-name="temporaryLocation"\r\n                                                 params="projectControllerParams"\r\n                                                 selected-item="selectedTemporaryLocation"\r\n                                                 id-property="name"\r\n                                                 label="Temporary Location"\r\n                                                 max="100" check-not-selected></aw-autocomplete>\r\n                                <div ng-messages="editAssetForm.temporary_location.$error">\r\n                                    <div ng-message="autocomplete-not-selected">Keep the field empty, choose an option or add a new one</div>\r\n                                </div>\r\n                            </md-input-container>\r\n                            <md-input-container class="md-block" flex-gt-xs="35">\r\n                                <aw-autocomplete ng-model="selectedFinalDisposition"\r\n                                                 name="final_disposition"\r\n                                                 add-option="true"\r\n                                                 controller-name="finalDisposition"\r\n                                                 params="projectControllerParams"\r\n                                                 selected-item="selectedFinalDisposition"\r\n                                                 id-property="name"\r\n                                                 label="Final Disposition"\r\n                                                 max="100" check-not-selected></aw-autocomplete>\r\n                                <div ng-messages="editAssetForm.final_disposition.$error">\r\n                                    <div ng-message="autocomplete-not-selected">Keep the field empty, choose an option or add a new one</div>\r\n                                </div>\r\n                            </md-input-container>\r\n                            <md-input-container class="md-block" flex-gt-xs="25">\r\n                                <md-checkbox ng-model="data.biomed_check_required" aria-label="Biomed Check Required" style="margin-top: 7px;">\r\n                                    Biomed Check Required\r\n                                </md-checkbox>\r\n                            </md-input-container>\r\n                        </section>\r\n                        <md-input-container class="md-block" flex-gt-xs="100">\r\n                            <label>Comment</label>\r\n                            <textarea ng-model="data.comment" name="comment" md-maxlength="1000" rows="1"></textarea>\r\n                            <div ng-messages="!editAssetForm.comment.$valid && editAssetForm.comment.$error" role="alert">\r\n                                <div ng-message="md-maxlength" class="my-message">\r\n                                    Only 1000 characters are allowed!\r\n                                </div>\r\n                            </div>\r\n                        </md-input-container>\r\n                        <md-chips ng-model="data.tags"\r\n                                  placeholder="+tag"\r\n                                  secondary-placeholder="Add a tag and press Enter"></md-chips>\r\n                    </form>\r\n                </md-tab>\r\n                <md-tab label="Options" md-on-select="optionsTab = true">\r\n                    <md-content style="overflow-x:hidden; overflow-y:hidden">\r\n                        <section layout="column" layout-align="top center">\r\n                            <h4>{{data.asset_description}}</h4>\r\n                        </section>\r\n                        <section layout="row" class="grid-toolbar no-top-margin" ng-if="!addOp">\r\n                            <section ng-cloak layout="column" flex="50" layout-align="none start" ng-show="addOp && data.detailed_budget">\r\n                                <md-input-container class="md-block" style="margin: 0px">\r\n                                    <label>Asset Default Cost</label>\r\n                                    <md-select ng-model="selected_costField">\r\n                                        <md-option ng-repeat="cost in costField" ng-value="cost.value">\r\n                                            {{cost.name}}\r\n                                        </md-option>\r\n                                    </md-select>\r\n                                </md-input-container>\r\n                            </section>\r\n                            <section layout="row" class="no-vertical-margin" layout-align="end center" flex="{{addOp && data.detailed_budget ? 50 : 100}}">\r\n                                <md-checkbox ng-model="data.detailed_budget" aria-label="detailed budget" ng-change="toggleDetailedBudget()">\r\n                                    Detailed budget\r\n                                </md-checkbox>\r\n                                <md-icon class="material-icons info-icon md-primary">\r\n                                    info\r\n                                    <md-tooltip>\r\n                                        Values entered for options will be added to the Asset Unit Budget.\r\n                                    </md-tooltip>\r\n                                </md-icon>\r\n                            </section>\r\n                        </section>\r\n\r\n                        <section layout="row" ng-cloak class="grid-toolbar" ng-show="!addOp">\r\n                            <section layout="row" layout-align="space-between center" class="gray-color" flex="50">\r\n                                <button class="md-icon-button md-button" ng-click="toggleAddOption()" ng-disabled="data.none_option">\r\n                                    <i class="material-icons">add</i><div class="md-ripple-container"></div>\r\n                                    <md-tooltip md-direction="bottom">Add Option(s)</md-tooltip>\r\n                                </button>\r\n                                <button class="md-icon-button md-button" ng-click="toggleEditOption()" ng-disabled="data.none_option">\r\n                                    <i class="material-icons">edit</i><div class="md-ripple-container"></div>\r\n                                    <md-tooltip md-direction="bottom">Edit Option</md-tooltip>\r\n                                </button>\r\n                                <button class="md-icon-button md-button" ng-click="deleteOptions()" ng-disabled="data.none_option">\r\n                                    <i class="material-icons">delete</i>\r\n                                    <md-tooltip md-direction="bottom">Delete Option(s)</md-tooltip>\r\n                                </button>\r\n                                <md-input-container class="md-block" flex="100" style="margin: 0px;">\r\n                                    <label>Profile</label>\r\n                                    <md-select ng-model="selectedProfile" name="profile" ng-change="changeProfile()">\r\n                                        <md-optgroup label="Project">\r\n                                            <md-option ng-repeat="profile in profiles" ng-value="profile">\r\n                                                {{profile.profile}}\r\n                                            </md-option>\r\n                                        </md-optgroup>\r\n                                        <md-optgroup label="Global">\r\n                                            <md-option ng-repeat="profile in globalProfiles" ng-value="profile">\r\n                                                {{profile.profile_text}}\r\n                                            </md-option>\r\n                                        </md-optgroup>\r\n                                    </md-select>\r\n                                </md-input-container>\r\n                            </section>\r\n                            <section layout="row" layout-align="end center" flex="100">\r\n                                <md-checkbox class="no-vertical-margin" ng-model="data.none_option" aria-label="options none">\r\n                                    Disable options for this entry\r\n                                </md-checkbox>\r\n                                <md-icon class="material-icons info-icon md-primary">\r\n                                    info\r\n                                    <md-tooltip>\r\n                                        This selection acknowledges there are no options selected for the asset and the “pending” status for options selection will be removed in the asset grid.\r\n                                    </md-tooltip>\r\n                                </md-icon>\r\n                            </section>\r\n                        </section>\r\n                        <div ng-show="!addOp && !data.none_option" class="checkbox-grid" kendo-grid="optionsGrid" k-on-data-bound="dataBound(optionsGrid)" options="options">\r\n                        </div>\r\n                        <aw-add-option ng-if="addOp"\r\n                                       asset-info="assetInfo"\r\n                                       ctrl="newOptionCtrl"\r\n                                       added-options="optionsAdded"\r\n                                       is-inventory="true"\r\n                                       option="optionToEdit">\r\n                        </aw-add-option>\r\n                    </md-content>\r\n                </md-tab>\r\n                <md-tab label="Budget" md-on-select="selectBudgetTab()">\r\n                    <form name="editBudgetForm" id="editBudgetForm" ng-cloak class="padding-top padding-bottom">\r\n                        <aw-accordion label="Budget" expanded="true">\r\n                            <section layout-gt-xs="row" layout-align="space-between center">\r\n                                <md-input-container class="md-block label-info-icon" flex-gt-xs="30">\r\n                                    <label>\r\n                                        Unit Budget(Net) $\r\n                                        <md-icon class="material-icons info-icon md-primary">info<md-tooltip>Unit Budget (Net) + Options Budget</md-tooltip></md-icon>\r\n                                    </label>\r\n                                    <input name="total_unit_budget" ng-model="data.total_unit_budget" aw-currency aw-currency-model ng-disabled="true" style="border:0">\r\n                                </md-input-container>\r\n                                <md-input-container class="md-block label-info-icon" flex-gt-xs="30">\r\n                                    <label>\r\n                                        Unit Budget (Adjusted)\r\n                                        <md-icon class="material-icons info-icon md-primary">info<md-tooltip>Unit Budget (Net) + Unit Markup ($) + Unit Escalation ($)</md-tooltip></md-icon>\r\n                                    </label>\r\n                                    <input name="unit_budget_adjusted" ng-model="data.unit_budget_adjusted" aw-currency aw-currency-model ng-disabled="true" style="border:0">\r\n                                </md-input-container>\r\n                                <md-input-container class="md-block label-info-icon" flex-gt-xs="30">\r\n                                    <label>\r\n                                        Unit Budget\r\n                                        <md-icon class="material-icons info-icon md-primary">info<md-tooltip>Unit Budget (Adjusted) + Unit Freight + Unit Install + Unit Tax ($</md-tooltip></md-icon>\r\n                                    </label>\r\n                                    <input name="unit_budget_total" ng-model="data.unit_budget_total" aw-currency aw-currency-model ng-disabled="true" style="border:0">\r\n                                </md-input-container>\r\n                            </section>\r\n                            <section layout-gt-xs="row" layout-align="space-between center">\r\n                                <md-input-container class="md-block" flex-gt-xs="15">\r\n                                    <label>Unit Markup %</label>\r\n                                    <input name="unit_markup" ng-model="data.unit_markup" aw-currency ng-change="calculateBudgets()">\r\n                                    <div ng-messages="editBudgetForm.unit_markup.$error" role="alert">\r\n                                        <div ng-message="currency" class="my-message">\r\n                                            Unit Markup must be currency\r\n                                        </div>\r\n                                    </div>\r\n                                </md-input-container>\r\n                                <md-input-container class="md-block label-info-icon" flex-gt-xs="20">\r\n                                    <label>\r\n                                        Unit Markup $\r\n                                        <md-icon class="material-icons info-icon md-primary">info<md-tooltip>Unit Markup (%) * Unit Budget (Net)</md-tooltip></md-icon>\r\n                                    </label>\r\n                                    <input name="unit_markup_calc" ng-model="data.unit_markup_calc" aw-currency aw-currency-model ng-disabled="true" style="border:0">\r\n                                </md-input-container>\r\n                                <md-input-container class="md-block" flex-gt-xs="15">\r\n                                    <label>Unit Freight (Net)</label>\r\n                                    <input name="unit_freight_net" ng-model="data.unit_freight_net" aw-currency aw-currency-model ng-change="calculateBudgets()">\r\n                                    <div ng-messages="editBudgetForm.unit_freight_net.$error" role="alert">\r\n                                        <div ng-message="currency" class="my-message">\r\n                                            Unit Freight (Net) must be currency\r\n                                        </div>\r\n                                    </div>\r\n                                </md-input-container>\r\n                                <md-input-container class="md-block" flex-gt-xs="20">\r\n                                    <label>Unit Freight Markup (%)</label>\r\n                                    <input name="unit_freight_markup" ng-model="data.unit_freight_markup" aw-currency ng-change="calculateBudgets()">\r\n                                    <div ng-messages="editBudgetForm.unit_freight_markup.$error" role="alert">\r\n                                        <div ng-message="currency" class="my-message">\r\n                                            Unit Freight Markup (%) must be currency\r\n                                        </div>\r\n                                    </div>\r\n                                </md-input-container>\r\n                                <md-input-container class="md-block label-info-icon" flex-gt-xs="15">\r\n                                    <label>\r\n                                        Unit Freight\r\n                                        <md-icon class="material-icons info-icon md-primary">info<md-tooltip>Unit Freight (Net) * [1 + Unit Freight Markup (%)]</md-tooltip></md-icon>\r\n                                    </label>\r\n                                    <input name="unit_freight" ng-model="data.unit_freight" aw-currency aw-currency-model ng-disabled="true" style="border:0">\r\n                                </md-input-container>\r\n                            </section>\r\n                            <section layout-gt-xs="row" layout-align="space-between center">\r\n                                <md-input-container class="md-block" flex-gt-xs="15">\r\n                                    <label>Unit Escalation %</label>\r\n                                    <input name="unit_escalation" ng-model="data.unit_escalation" aw-currency ng-change="calculateBudgets()">\r\n                                    <div ng-messages="editBudgetForm.unit_escalation.$error" role="alert">\r\n                                        <div ng-message="currency" class="my-message">\r\n                                            Unit Escalation must be currency\r\n                                        </div>\r\n                                    </div>\r\n                                </md-input-container>\r\n                                <md-input-container class="md-block label-info-icon" flex-gt-xs="20">\r\n                                    <label>\r\n                                        Unit Escalation $\r\n                                        <md-icon class="material-icons info-icon md-primary">info<md-tooltip>Unit Escalation (%) * Unit Budget (Net)</md-tooltip></md-icon>\r\n                                    </label>\r\n                                    <input name="unit_escalation_calc" ng-model="data.unit_escalation_calc" aw-currency aw-currency-model ng-disabled="true" style="border:0">\r\n                                </md-input-container>\r\n                                <md-input-container class="md-block" flex-gt-xs="15">\r\n                                    <label>Unit Install (Net)</label>\r\n                                    <input name="unit_install_net" ng-model="data.unit_install_net" aw-currency aw-currency-model ng-change="calculateBudgets()">\r\n                                    <div ng-messages="editBudgetForm.unit_install_net.$error" role="alert">\r\n                                        <div ng-message="currency" class="my-message">\r\n                                            Unit Install (Net) must be currency\r\n                                        </div>\r\n                                    </div>\r\n                                </md-input-container>\r\n                                <md-input-container class="md-block" flex-gt-xs="20">\r\n                                    <label>Unit Install Markup (%)</label>\r\n                                    <input name="unit_install_markup" ng-model="data.unit_install_markup" aw-currency ng-change="calculateBudgets()">\r\n                                    <div ng-messages="editBudgetForm.unit_install_markup.$error" role="alert">\r\n                                        <div ng-message="currency" class="my-message">\r\n                                            Unit Install Markup % must be currency\r\n                                        </div>\r\n                                    </div>\r\n                                </md-input-container>\r\n                                <md-input-container class="md-block label-info-icon" flex-gt-xs="15">\r\n                                    <label>\r\n                                        Unit Install\r\n                                        <md-icon class="material-icons info-icon md-primary">info<md-tooltip>Unit Install (Net) * [1 + Unit Install Markup (%)]</md-tooltip></md-icon>\r\n                                    </label>\r\n                                    <input name="unit_install" ng-model="data.unit_install" aw-currency aw-currency-model ng-disabled="true" style="border:0">\r\n                                </md-input-container>\r\n                            </section>\r\n                            <section layout-gt-xs="row" layout-align="space-between center">\r\n                                <md-input-container class="md-block" flex-gt-xs="15">\r\n                                    <label>Unit Tax %</label>\r\n                                    <input name="unit_tax" ng-model="data.unit_tax" aw-currency ng-change="calculateBudgets()">\r\n                                    <div ng-messages="editBudgetForm.unit_tax.$error" role="alert">\r\n                                        <div ng-message="currency" class="my-message">\r\n                                            Unit Tax must be currency\r\n                                        </div>\r\n                                    </div>\r\n                                </md-input-container>\r\n                                <md-input-container class="md-block label-info-icon" flex-gt-xs="20">\r\n                                    <label>\r\n                                        Unit Tax $\r\n                                        <md-icon class="material-icons info-icon md-primary">info<md-tooltip>Unit Tax (%) * Unit Budget (Adjusted)</md-tooltip></md-icon>\r\n                                    </label>\r\n                                    <input name="unit_tax_calc" ng-model="data.unit_tax_calc" aw-currency aw-currency-model ng-disabled="true" style="border:0">\r\n                                </md-input-container>\r\n                                <md-input-container class="md-block label-info-icon" flex-gt-xs="15" ng-show="data.detailed_budget">\r\n                                    <label>\r\n                                        Options $\r\n                                        <md-icon class="material-icons info-icon md-primary">info<md-tooltip>Options</md-tooltip></md-icon>\r\n                                    </label>\r\n                                    <input name="options" ng-model="data.options" aw-currency aw-currency-model ng-disabled="true" style="border:0">\r\n                                </md-input-container>\r\n                                <md-input-container class="md-block" flex-gt-xs="{{data.detailed_budget ? 40: 55}}">\r\n                                </md-input-container>\r\n                            </section>\r\n                        </aw-accordion>\r\n                        <aw-accordion label="Totals (units x quantities)">\r\n                            <section layout-gt-xs="row" layout-align="space-between center" style="padding-top:10px">\r\n                                <md-input-container class="md-block label-info-icon" flex-gt-xs="25">\r\n                                    <label>\r\n                                        Total Budget (Adjusted)\r\n                                        <md-icon class="material-icons info-icon md-primary">info<md-tooltip>Unit Budget (Adjusted) * Net New</md-tooltip></md-icon>\r\n                                    </label>\r\n                                    <input name="total_budget_adjusted" ng-model="data.total_budget_adjusted" aw-currency aw-currency-model ng-disabled="true" style="border:0">\r\n                                </md-input-container>\r\n                                <md-input-container class="md-block label-info-icon" flex-gt-xs="20">\r\n                                    <label>\r\n                                        Total Tax ($)\r\n                                        <md-icon class="material-icons info-icon md-primary">info<md-tooltip>Unit Tax ($) * Net New</md-tooltip></md-icon>\r\n                                    </label>\r\n                                    <input name="total_tax" ng-model="data.total_tax" aw-currency aw-currency-model ng-disabled="true" style="border:0">\r\n                                </md-input-container>\r\n                                <md-input-container class="md-block label-info-icon" flex-gt-xs="20">\r\n                                    <label>\r\n                                        Total Install (Net)\r\n                                        <md-icon class="material-icons info-icon md-primary">info<md-tooltip>Unit Install (Net) * Net New</md-tooltip></md-icon>\r\n                                    </label>\r\n                                    <input name="total_install_net" ng-model="data.total_install_net" aw-currency aw-currency-model ng-disabled="true" style="border:0">\r\n\r\n                                </md-input-container>\r\n                                <md-input-container class="md-block label-info-icon" flex-gt-xs="20">\r\n                                    <label>\r\n                                        Total Install\r\n                                        <md-icon class="material-icons info-icon md-primary">info<md-tooltip>Unit Install * Net New</md-tooltip></md-icon>\r\n                                    </label>\r\n                                    <input name="total_install" ng-model="data.total_install" aw-currency aw-currency-model ng-disabled="true" style="border:0">\r\n                                </md-input-container>\r\n                            </section>\r\n                            <section layout-gt-xs="row" layout-align="space-between center">\r\n                                <md-input-container class="md-block label-info-icon" flex-gt-xs="25">\r\n                                    <label>\r\n                                        Total Freight (Net)\r\n                                        <md-icon class="material-icons info-icon md-primary">info<md-tooltip>Unit Freight (Net) * New New</md-tooltip></md-icon>\r\n                                    </label>\r\n                                    <input name="total_freight_net" ng-model="data.total_freight_net" aw-currency aw-currency-model ng-disabled="true" style="border:0">\r\n                                </md-input-container>\r\n                                <md-input-container class="md-block label-info-icon" flex-gt-xs="20">\r\n                                    <label>\r\n                                        Total Freight\r\n                                        <md-icon class="material-icons info-icon md-primary">info<md-tooltip>Unit Freight * Net New</md-tooltip></md-icon>\r\n                                    </label>\r\n                                    <input name="total_freight" ng-model="data.total_freight" aw-currency aw-currency-model ng-disabled="true" style="border:0">\r\n                                </md-input-container>\r\n                                <md-input-container class="md-block label-info-icon" flex-gt-xs="20">\r\n                                    <label>\r\n                                        Total Budget (Net)\r\n                                        <md-icon class="material-icons info-icon md-primary">info<md-tooltip>Unit Budget (Net) * Net New</md-tooltip></md-icon>\r\n                                    </label>\r\n                                    <input name="total_budget_amt" ng-model="data.total_budget_amt" aw-currency aw-currency-model ng-disabled="true" style="border:0">\r\n                                </md-input-container>\r\n                                <md-input-container class="md-block label-info-icon" flex-gt-xs="20">\r\n                                    <label>\r\n                                        Total Budget\r\n                                        <md-icon class="material-icons info-icon md-primary">info<md-tooltip>Total Freight + Total Install + Total Tax + Total Budget (Adjusted)</md-tooltip></md-icon>\r\n                                    </label>\r\n                                    <input name="total_budget" ng-model="data.total_budget" aw-currency aw-currency-model ng-disabled="true" style="border:0">\r\n                                </md-input-container>\r\n                            </section>\r\n                        </aw-accordion>\r\n                        \r\n                        <aw-accordion label="Budget Copilot" ng-click="showHideBudgetCopilot()">\r\n                        </aw-accordion>\r\n                        <div ng-model="showBudgetCoPilot" ng-show="showBudgetCopilot">\r\n                            <section layout="row" class="grid-toolbar" ng-show="!replace" layout-align="space-between center">\r\n                                <section flex="30" flex-order="1">\r\n                                    <md-input-container class="md-block" style="margin-bottom: 0px;">\r\n                                        <label>Source Project</label>\r\n                                        <md-select ng-model="sourceProject" ng-change="projectOptionChanged()">\r\n                                            <md-optgroup label="All Projects" name="All_Projects">\r\n                                                <md-option ng-value="0">\r\n                                                    All Projects\r\n                                                </md-option>\r\n                                            </md-optgroup>\r\n                                            <md-optgroup label="Favorite Projects" name="Favorite_Projects">\r\n                                                <md-option ng-repeat="op in favProjectOptions" ng-value="op.project_id">\r\n                                                    {{op.name}}\r\n                                                </md-option>\r\n                                            </md-optgroup>\r\n                                            <md-optgroup label="Projects">\r\n                                                <md-option ng-repeat="op in projectOptions" ng-value="op.project_id">\r\n                                                    {{op.name}}\r\n                                                </md-option>\r\n                                            </md-optgroup>\r\n                                        </md-select>\r\n                                    </md-input-container>\r\n                                </section>\r\n                                <section flex="35" flex-order="2" layout="row">\r\n                                    <md-input-container class="md-block no-md-errors-spacer" style="margin-bottom: 0px;" flex="100" flex-gt-sm="80">\r\n                                        <label>Search</label>\r\n                                        <input name="search" ng-model="searchBoxValue" ng-enter="searchAssets(searchBoxValue)">\r\n                                    </md-input-container>\r\n                                    <button class="md-icon-button md-button gray-color" style="bottom: -1.2em; padding-left: 0px; margin-left: 0px" ng-click="clearAllFilters()">\r\n                                        <i class="material-icons">delete_sweep</i><div class="md-ripple-container"></div>\r\n                                        <md-tooltip md-direction="bottom">Clear all filters</md-tooltip>\r\n                                    </button>\r\n                                </section>\r\n                                <section flex="15" flex-order="3">\r\n                                    <md-input-container class="md-block" style="margin-bottom: 0px;" flex="80">\r\n                                        <label>Select a period</label>\r\n                                        <md-select ng-model="monthPeriod" ng-change="searchAssets()">\r\n                                            <md-option ng-value="1">Last month</md-option>\r\n                                            <md-option ng-value="6">Last 6 months</md-option>\r\n                                            <md-option ng-value="12" selected>Last year</md-option>\r\n                                            <md-option ng-value="24">Last 2 years</md-option>\r\n                                            <md-option ng-value="36">Last 3 years</md-option>\r\n                                        </md-select>\r\n                                    </md-input-container>\r\n                                </section>\r\n                            </section>\r\n                            <div>\r\n                                <md-input-container layout-gt-xs="row" class="md-block">\r\n                                    <label>\r\n                                        <strong>Source Assets:</strong>\r\n                                    </label>\r\n                                </md-input-container>\r\n                                <section layout-gt-xs="row" ng-cloak class="md-inline-form padding-top">\r\n                                    <div kendo-grid="sourceAssetsGrid" options="sourceOptions" k-on-data-bound="sourceDataBound(sourceAssetsGrid)" style="height: 100%; width:100%"></div>\r\n                                </section>\r\n                                <md-input-container layout-gt-xs="row" class="md-block">\r\n                                    <label>\r\n                                        <strong>Budget Options:</strong>\r\n                                    </label>\r\n                                </md-input-container>\r\n                                <section layout="row" ng-cloak class="md-inline-form padding-bottom padding-top level-below-grid">\r\n                                    <div kendo-grid="budgetOptionsGrid" options="budgetOptions" k-on-data-bound="budgetDataBound(budgetOptionsGrid)" style="height: 100%; width:100%"></div>\r\n                                </section>\r\n                            </div>               \r\n                        </div>\r\n                        </aw-accordion>\r\n                    </form>\r\n                </md-tab>\r\n                <md-tab label="Government" md-on-select="selectGovernmentTab()">\r\n                    <section layout-gt-xs="row" layout-align="space-between start">\r\n                        <md-input-container class="md-block" flex-gt-xs="30">\r\n                            <label>CLIN</label>\r\n                            <input name="clin" ng-model="data.clin" maxlength="50" />\r\n                        </md-input-container>\r\n                        <md-input-container class="md-block" flex-gt-xs="30">\r\n                            <label>ECN</label>\r\n                            <input name="ecn" ng-model="data.ecn" maxlength="20" />\r\n                        </md-input-container>\r\n                        <md-input-container class="md-block" flex-gt-xs="30">\r\n                            <label>Class</label>\r\n                            <md-select name="class" ng-model="data.class" ng-disabled="!data.class_ow">\r\n                                <md-option ng-repeat="c in classes" ng-value="c.id">\r\n                                    {{c.name}}\r\n                                </md-option>\r\n                            </md-select>\r\n                            <md-icon class="material-icons" flex="5" ng-click="toggleLock(\'class\')">\r\n                                {{getLockIcon(\'class\')}}\r\n                                <md-tooltip>\r\n                                    {{getLockTooltip(\'class\')}}\r\n                                </md-tooltip>\r\n                            </md-icon>\r\n                        </md-input-container>\r\n                    </section>\r\n                    <aw-jsn-form asset="jsn_asset" inventory-editing="{{true}}"> </aw-jsn-form>\r\n                </md-tab>\r\n                <md-tab label="Documents" md-on-select="selectDocumentsTab()">\r\n                    \x3c!-- The Modal --\x3e\r\n                    <section layout="column" ng-if="showZoomPicture && !editPhotosMode" ng-cloak class="md-inline-form padding-top padding-bottom-half">\r\n                        <div ng-model="myModal" class="modal">\r\n                            <span class="close" ng-click="closeZoomPicture()">&times;</span>\r\n                            <img class="modal-content" ng-src="{{selectedImg}}">\r\n                        </div>\r\n                    </section>\r\n\r\n                    <section layout="column" ng-cloak class="md-inline-form padding-top padding-bottom-half">\r\n                        <section layout="row" layout-align="start start" class="no-space" ng-if="!editPhotosMode && !showZoomPicture">\r\n                            <button class="md-icon-button md-button" ng-click="toggleEditPicturesMode()">\r\n                                <i class="material-icons">add</i><div class="md-ripple-container"></div>\r\n                                <md-tooltip md-direction="bottom">Add more file(s)</md-tooltip>\r\n                            </button>\r\n                            <button class="md-icon-button md-button" ng-click="deleteDocuments()">\r\n                                <i class="material-icons">delete</i><div class="md-ripple-container"></div>\r\n                                <md-tooltip md-direction="bottom">Delete photo(s)</md-tooltip>\r\n                            </button>\r\n                            <button class="md-icon-button md-button" ng-click="setAsTagPhoto()">\r\n                                <i class="material-icons">label</i><div class="md-ripple-container"></div>\r\n                                <md-tooltip md-direction="bottom">Set image as Tag Photo</md-tooltip>\r\n                            </button>\r\n                            <button class="md-icon-button md-button" ng-click="setAsAssetPhoto()">\r\n                                <i class="material-icons">insert_photo</i><div class="md-ripple-container"></div>\r\n                                <md-tooltip md-direction="bottom">Set image as Asset Photo</md-tooltip>\r\n                            </button>\r\n                            <button class="md-icon-button md-button" ng-click="rotatePhoto(-1)">\r\n                                <i class="material-icons">rotate_left</i><div class="md-ripple-container"></div>\r\n                                <md-tooltip md-direction="bottom">Rotate Left</md-tooltip>\r\n                            </button>\r\n                            <button class="md-icon-button md-button" ng-click="rotatePhoto(1)">\r\n                                <i class="material-icons">rotate_right</i><div class="md-ripple-container"></div>\r\n                                <md-tooltip md-direction="bottom">Rotate Right</md-tooltip>\r\n                            </button>\r\n                        </section>\r\n                        <section layout="row" layout-align="space-around center" ng-if="editPhotosMode && !showZoomPicture">\r\n                            <h4>Add file(s) mode</h4>\r\n                        </section>\r\n                        <aw-accordion label="Images" expanded="true" ng-if="!editPhotosMode && !showZoomPicture">\r\n                            <section ng-repeat="photos in photosFileMatrix" layout="row" layout-align="start start" class="inventory-pictures">\r\n                                <section ng-repeat="photo in photos track by $index" class="edit-asset-pictures-row">\r\n                                    <section layout="row" layout-align="start center">\r\n                                        <md-checkbox ng-model="photo.isChecked" aria-label="check_photo"></md-checkbox>\r\n                                    </section>\r\n                                    <section class="boxshadow-edit-asset">\r\n                                        <img id="{{photo.id}}" src="{{photo.file}}" alt="photo" ng-click="zoomPicture(photo.file)" class="pictureWithZoom" ng-style="{\'transform\': \'rotate({{photo.rotate * 90}}deg)\'}">\r\n                                    </section>\r\n                                    <section layout="row" layout-align="start center" class="association-type-icon">\r\n                                        <button class="md-icon-button md-button" ng-if="photo.isTagPhoto">\r\n                                            <i class="material-icons">label</i><div class="md-ripple-container"></div>\r\n                                            <md-tooltip md-direction="bottom">Tag Photo</md-tooltip>\r\n                                        </button>\r\n                                        <button class="md-icon-button md-button" ng-if="photo.isAssetPhoto">\r\n                                            <i class="material-icons">insert_photo</i><div class="md-ripple-container"></div>\r\n                                            <md-tooltip md-direction="bottom">Asset Photo</md-tooltip>\r\n                                        </button>\r\n                                    </section>\r\n                                </section>\r\n                            </section>\r\n                        </aw-accordion>\r\n                        <aw-accordion label="Artwork" expanded="true" ng-if="!editPhotosMode && !showZoomPicture">\r\n                            <section ng-repeat="photos in artworkFileMatrix" layout="row" layout-align="start start" class="inventory-pictures">\r\n                                <section ng-repeat="photo in photos track by $index" class="edit-asset-pictures-row">\r\n                                    <section layout="row" layout-align="start center">\r\n                                        <md-checkbox ng-model="photo.isChecked" aria-label="check_photo"></md-checkbox>\r\n                                    </section>\r\n                                    <section class="boxshadow-edit-asset">\r\n                                        <img id="{{photo.id}}" src="{{photo.file}}" alt="photo" ng-click="zoomPicture(photo.file)" class="pictureWithZoom">\r\n                                    </section>\r\n                                </section>\r\n                            </section>\r\n                        </aw-accordion>\r\n                        <section ng-show="editPhotosMode" layout="row" layout-align="space-around center">\r\n                            <form name="uploadForm" id="uploadForm" layout="column" layout-align="space-between none" flex="80" novalidate>\r\n                                <section layout-gt-sm="row" layout-align="space-between start" ng-repeat="imgDt in imgData">\r\n                                    <md-input-container class="md-block" flex-gt-sm="30">\r\n                                        <label for="{{\'type\' + imgDt.idx}}">Type</label>\r\n                                        <md-select name="{{\'type\' + imgDt.idx}}" ng-model="imgDt.type" aria-label="type" required>\r\n                                            <md-option value="4">Image</md-option>\r\n                                            <md-option value="6">Asset Photo</md-option>\r\n                                            <md-option value="7">Tag Photo</md-option>\r\n                                            <md-option value="8">Artwork</md-option>\r\n                                        </md-select>\r\n                                    </md-input-container>\r\n                                    <md-input-container class="md-block" flex-gt-sm="30">\r\n                                        <label for="{{\'label\' + imgDt.idx}}">Label</label>\r\n                                        <input name="{{\'label\' + imgDt.idx}}" ng-model="imgDt.label" maxlength="10" ng-required="imgDt.type === 8">\r\n                                    </md-input-container>\r\n                                    <md-input-container class="md-block" flex-gt-sm="30" ng-if="!show_firefox">\r\n                                        <label for="{{\'file\' + imgDt.idx}}">Picture (jpg)</label>\r\n                                        <input name="{{\'file\' + imgDt.idx}}" id="{{\'file\' + imgDt.idx}}" ngf-select ng-value="imgDt.file.picture.name" ng-model="imgDt.file.picture" accept="image/jpeg" aw-upload-file-size="fileSizeLimit" required />\r\n                                    </md-input-container>\r\n                                    \x3c!--<section ng-show="show_firefox">--\x3e\r\n                                    <md-input-container class="md-block" ng-if="show_firefox">\r\n                                        <label for="{{\'photoFx\' + imgDt.idx}}" style="padding-bottom:28px">Picture (jpg)</label>\r\n                                        <input type="file" name="{{\'photoFx\' + imgDt.idx}}" id="{{\'photoFx\' + imgDt.idx}}" ng-model="imgDt.file.picture" accept="image/jpg" aw-upload-file-size="fileSizeLimit" firefox />\r\n                                    </md-input-container>\r\n                                    \x3c!--</section>--\x3e\r\n                                    <md-input-container class="md-block" flex-gt-sm="5">\r\n                                        <button class="md-icon-button md-button" style="color: black;" ng-click="addDocument(imgDt.idx)">\r\n                                            <i class="material-icons">add</i><div class="md-ripple-container"></div>\r\n                                            <md-tooltip md-direction="bottom">Add File</md-tooltip>\r\n                                        </button>\r\n                                    </md-input-container>\r\n                                    <md-input-container class="md-block" flex-gt-sm="5">\r\n                                        <button class="md-icon-button md-button" style="color: black;" ng-click="deleteDocument(imgDt.idx)">\r\n                                            <i class="material-icons">delete</i><div class="md-ripple-container"></div>\r\n                                            <md-tooltip md-direction="bottom">Delete File</md-tooltip>\r\n                                        </button>\r\n                                    </md-input-container>\r\n                                </section>\r\n                                <section ng-show="uploadForm.$error.awUploadFileSize && uploadForm.$error.awUploadFileSize.length > 0">\r\n                                    <span class="error-message">If you have to upload a file with more than {{fileSizeLimit}}Mb, please reduce the size of the file or contact Audaxware at &lt;support@audaxware.com&gt;</span>\r\n                                </section>\r\n                                \x3c!--<md-button class="md-accent md-raised" ng-click="addMoreDocuments()">Include more</md-button>--\x3e\r\n                            </form>\r\n                        </section>\r\n                    </section>\r\n                </md-tab>\r\n\r\n                \x3c!-- NEW TAB --\x3e\r\n                <md-tab label="Attributes" md-on-select="selectAttributesTab()">\r\n                    <section>\r\n                        <aw-Asset-Settings-Grid asset="data" required-settings="requiredSettings" updated-jsn-data="updatejsn" origin="inventory"></aw-Asset-Settings-Grid>\r\n                    </section>\r\n                </md-tab>\r\n\r\n\r\n            </md-tabs>\r\n        </div>\r\n    </md-dialog-content>\r\n    <md-dialog-actions ng-cloak>\r\n        <section ng-if="!editPhotosMode">\r\n            <md-button class="md-primary" ng-click="addOp && optionsTab ? toggleAddOption() : close()">Cancel</md-button>\r\n            <md-button ng-show="!addOp || (addOp && optionsTab)" class="md-primary" ng-click="addOp && optionsTab ? addNewOptionToGrid() : save()">{{addOp && optionsTab ? (optionToEdit ? \'Edit Option\' : \'Add Options\') : \'Save\'}}</md-button>\r\n            <md-button class="md-primary" ng-show="jsn_asset.jsn.jsn_code != null && !(addOp && optionsTab)" ng-click="save(true)">Save and Synchronize</md-button>\r\n        </section>\r\n        <section ng-if="editPhotosMode">\r\n            <md-button class="md-primary" ng-click="toggleEditPicturesMode()">\r\n                Cancel\r\n                <md-tooltip md-direction="top">Exit add file(s) mode</md-tooltip>\r\n            </md-button>\r\n            <md-button class="md-primary" ng-click="savePictures()">Upload</md-button>\r\n        </section>\r\n    </md-dialog-actions>\r\n</md-dialog>\r\n\r\n\r\n\r\n<style parse-style>\r\n\r\n    .full-size .md-tab {\r\n        width: 150px;\r\n    }\r\n\r\n    .tabs-wrapper {\r\n        position: relative;\r\n    }\r\n\r\n    .full-size {\r\n        min-height:{{style_height}}px !important;\r\n    }\r\n\r\n</style>\r\n'),n.put("app/Projects/Assets/Modals/ImportAssets.html",'<md-dialog aria-label="importAssets" flex-gt-xs="80" class="all-screen">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Import Assets\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak class="md-inline-form">\r\n        <form name="importAssetsForm" id="importAssetsForm">\r\n            <md-stepper id="stepper-import"\r\n                        md-mobile-step-text="mobileStep"\r\n                        md-vertical="false"\r\n                        md-linear="true"\r\n                        md-alternative="true">\r\n\r\n                <md-step md-label="Select File">\r\n                    <md-step-body style="padding-top: 3em;" class="padding-right padding-left">\r\n                        <section layout-gt-xs="row" layout-align-gt-xs="space-around start">\r\n                            <md-dialog-content layout-padding ng-cloack flex-gt-xs="80">\r\n                                <md-input-container class="md-block">\r\n                                    <label for="file">Select the excel file (.xlsx)</label>\r\n                                    <input name="file" id="file" ngf-select ng-value="file.asset.name" ng-model="file.asset" readonly required accept=".xlsx">\r\n                                    <md-icon class="material-icons md-primary" ng-click="fireFileUpload()">\r\n                                        file_upload\r\n                                        <md-tooltip>Select a file to upload</md-tooltip>\r\n                                    </md-icon>\r\n                                    <div ng-messages="importAssetsForm.file.$error">\r\n                                        <div ng-message="required">Source File is required</div>\r\n                                    </div>\r\n                                </md-input-container>\r\n                            </md-dialog-content>\r\n                        </section>\r\n                        <section layout-gt-xs="row" layout-align-gt-xs="space-around start">\r\n                            <md-dialog-content layout-padding ng-cloack flex-gt-xs="80">\r\n                                <md-input-container class="md-block">\r\n                                    <label for="arrangeColumnsType">Select the column format</label>\r\n                                    <md-select name="arrangeColumnsType" ng-model="file.arrangeColumnsType" required>\r\n                                        <md-option ng-value="0">Audaxware</md-option>\r\n                                        <md-option ng-value="1">Government PRCL</md-option>\r\n\r\n                                    </md-select>\r\n                                    <div ng-messages="importAssetsForm.arrangeColumnsType.$error">\r\n                                        <div ng-message="required">Column format is required</div>\r\n                                    </div>\r\n                                </md-input-container>\r\n                            </md-dialog-content>\r\n                        </section>\r\n                        <section layout-gt-xs="row" layout-align-gt-xs="space-around start">\r\n                            <md-input-container class="md-block" flex-gt-xs="40">\r\n                                <a href="excel_templates/import_model_template.xlsx" download="import_model">Download AudaxWare Template</a>                                \r\n                            </md-input-container>\r\n                            <md-input-container class="md-block">\r\n                                <a href="excel_templates/import_model_PRCLTemplate.xlsx" download="import_model">Download Government PRCL Template</a>\r\n                            </md-input-container>\r\n                        </section>\r\n                    </md-step-body>\r\n                </md-step>\r\n                <md-step md-label="Confirm worksheet columns">\r\n                    <md-step-body>\r\n                        <div layout="row" layout-align-gt-sm="space-between start" class="md-block" style="padding-top:20px;padding-bottom:10px">\r\n                            <label flex="90">The following columns found on your excel file are currently not supported and will be ignored:</label>\r\n                        </div>\r\n                        <div ng-bind-html="fieldsList"></div>\r\n                        </br>\r\n                        <div layout="row" layout-align-gt-sm="space-between start" class="md-block" style="padding-top:20px;padding-bottom:10px" ng-if="hasUnusedSheets">\r\n                            <label flex="90">The following worksheets found on your excel file  will be ignored:</label>\r\n                        </div>\r\n                        <div ng-bind-html="unusedSheetsList"></div>                   \r\n                    </md-step-body>\r\n                </md-step>\r\n                <md-step md-label="Review import actions">\r\n                    <md-step-body style="height:{{gridHeight+ 50}}px">\r\n                        <div layout="row" layout-align-gt-sm="space-between start" class="md-block" style="padding-top:10px">\r\n                            <label flex="20">Errors: {{totalErrors}} </label>\r\n                            <label flex="20">New Catalog Items: {{totalNewCatalog}}</label>\r\n                            <label flex="20">New Inventory Items: {{totalNew}}</label>\r\n                            <label flex="20">Changed Inventory Items: {{totalChanged}}</label>\r\n                            <label flex="20">Selected to import: {{wizardData.importGrid.selecteds != undefined ? wizardData.importGrid.selecteds.length : 0}}</label>\r\n                        </div>\r\n                        <div style="padding-top:10px" class="k-grid" kendo-grid="wizardData.importGrid" options="wizardData.options"></div>\r\n                    </md-step-body>\r\n                </md-step>\r\n            </md-stepper>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n        <md-button class="md-primary" ng-click="cancel()">Cancel</md-button>\r\n        <md-button class="md-primary" ng-click="back()" ng-if="currentStep > 1">Back</md-button>\r\n        <md-button class="md-primary" ng-click="next()">{{currentStep === 3 ? \'Import\' : \'Next\'}}</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>\r\n'),n.put("app/Projects/Assets/Modals/MoveAsset.html",'<md-dialog aria-label="add_room" ng-cloak class="max-width-65 width-65">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Move Asset To\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloack>\r\n        <form name="moveAssetForm" id="copyFromCenterFor">\r\n            <section layout-gt-sm="row" style="height:60px" layout-align="space-between start">\r\n                <md-input-container class="md-block" flex-gt-sm="50">\r\n                    <label>Phase</label>\r\n                    <md-select name="phase" ng-model="data.phase_id" required>\r\n                        <md-option ng-repeat="phase in phases | orderBy: \'description\'" value="{{phase.phase_id}}">\r\n                            {{phase.description}}\r\n                        </md-option>\r\n                    </md-select>\r\n                    <div ng-messages="moveAssetForm.phase.$error">\r\n                        <div ng-message="required">Phase is mandatory</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-sm="50">\r\n                    <label>Department</label>\r\n                    <md-select name="department" ng-model="data.department_id" required>\r\n                        <md-option ng-repeat="dpt in departments | orderBy: \'description\'" value="{{dpt.department_id}}">\r\n                            {{dpt.description}}\r\n                        </md-option>\r\n                    </md-select>\r\n                    <div ng-messages="moveAssetForm.department.$error">\r\n                        <div ng-message="required">Department is mandatory</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-sm="25">\r\n                    <label>Room</label>\r\n                    <md-select name="room" ng-model="data.room_id" required>\r\n                        <md-option ng-repeat="room in rooms | orderBy: [\'drawing_room_name\', \'drawing_room_number\']" value="{{room.room_id}}">\r\n                            {{room.drawing_room_name + (room.drawing_room_number != null ? " - " + room.drawing_room_number : "")}}\r\n                        </md-option>\r\n                    </md-select>\r\n                    <div ng-messages="moveAssetForm.room.$error">\r\n                        <div ng-message="required">Room is required</div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n        <md-button class="md-primary" ng-click="close()">Cancel</md-button>\r\n        <md-button class="md-primary" ng-click="move()">Move</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>\r\n\r\n\r\n'),n.put("app/Projects/Assets/Modals/OCModal.html",'<md-dialog aria-label="oc" ng-cloak flex-gt-sm="60">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        {{type | capitalize}} Selection\r\n    </md-toolbar>\r\n    <md-dialog-content>\r\n        <md-tabs md-dynamic-height md-border-bottom>\r\n            <md-tab label="{{type}}">\r\n                <md-content>\r\n                    <section layout="row" layout-align="start center" id="option-identification">\r\n                        <h3>{{data.asset.equipment_code}}</h3>\r\n                        <span>{{data.asset.equipment_desc}}</span>\r\n                    </section>\r\n\r\n                    <form name="ocForm" layout-gt-sm="row" novalidate>\r\n                        <section flex-gt-sm="45">\r\n                            <strong>1. Select the location of asset to apply {{type}}</strong>\r\n\r\n                            \x3c!-- Phase --\x3e\r\n                            <md-input-container class="md-block">\r\n                                <label>Phase</label>\r\n                                <md-select ng-model="data.location.selected.phases" ng-change="updateLocationsTotal(\'phases\')" name="phase" multiple required>\r\n                                    <md-option ng-value="option" ng-repeat="option in data.location.tree">{{option.text}}</md-option>\r\n                                </md-select>\r\n                                <div ng-if="ocForm.phase.$error" ng-messages="ocForm.phase.$error">\r\n                                    <div ng-message="required">Phase is required</div>\r\n                                </div>\r\n                            </md-input-container>\r\n                            \x3c!-- End Phase --\x3e\r\n\r\n                            \x3c!-- Department --\x3e\r\n                            <md-input-container class="md-block">\r\n                                <label>Department</label>\r\n                                <md-select ng-model="data.location.selected.departments" ng-change="updateLocationsTotal(\'departments\', \'phases\')" multiple>\r\n                                    <section ng-repeat="phase in data.location.selected.phases">\r\n                                        <md-option ng-value="option" ng-repeat="option in phase.items">{{phase.text + \' - \' + option.text}}</md-option>\r\n                                    </section>\r\n                                </md-select>\r\n                            </md-input-container>\r\n                            \x3c!-- End Department --\x3e\r\n\r\n                            \x3c!-- Room Name--\x3e\r\n                            <md-input-container class="md-block">\r\n                                <label>Room Name</label>\r\n                                <md-select ng-model="data.location.selected.room_names" ng-change="updateLocationsTotal(\'room_names\', \'departments\')" multiple>\r\n                                    <section ng-repeat="department in data.location.selected.departments">\r\n                                        <md-option ng-value="option" ng-repeat="option in department.items">{{department.text + \' - \' + option.text2}}</md-option>\r\n                                    </section>\r\n                                </md-select>\r\n                            </md-input-container>\r\n                            \x3c!-- End Room Name--\x3e\r\n\r\n                            \x3c!-- Room --\x3e\r\n                            <md-input-container class="md-block">\r\n                                <label>Room</label>\r\n                                <md-select ng-model="data.location.selected.rooms" ng-change="updateLocationsTotal(\'rooms\', \'room_names\')" name="rooms" multiple ng-required="data.location.selected.room_names">\r\n                                    <section ng-repeat="room in data.location.selected.room_names">\r\n                                        <md-option ng-value="option.id" ng-repeat="option in room.items">{{option.text}}</md-option>\r\n                                    </section>\r\n                                </md-select>\r\n                                <div ng-messages="ocForm.rooms.$error">\r\n                                    <div ng-message="required">When Room Name is selected room is required</div>\r\n                                </div>\r\n                            </md-input-container>\r\n                            \x3c!-- End Room --\x3e\r\n                        </section>\r\n\r\n                        <section flex-gt-sm="45" flex-offset-gt-sm="10">\r\n                            <strong>2. Select from the available asset {{type}} for {{data.location.total}} locations</strong>\r\n\r\n                            <md-input-container class="md-block">\r\n                                <label>{{type | capitalize | limitTo: type.length - 1}}</label>\r\n                                <md-select ng-model="data.options.selected" name="asset_oc" multiple ng-required="!data.options.radio" ng-disabled="data.options.radio">\r\n                                    <md-option ng-value="option.id" ng-repeat="option in data.options.availables">{{option.description}}</md-option>\r\n                                </md-select>\r\n                                <div ng-messages="ocForm.asset_oc.$error">\r\n                                    <div ng-message="required">Asset {{type | limitTo: type.length - 1}} is required</div>\r\n                                </div>\r\n                            </md-input-container>\r\n                            <md-radio-group ng-model="data.options.radio" layout="row">\r\n                                <md-radio-button value="none">None</md-radio-button>\r\n                                <md-radio-button value="erase">Erase asset options</md-radio-button>\r\n                            </md-radio-group>\r\n                        </section>\r\n                    </form>\r\n                </md-content>\r\n            </md-tab>\r\n            <md-tab label="Locations">\r\n                <md-content>\r\n                    <section layout="row" layout-align="start center" id="option-identification">\r\n                        <h3>{{data.asset.equipment_code}}</h3>\r\n                        <span>{{data.asset.equipment_desc}}</span>\r\n                    </section>\r\n                    <div style="margin-bottom: 3em;">\r\n                        <aw-accordion ng-repeat="location in locations" label="Options: {{location.typeName}}" expanded="false">\r\n\r\n                            <md-data-table-container>\r\n                                <table md-data-table md-progress="deferred">\r\n                                    <thead md-order="query.order" md-trigger="onorderchange">\r\n                                        <tr>\r\n                                            <th name="Phase"></th>\r\n                                            <th name="Department"></th>\r\n                                            <th name="Room"></th>\r\n                                            <th name="Planned Qty"></th>\r\n                                            <th name="Resp"></th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr md-auto-select md-disable-select="false" data-ng-repeat="asset in location.locationData">\r\n                                            <td>{{asset.phase}}</td>\r\n                                            <td>{{asset.department}}</td>\r\n                                            <td>{{asset.room}}</td>\r\n                                            <td>{{asset.planned_qty}}</td>\r\n                                            <td>{{asset.resp}}</td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </md-data-table-container>\r\n                        </aw-accordion>\r\n                    </div>\r\n                </md-content>\r\n            </md-tab>\r\n        </md-tabs>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row" style="padding: 0em 1em;">\r\n        <md-button class="md-primary" ng-click="apply()">Apply</md-button>\r\n        \x3c!--<md-button class="md-primary" ng-click="clear()">Clear</md-button>--\x3e\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        \x3c!-- The buttons here --\x3e\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Projects/Assets/Modals/ReplaceAsset.html",'<md-dialog aria-label="check_room" flex-gt-sm="80" class="all-screen">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Replace Selected Asset\r\n    </md-toolbar>\r\n    <md-dialog-content layout="column" ng-cloak style="padding-bottom: 0px">\r\n        <md-stepper id="stepper-replace-asset"\r\n                    md-mobile-step-text="mobileStep"\r\n                    md-vertical="false"\r\n                    md-linear="true"\r\n                    md-alternative="true">\r\n            <md-step md-label="Click on a row to select target asset">\r\n                <md-step-body style="height:{{wizardData.gridHeight+10}}px">\r\n                    <div kendo-grid="wizardData.assetsGrid" k-on-data-bound="dataBound(wizardData.assetsGrid)" options="wizardData.options" k-on-edit="edit(kendoEvent)">\r\n                    </div>\r\n                </md-step-body> \r\n            </md-step>\r\n            <md-step md-label="Confirmation">\r\n                <md-step-body>\r\n                    <section layout="column" layout-align="top center" class="gray-color" style="margin-bottom: 1em">\r\n                        <h4>The following asset(s) will be replaced with {{replaceWith.asset_code}} - {{replaceWith.asset_description}}:</h4>\r\n                        <p ng-repeat="asset in replacedAssets">{{asset.asset_code}} - {{asset.asset_description}}</p>\r\n                    </section>\r\n                </md-step-body>\r\n            </md-step>\r\n        </md-stepper>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n        <md-button class="md-primary" ng-click="cancel()">Cancel</md-button>\r\n        <md-button class="md-primary" ng-click="back()" ng-if="currentStep > 1">Back</md-button>\r\n        <md-button class="md-primary" ng-click="next()">{{currentStep == 1 ? \'Next\' : \'Replace\'}}</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>\r\n\r\n\x3c!--<style parse-style>\r\n    .k-grid-content {\r\n        max-height: {{options.height - 210}}px;\r\n        min-height: {{options.height - 210}}px;\r\n    }\r\n</style>--\x3e'),n.put("app/Projects/Assets/Modals/SelectedAssetInfo.html",'<md-dialog aria-label="selectedAssetInfo" ng-cloak flex="30">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        {{ctrl.item.equipment_desc + \' (\' + ctrl.item.equipment_code + \')\'}}\r\n    </md-toolbar>\r\n    <md-dialog-content>\r\n        <form name="infoForm" id="infoForm">\r\n            <md-content>\r\n                <section layout-gt-sm="row" layout-align="space-between center">\r\n                    <md-input-container flex-sm="100">\r\n                        <label>Planned Qty</label>\r\n                        <input name="plannedQty" ng-model="ctrl.item.budget_qty" aw-only-numbers>\r\n                        <div ng-messages="infoForm.plannedQty.$error">\r\n                            <div ng-message="number">Only numbers are allowed</div>\r\n                        </div>\r\n                    </md-input-container>\r\n                    <md-input-container>\r\n                        <label>Budget Override</label>\r\n                        <input name="budgetoverride" ng-model="ctrl.item.unit_budget" aw-currency>\r\n                        <div ng-messages="infoForm.budgetoverride.$error">\r\n                            <div ng-message="currency">Only currency values are allowed</div>\r\n                        </div>\r\n                    </md-input-container>\r\n                </section>\r\n                <section layout-gt-sm="row" layout-align="center center">\r\n                    <md-input-container flex-gt-sm="50">\r\n                        <label>Resp</label>\r\n                        <md-select ng-model="ctrl.item.default_resp" name="resp">\r\n                            <md-option ng-repeat="resp in ctrl.resps" value="{{resp.value}}">\r\n                                {{resp.name}}\r\n                            </md-option>\r\n                        </md-select>\r\n                    </md-input-container>\r\n                </section>\r\n                <md-checkbox flex-gt-sm="100" ng-model="ctrl.item.comment" aria-label="Add Quantity">\r\n                    Add quantity to existing asset\r\n                </md-checkbox>\r\n            </md-content>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions>\r\n        <md-button class="md-primary" ng-hide="ctrl.largeMedia" ng-click="ctrl.close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="ctrl.ok(infoForm)">OK</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Projects/Connectivity/Modals/EditConnectivity.html",'<md-dialog aria-label="editConn" flex-gt-xs="40">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Edit Connectivity\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak>\r\n        <form name="editConnForm" id="editConnForm">\r\n            <section layout-gt-xs="row" layout-align="space-between start">\r\n                <md-input-container class="md-block" flex-gt-xs="80">\r\n                    <label>Asset In</label>\r\n                    <input name="inventory_id_in" ng-model="conn.asset_in_description" disabled="disabled">\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-xs="45">\r\n                    <label>Port No. In</label>\r\n                    <input name="port_number_in" ng-model="conn.conn.port_number">\r\n                </md-input-container>\r\n            </section>\r\n            <section layout-gt-xs="row" layout-align="space-between start">\r\n                <section flex-gt-xs="80"\r\n                         aw-combo-box\r\n                         ng-model="conn.conn.inventory_id_out"\r\n                         name="inventory_id_out"\r\n                         form="editConnForm"\r\n                         query-Controller-action="AssetsOut"\r\n                         controller-name="ITConnectivity"\r\n                         text-property="asset_description"\r\n                         id-property="inventory_id"\r\n                         no-domain-property\r\n                         selected-id="conn.conn.inventory_id_out"\r\n                         params="controllerParams"\r\n                         label="Asset Out"\r\n                         order-by="asset_description"\r\n                         required>\r\n                </section>\r\n                <md-input-container class="md-block" flex-gt-xs="45">\r\n                    <label>Port No. Out</label>\r\n                    <input name="port_number_out" ng-model="conn.conn.port_number_out">\r\n                </md-input-container>\r\n            </section>\r\n            <section layout-gt-xs="row" layout-align="space-between start">\r\n                <md-input-container class="md-block" flex-gt-xs="45">\r\n                    <label>Connection Type</label>\r\n                    <md-select ng-model="conn.conn.connection_type">\r\n                        <md-option ng-repeat="connType in connTypeList" value="{{connType.value}}">\r\n                            {{connType.name}}\r\n                        </md-option>\r\n                    </md-select>\r\n            </section>\r\n\r\n            <section layout-gt-xs="row" layout-align="space-between start">\r\n                <md-input-container class="md-block" flex-gt-sm="90">\r\n                    <label>Comment</label>\r\n                    <textarea ng-model="conn.conn.comment" name="comment" md-maxlength="1000" rows="1" columns="1"></textarea>\r\n                    <div ng-messages="editConnForm.comment.$error" role="alert">\r\n                        <div ng-message="md-maxlength">Only 1000 characters are allowed</div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row" ng-cloak>\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="save()">Save</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Projects/Cost Center/Modals/AddCostCenter.html",'<md-dialog aria-label="add_cost_center" ng-cloak>\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        {{edit ? \'Add cost center to project\' : \'Edit Cost Center\'}}\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloack class="md-inline-form">\r\n        <form name="addCostCenterForm" id="addCostCenterFor">\r\n            <md-input-container class="md-block">\r\n                <label>Code</label>\r\n                <input name="code" ng-model="costCenter.code" required maxlength="20" aw-exists="{{anotherCostCenters}}" property="code">\r\n                <div ng-messages="addCostCenterForm.code.$error">\r\n                    <div ng-message="required">Code is mandatory</div>\r\n                    <div ng-message="maxlength">Only 20 caracteres are allowed</div>\r\n                    <div ng-message="exists">Code already exists for this project</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label>Description</label>\r\n                <input name="description" ng-model="costCenter.description" required maxlength="100">\r\n                <div ng-messages="addCostCenterForm.description.$error">\r\n                    <div ng-message="required">Description is mandatory</div>\r\n                    <div ng-message="maxlength">Only 100 caracteres are allowed</div>\r\n                </div>\r\n            </md-input-container>\r\n            <section flex>\r\n                <md-checkbox ng-model="costCenter.is_default" aria-label="default" style="margin: 0px; top: -10px">\r\n                    Default\r\n                </md-checkbox>\r\n            </section>\r\n            <section flex>\r\n                <md-checkbox ng-model="costCenter.updateAll" aria-label="update all equipment" style="margin: 0px;">\r\n                    Update all assets in the project to this cost center\r\n                </md-checkbox>\r\n            </section>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="add()">{{edit ? \'Update\' : \'Add\'}}</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Projects/Details/Modals/AddDepartment.html",'<md-dialog aria-label="add_department" class="width-40">\r\n    <md-toolbar layout="row" layout-align="center center" ng-cloak>\r\n        Add Department\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak class="md-inline-form">\r\n        <form name="addForm" id="addForm">\r\n            <md-input-container class="md-block">\r\n                <label>Dept Name</label>\r\n                <input type="text" name="name" ng-model="data.description" maxlength="50" required>\r\n                <div ng-messages="addForm.name.$error">\r\n                    <div ng-message="required">Department name is required</div>\r\n                </div>\r\n            </md-input-container>\r\n            <section layout-gt-xs="row" layout-fill layout-align="space-between none" class="md-block">\r\n                <md-input-container class="md-block" flex-gt-xs="45">\r\n                    <label>Dept Area (SF)</label>\r\n                    <input type="text" name="area" ng-model="data.area" maxlength="10" aw-only-numbers>\r\n                    <div ng-messages="addForm.area.$error">\r\n                        <div ng-message="number">Must be number(integer)</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <section flex-gt-xs="45"\r\n                         aw-combo-box \r\n                         ng-model="data.department_type" \r\n                         name="department_type"\r\n                         form="addForm"\r\n                         controller-name="departmentType" \r\n                         params="controllerParams" \r\n                         text-property="description" \r\n                         id-property="department_type_id"\r\n                         selected-id="data.department_type_id" \r\n                         selected-domain="data.department_type_domain_id" \r\n                         domain-property="domain_id" \r\n                         label="Type"\r\n                         required></section>\r\n            </section>\r\n            <md-input-container class="md-block">\r\n                <label>Contact Name</label>\r\n                <input type="text" name="contact_name" ng-model="data.contact_name" maxlength="50">\r\n            </md-input-container>\r\n            <section layout-gt-xs="row" layout-fill layout-align="space-between start" class="md-block">\r\n                <md-input-container class="md-block" flex-gt-xs="45">\r\n                    <label>Contact Phone</label>\r\n                    <input type="text" name="contact_phone" ng-model="data.contact_phone" maxlength="25">\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-xs="45">\r\n                    <label>Contact Email</label>\r\n                    <input type="text" name="contact_email" ng-model="data.contact_email" maxlength="50">\r\n                </md-input-container>\r\n            </section>\r\n            <md-input-container class="md-block">\r\n                <label>Comment</label>\r\n                <textarea ng-model="data.comment" name="comment" columns="1" md-maxlength="1000" maxlength="1000" rows="1"></textarea>\r\n            </md-input-container>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="add()">Save</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Projects/Details/Modals/AddPhase.html",'<md-dialog aria-label="add_phase" class="all-screen width-40 max-width-40">\r\n    <md-toolbar layout="row" layout-align="center center" ng-cloak>\r\n        Add Phase\r\n    </md-toolbar>\r\n    <md-dialog-content ng-cloak class="md-inline-form">\r\n        <form name="addForm" id="addForm">\r\n            <md-input-container class="md-block">\r\n                <label>Description</label>\r\n                <input type="text" name="description" ng-model="data.description" maxlength="50" required>\r\n                <div ng-messages="addForm.description.$error">\r\n                    <div ng-message="required">Phase description is required</div>\r\n                </div>\r\n            </md-input-container>\r\n            <section layout-gt-xs="row" layout-fill layout-align="space-around end" class="md-block">\r\n                <md-input-container flex-gt-xs="45">\r\n                    <label>Start Date</label>\r\n                    <md-datepicker name="start_date" ng-model="data.start_date" required></md-datepicker>\r\n                    <div ng-messages="addForm.start_date.$error">\r\n                        <div ng-message="valid">The entered value is not a date</div>\r\n                        <div ng-message="required">Start date is required</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container flex-gt-xs="45">\r\n                    <label>End Date</label>\r\n                    <md-datepicker name="end_date" ng-model="data.end_date" required md-min-date="data.start_date"></md-datepicker>\r\n                    <div ng-messages="addForm.end_date.$error">\r\n                        <div ng-message="valid">The entered value is not a date</div>\r\n                        <div ng-message="required">End date is required</div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n            <section layout-gt-xs="row" layout-fill layout-align="space-around end" class="md-block">\r\n                <md-input-container flex-gt-xs="45">\r\n                    <label>Asset Date</label>\r\n                    <md-datepicker name="equip_move_in_date" ng-model="data.equip_move_in_date"></md-datepicker>\r\n                    <div ng-messages="addForm.equip_move_in_date.$error">\r\n                        <div ng-message="valid">The entered value is not a date</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container flex-gt-xs="45">\r\n                    <label>Go Live Date</label>\r\n                    <md-datepicker name="occupancy_date" ng-model="data.occupancy_date"></md-datepicker>\r\n                    <div ng-messages="addForm.occupancy_date.$error">\r\n                        <div ng-message="valid">The entered value is not a date</div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n            <section layout-gt-xs="row" layout-align="center end">\r\n                <md-input-container>\r\n                    <label>OFCI Delivery</label>\r\n                    <md-datepicker name="ofci_delivery" ng-model="data.ofci_delivery"></md-datepicker>\r\n                    <div ng-messages="addForm.ofci_delivery.$error">\r\n                        <div ng-message="valid">The entered value is not a date</div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n            <md-input-container class="md-block">\r\n                <label>Comment</label>\r\n                <textarea ng-model="data.comment" name="comment" columns="1" md-maxlength="1000" maxlength="1000" rows="1"></textarea>\r\n            </md-input-container>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="add()">Save</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Projects/Details/Modals/AddRoom.html",'<md-dialog aria-label="add_room" class="max-width-65 width-65">\r\n    <md-toolbar layout="row" layout-align="center center" ng-cloak>\r\n        Add Room\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak>\r\n        <form name="addRoomForm" id="copyFromCenterFor">\r\n            <section layout-gt-sm="row" style="height:60px" layout-align="space-between start" ng-repeat="qty in room_count" ng-value="qty">\r\n                <md-input-container class="md-block" flex-gt-sm="50">\r\n                    <label>Phase</label>\r\n                    <md-select name="phases[qty]" ng-model="data.cp_phase_id[qty]" ng-change="getData(\'departments\', data.cp_phase_id[qty], qty)" ng-required="params.phase_id" aria-label="phases">\r\n                        <md-option ng-repeat="phase in phases" value="{{phase.phase_id}}">\r\n                            {{phase.description}}\r\n                        </md-option>\r\n                    </md-select>\r\n                    <div ng-messages="addRoomForm.phases[qty].$error">\r\n                        <div ng-message="required">Phase is mandatory</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-sm="50">\r\n                    <label>Department</label>\r\n                    <md-select name="departments[qty]" ng-model="data.cp_department_id[qty]" ng-required="params.department_id" aria-label="departments">\r\n                        <md-option ng-repeat="dpt in departments[qty]" value="{{dpt.department_id}}">\r\n                            {{dpt.description}}\r\n                        </md-option>\r\n                    </md-select>\r\n                    <div ng-messages="addRoomForm.departments[qty].$error">\r\n                        <div ng-message="required">Department is mandatory</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-sm="25">\r\n                    <label>Room Name</label>\r\n                    <input name="room_name[qty]" ng-model="data.room_name[qty]" maxlength="50" required>\r\n                    <div ng-messages="addRoomForm.room_name[qty].$error">\r\n                        <div ng-message="required">Room name is required</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-sm="15">\r\n                    <label>Room Number</label>\r\n                    <input name="room_number[qty]" ng-model="data.room_number[qty]" maxlength="10">\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-sm="5">\r\n                    <button class="md-icon-button md-button" style="color: black;" ng-click="addRoom(qty)">\r\n                        <i class="material-icons">add</i><div class="md-ripple-container"></div>\r\n                        <md-tooltip md-direction="bottom">Add Room</md-tooltip>\r\n                    </button>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-sm="5">\r\n                    <button class="md-icon-button md-button" style="color: black;" ng-click="deleteRoom(qty)">\r\n                        <i class="material-icons">delete</i><div class="md-ripple-container"></div>\r\n                        <md-tooltip md-direction="bottom">Delete Room</md-tooltip>\r\n                    </button>\r\n                </md-input-container>\r\n            </section>\r\n            <section layout-gt-sm="row" layout-align="space-between start">\r\n                <md-input-container class="md-block" flex-gt-sm="30">\r\n                    <md-select name="is_linked_template" ng-model="data.is_linked_template" ng-init="data.is_linked_template = 1" aria-label="is_linked_template">\r\n                        <md-option ng-repeat="temp in template_options" value="{{temp.value}}">\r\n                            {{temp.description}}\r\n                        </md-option>\r\n                    </md-select>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-sm="50" ng-show="data.is_linked_template != 1" >\r\n                    <label>Template</label>\r\n                    <md-select name="template_id" ng-model="data.template_id" ng-required="data.is_linked_template != 1">\r\n                        <md-option ng-repeat="temp in templates" value="{{temp.template_id}}">\r\n                            {{temp.name}}\r\n                        </md-option>\r\n                    </md-select>\r\n                    <div ng-messages="addRoomForm.template_id.$error">\r\n                        <div ng-message="required">Template is mandatory</div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row" ng-cloak>\r\n        <md-button class="md-primary" ng-click="close()">Cancel</md-button>\r\n        <md-button class="md-primary" ng-click="copy()">Add</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>\r\n\r\n\r\n'),n.put("app/Projects/Details/Modals/ApplyTemplate.html",'<md-dialog aria-label="apply_template" flex-gt-xs="35">\r\n    <md-toolbar layout="row" layout-align="center center" ng-cloak>\r\n        Apply Template\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak>\r\n        <form name="applyTemplateForm" id="applyTemplateForm">\r\n            <section layout-gt-xs="row" layout-align="center center">\r\n                <md-input-container flex-gt-xs="60">\r\n                    <label>Template Scope</label>\r\n                    <md-select name="template_type" ng-model="template_type" required>\r\n                        <md-option ng-repeat="tpt in template_types" value="{{tpt.id}}">\r\n                            {{tpt.name}}\r\n                        </md-option>\r\n                    </md-select>\r\n                    <div ng-messages="applyTemplateForm.template_type.$error">\r\n                        <div ng-message="required" class="my-message">Template Type is required</div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n            <section layout-gt-xs="row" layout-align="center center">\r\n                <md-input-container flex-gt-xs="60">\r\n                    <label>Template</label>\r\n                    <md-select name="template" ng-model="data.template" required>\r\n                        <md-option ng-repeat="tpt in templates" ng-value="tpt">\r\n                            {{tpt.name}}\r\n                        </md-option>\r\n                    </md-select>\r\n                    <div ng-messages="applyTemplateForm.template.$error">\r\n                        <div ng-message="required" class="my-message">Template is required</div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n            <section layout-gt-xs="row" layout-align="center center">\r\n                <md-input-container flex-gt-xs="60">\r\n                    <label>Asset Default Cost</label>\r\n                    <md-select name="cost_field" ng-model="data.cost_field" required  ng-disabled="data.link_template"> \r\n                        <md-option ng-repeat="cost in costList" value="{{cost.value}}">\r\n                            {{cost.name}}\r\n                        </md-option>\r\n                    </md-select>\r\n                    <div ng-messages="applyTemplateForm.cost_field.$error">\r\n                        <div ng-message="required" class="my-message">Asset Default Cost is required</div>\r\n                    </div>\r\n                </md-input-container>\r\n                \x3c!--<md-input-container flex-gt-xs="45">\r\n                    <label>Default MIS Room</label>\r\n                    <md-select name="mis" ng-model="data.mis">\r\n                        <md-option ng-repeat="room in misRooms track by $index" value="{{room}}">\r\n                            {{room.drawing_room_number}} - {{room.drawing_room_name}}\r\n                        </md-option>\r\n                    </md-select>\r\n                    <div ng-messages="applyTemplateForm.mis.$error"></div>\r\n                </md-input-container>--\x3e\r\n            </section>\r\n            <md-checkbox ng-model="data.delete_assets" aria-label="default" ng-disabled="data.link_template">\r\n                Delete the asset(s) in the room when applying this template.\r\n            </md-checkbox>\r\n            <md-checkbox ng-model="data.link_template" aria-label="default" ng-disabled="link_disabled" ng-show="template_type == 3" ng-change="updateCheckbox()">\r\n                Link room to template (only available for project templates) \r\n                <md-button class="md-icon-button" style="margin:0;padding:0">\r\n                    <md-icon class="md-bottom md-18">info</md-icon>\r\n                    <md-tooltip>All changes made on the template will be applied on the room</md-tooltip>\r\n                </md-button>\r\n            </md-checkbox>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row" ng-cloak>\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="save()">Apply</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Projects/Details/Modals/CopyFrom.html",'<md-dialog aria-label="copy_from" ng-cloak flex-gt-sm="35">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Copy From\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloack>\r\n        <form name="copyFromForm" id="copyFromCenterFor">\r\n            <section layout-gt-sm="row" layout-align="space-between center">\r\n                <md-input-container class="md-block" flex-gt-sm="30">\r\n                    <label>Status</label>\r\n                    <md-select name="status" ng-model="data.status" ng-change="getData(\'project\')" required>\r\n                        <md-option ng-repeat="status in statusList" value="{{status.id}}">\r\n                            {{status.name}}\r\n                        </md-option>\r\n                    </md-select>\r\n                    <div ng-messages="copyFromForm.status.$error">\r\n                        <div ng-message="required">Status is mandatory</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-sm="60">\r\n                    <label>Project</label>\r\n                    <md-select name="projects" ng-model="data.cp_project_id" ng-change="getData(\'phase\')" required>\r\n                        <md-option ng-repeat="proj in projects | orderBy: [\'client_project_number\', \'project_description\']" value="{{proj.project_id}}">\r\n                            {{(proj.client_project_number ? proj.client_project_number + \' - \' : \'\') + proj.project_description}}\r\n                        </md-option>\r\n                    </md-select>\r\n                    <div ng-messages="copyFromForm.projects.$error">\r\n                        <div ng-message="required">Project is mandatory</div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n            <section layout-gt-sm="row" layout-align="space-between center">\r\n                <md-input-container class="md-block" flex-gt-sm="45">\r\n                    <label>Phase</label>\r\n                    <md-select name="phases" ng-model="data.cp_phase_id" ng-change="getData(\'department\')" ng-required="params.phase_id">\r\n                        <md-option ng-repeat="phase in phases" value="{{phase.phase_id}}">\r\n                            {{phase.description}}\r\n                        </md-option>\r\n                    </md-select>\r\n                    <div ng-messages="copyFromForm.phases.$error">\r\n                        <div ng-message="required">Phase is mandatory</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-sm="45">\r\n                    <label>Department</label>\r\n                    <md-select name="departments" ng-model="data.cp_department_id" ng-change="getData(\'room\')" ng-required="params.department_id">\r\n                        <md-option ng-repeat="dpt in departments" value="{{dpt.department_id}}">\r\n                            {{dpt.description}}\r\n                        </md-option>\r\n                    </md-select>\r\n                    <div ng-messages="copyFromForm.departments.$error">\r\n                        <div ng-message="required">Department is mandatory</div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n            <md-input-container class="md-block">\r\n                <label>Room</label>\r\n                <md-select name="rooms" ng-model="data.cp_room_id" ng-required="params.room_id">\r\n                    <md-option ng-repeat="room in rooms" value="{{room.room_id}}">\r\n                        {{room.drawing_room_name + (room.drawing_room_number ? \' - \' + room.drawing_room_number : \'\')}}\r\n                    </md-option>\r\n                </md-select>\r\n                <div ng-messages="copyFromForm.rooms.$error">\r\n                    <div ng-message="required">Room is mandatory</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-checkbox ng-model="data.cp_opt_col" aria-label="copy_options_colors" style="margin: 0px; top: -15px">\r\n                Copy options if they exist\r\n            </md-checkbox>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="copy()">Copy</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Projects/Details/Modals/CopyProject.html",'<md-dialog aria-label="copy_from" ng-cloak flex-gt-sm="35">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Copy Project\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloack>\r\n        <form name="copyProjectForm" id="copyProjectForm">\r\n            <md-input-container class="md-block" flex-gt-sm="100">\r\n                <label>Project Name</label>\r\n                <input name="project_name" ng-model="project_name" required maxlength="200">\r\n                <div ng-messages="copyProjectForm.project_name.$error">\r\n                    <div ng-message="required">Project name is mandatory</div>\r\n                </div>\r\n            </md-input-container>\r\n            <section flex>\r\n                <md-checkbox ng-model="copyUsers" aria-label="CopyUsers" style="margin: 0px; top: -10px">\r\n                    Copy user permission to this project\r\n                </md-checkbox>\r\n            </section>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row">\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="copy()">Copy</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Projects/Details/Modals/CopyRoomTo.html",'<md-dialog aria-label="copy_move_room">\r\n    <md-toolbar layout="row" layout-align="center center" ng-cloak>\r\n        {{action}} Room To\r\n    </md-toolbar>\r\n    <md-dialog-content layout-gt-sm="row" layout-padding class="md-inline-form" ng-cloak>\r\n\r\n        <section flex-gt-sm="35" layout="column" layout-align="start center" layout-align-gt-sm="center start" layout-fill>\r\n            <md-radio-group ng-model="action" ng-click="reload()" layout-gt-sm="row" layout-align="start center" ng-show="copyMove">\r\n                <md-radio-button value="Copy" style="color: black; margin-right: 1em">Copy</md-radio-button>\r\n                <md-radio-button value="Move" style="color: black;" ng-disabled="rooms.length > 1">Move</md-radio-button>\r\n            </md-radio-group>\r\n            <form name="copyMoveRoom" id="copyMoveRoom" novalidate style="padding-top: 3em">\r\n                <section layout="row" layout-align="start center" ng-repeat="room in rooms" style="margin-top: -3em">\r\n                    <section flex-gt-sm="85" layout="row" layout-align="space-between start" ng-if="action == \'Copy\'">\r\n\r\n                        <md-input-container class="md-block" flex="45" flex-gt-sm="50">\r\n                            <label>Room Name</label>\r\n                            <input name="room_name" ng-model="room.Item2" maxlength="50" ng-required="rooms.length == 1" ng-disabled="room.complete">\r\n                            <div ng-messages="copyMoveRoom.room_name.$error">\r\n                                <div ng-message="required">Room name is required</div>\r\n                            </div>\r\n                        </md-input-container>\r\n                        <md-input-container class="md-block"  flex="45" flex-gt-sm="40">\r\n                            <label>Room Number</label>\r\n                            <input name="room_number" ng-model="room.Item1" maxlength="10" ng-disabled="room.complete">\r\n                            \x3c!--<div ng-messages="copyMoveRoom.room_number.$error">\r\n                                <div ng-message="required">Room number is required</div>\r\n                            </div>--\x3e\r\n                        </md-input-container>\r\n                    </section>\r\n                    <button ng-show="room.Item2 && action == \'Copy\'" class="md-icon-button md-button" ng-class="{\'md-accent\': room.complete, \'md-primary\': !room.complete}" style="top: -0.7em" ng-click="room.complete ? removeRoom($index) : addRoom()">\r\n                        <i class="material-icons">{{room.complete ? \'cancel\' : \'add_circle\'}}</i>\r\n                        <md-tooltip md-direction="bottom">{{room.complete ? \'Remove\' : \'Insert Another\'}}</md-tooltip>\r\n                    </button>\r\n                </section>\r\n            </form>\r\n            <md-checkbox ng-model="copy_options_colors" aria-label="default">\r\n                Copy options if they exist\r\n            </md-checkbox>\r\n        </section>\r\n        <section flex-gt-sm="65" layout-aling="center center">\r\n            <section layout="row" id="autocomplete-group">\r\n                <h3 class="md-accent" flex="5">To:</h3>\r\n                <md-input-container class="md-block no-md-errors-spacer" flex="50">\r\n                    <aw-autocomplete ng-model="toProject" name="toProject" add-option="false" controller-name="projects" params="toProject" text-property="project_description" selected-item="toProject" selected-id="toProject.project_id" selected-domain="toProject.domain_id" label="Project *" id-property="project_id" required></aw-autocomplete>\r\n                </md-input-container>\r\n            </section>\r\n            <div class="checkbox-grid" kendo-grid="departmentsGrid" options="options" k-on-data-bound="dataBound(departmentsGrid)"></div>\r\n        </section>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row" ng-cloak>\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="save()">{{action}}</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Projects/Details/Modals/LockProjectModal.html",'<md-dialog aria-label="lockProject" flex-gt-xs="30">\r\n    <md-toolbar layout="row" layout-align="center center" ng-cloak>\r\n        Lock Project\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak class="not-scrollable">\r\n        <form name="lockProjectForm" id="lockProjectForm">\r\n            <md-input-container class="md-block">\r\n                <label>Lock/Submmittal Date</label>\r\n                <input name="submittalDate" ng-model="data.locked_date" disabled>\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label>Lock comment/Submmittal</label>\r\n                <input name="submittal" ng-model="data.locked_comment" maxlength="30">\r\n            </md-input-container>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row" ng-cloak>\r\n        <md-button class="md-primary" ng-click="cancel()">Cancel</md-button>\r\n        <md-button class="md-primary" ng-click="lock()">Lock</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Projects/Details/Modals/SaveAsTemplate.html",'<md-dialog aria-label="save_template" flex-gt-xs="30">\r\n    <md-toolbar layout="row" layout-align="center center"  ng-cloak>\r\n        Save as Template\r\n    </md-toolbar>\r\n    <md-dialog-content ng-cloak>\r\n        <form name="saveAsTemplateForm" id="saveAsTemplateForm">\r\n            \x3c!--<md-input-container class="md-block">\r\n                <aw-autocomplete ng-model="template.saveAs" name="saveAs" query-controller-action="FromDepartment" flex="100" add-option="false" endpoint="template_room" params="controllerParams" max="250" selected-text="template.saveAs" text-property="description" id-property="template_room_id" label="Save As *" required></aw-autocomplete>\r\n                <div ng-messages="saveAsTemplateForm.saveAs.$error">\r\n                    <div ng-message="required">Save as is required</div>\r\n                </div>\r\n            </md-input-container>--\x3e\r\n            <md-input-container class="md-block">\r\n                <label>Save As</label>\r\n                <input name="saveAs" ng-model="template.drawing_room_name" maxlength="50" required>\r\n                <div ng-messages="saveAsTemplateForm.saveAs.$error">\r\n                    <div ng-message="required">Save as is required</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label>Scope</label>\r\n                <md-select name="scope" ng-model="template.scope" aria-label="Scope" required>\r\n                    <md-option ng-value="1">Global</md-option>\r\n                    <md-option ng-value="2" selected>Project</md-option>\r\n                </md-select>\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label>Comment</label>\r\n                <textarea ng-model="template.comment" name="comment" columns="1" md-maxlength="1000"></textarea>\r\n                <div ng-messages="saveAsTemplateForm.comment.$error">\r\n                    <div ng-message="md-maxlength" class="my-message">\r\n                        Only 1000 characters are allowed!\r\n                    </div>\r\n                </div>\r\n            </md-input-container>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row"  ng-cloak>\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="save()">Save</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Projects/Details/Modals/SplitRoom.html",'<md-dialog aria-label="split_room" class="max-width-65 width-65">\r\n    <md-toolbar layout="row" layout-align="center center" ng-cloak>\r\n        Split Room\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak>\r\n        <form name="copyFromForm" id="copyFromCenterFor">\r\n            <section layout-gt-sm="row" style="height:60px" layout-align="space-between start">\r\n                <md-input-container class="md-block" flex-gt-sm="50">\r\n                    <label>Phase</label>\r\n                    <md-select name="actual_phases" ng-model="data.actual_cp_phase_id" ng-init="data.actual_cp_phase_id = params.phase_id" ng-disabled="true">\r\n                        <md-option ng-repeat="phase in phases" value="{{phase.phase_id}}">\r\n                            {{phase.description}}\r\n                        </md-option>\r\n                    </md-select>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-sm="50">\r\n                    <label>Department</label>\r\n                    <md-select name="actual_departments" ng-model="data.actual_cp_department_id" ng-init="data.actual_cp_department_id = params.department_id" ng-disabled="true">\r\n                        <md-option ng-repeat="dpt in actual_departments" value="{{dpt.department_id}}">\r\n                            {{dpt.description}}\r\n                        </md-option>\r\n                    </md-select>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-sm="25">\r\n                    <label>Room Name</label>\r\n                    <input name="actual_room_name" ng-model="data.actual_room_name" ng-init="data.actual_room_name = params.room_name" maxlength="50" ng-disabled="true">\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-sm="15">\r\n                    <label>Room Number</label>\r\n                    <input name="actual_room_number" ng-model="data.actual_room_number" ng-init="data.actual_room_number = params.room_number" maxlength="10" ng-disabled="true">\r\n                </md-input-container>\r\n            </section>\r\n            <section layout-gt-sm="row" style="height:60px" layout-align="space-between start" ng-repeat="qty in room_count" ng-value="qty">\r\n                <md-input-container class="md-block" flex-gt-sm="50">\r\n                    <label>Phase</label>\r\n                    <md-select name="phases[qty]" ng-model="data.cp_phase_id[qty]" ng-change="getData(\'department\', data.cp_phase_id[qty], qty)" ng-required="params.phase_id" ng-init="data.cp_phase_id[qty] = params.phase_id">\r\n                        <md-option ng-repeat="phase in phases" value="{{phase.phase_id}}">\r\n                            {{phase.description}}\r\n                        </md-option>\r\n                    </md-select>\r\n                    <div ng-messages="copyFromForm.phases[qty].$error">\r\n                        <div ng-message="required">Phase is mandatory</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-sm="50">\r\n                    <label>Department</label>\r\n                    <md-select name="departments[qty]" ng-model="data.cp_department_id[qty]" ng-init="data.cp_department_id[qty] = params.department_id" ng-required="params.department_id">\r\n                        <md-option ng-repeat="dpt in departments[qty]" value="{{dpt.department_id}}">\r\n                            {{dpt.description}}\r\n                        </md-option>\r\n                    </md-select>\r\n                    <div ng-messages="copyFromForm.departments[qty].$error">\r\n                        <div ng-message="required">Department is mandatory</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-sm="25">\r\n                    <label>Room Name</label>\r\n                    <input name="room_name[qty]" ng-model="data.room_name[qty]" ng-init="data.room_name[qty] = params.room_name" maxlength="50" required>\r\n                    <div ng-messages="copyFromForm.room_name[qty].$error">\r\n                        <div ng-message="required">Room name is required</div>\r\n                    </div>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-sm="15">\r\n                    <label>Room Number</label>\r\n                    <input name="room_number[qty]" ng-model="data.room_number[qty]" ng-init="data.room_number[qty] = \'\'" maxlength="10">\r\n                </md-input-container>\r\n            </section>\r\n            <section layout-gt-sm="row" layout-align="space-between start">\r\n                <md-input-container class="md-block" flex-gt-sm="30">\r\n                    <md-checkbox ng-model="data.link_template" aria-label="link_template" style="margin: 0px;padding-top:10px">\r\n                        Create linked template\r\n                    </md-checkbox>\r\n                </md-input-container>\r\n                <md-input-container class="md-block" flex-gt-sm="70" ng-show="data.link_template">\r\n                    <label>Template name</label>\r\n                    <input name="template_name" ng-model="data.template_name" maxlength="50" aw-exists="{{anotherTemplates}}" ng-required="data.link_template">\r\n                    <div ng-messages="copyFromForm.template_name.$error">\r\n                        <div ng-message="required">Template is name is mandatory</div>\r\n                        <div ng-message="exists">Template name already exists</div>\r\n                    </div>\r\n                </md-input-container>\r\n            </section>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row" ng-cloak>\r\n        <md-button class="md-primary" ng-click="close()">Cancel</md-button>\r\n        <md-button class="md-primary" ng-click="copy()">Split</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Projects/Documents/Modals/AddDocAssociation.html",'<md-dialog aria-label="check_room" flex-gt-xs="90" class="all-screen">\r\n    <md-toolbar layout="row" layout-align="center center" ng-cloak>\r\n        Establish document(s) association\r\n    </md-toolbar>\r\n    <md-dialog-content ng-cloak>\r\n        <aw-asset-inventory-grid select-only-mode="true" document-link-mode="true" document-link-id="document.id" already-associated="alreadAssociated" params="params" grid-height-subtract="190" selecteds="associations"></aw-asset-inventory-grid>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row" ng-cloak>\r\n        <md-button class="md-primary" ng-click="cancel()">Cancel</md-button>\r\n        <md-button class="md-primary" ng-click="save()">Save</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>\r\n\r\n\x3c!--<style parse-style>\r\n    .k-grid-content {\r\n        max-height:{{grid_height - 150}}px; \r\n        min-height:{{grid_height - 150}}px;\r\n    }\r\n</style>--\x3e'),n.put("app/Projects/Documents/Modals/AddDocument.html",'<md-dialog aria-label="add_document" flex-gt-sm="30">\r\n    <md-toolbar layout="row" layout-align="center center" ng-cloak>\r\n        Add document to phase\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak>\r\n        <form name="addDocumentForm" id="addDocumentForm">\r\n            <md-input-container class="md-block">\r\n                <label>Save As</label>\r\n                <input name="saveAs" ng-model="document.saveAs" required maxlength="20">\r\n                <div ng-messages="addDocumentForm.saveAs.$error">\r\n                    <div ng-message="required">Save As filename is required</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label for="file">Choose a file</label>\r\n                <input name="file" id="file" ngf-select ng-value="document.doc.name" ng-model="document.doc" required>\r\n                <div ng-messages="addDocumentForm.file.$error">\r\n                    <div ng-message="required">Source File is required</div>\r\n                </div>\r\n            </md-input-container>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row" ng-cloak>\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="add()">Save</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Projects/Documents/Modals/AddProjectDocument.html",'<md-dialog aria-label="add_document" flex-gt-sm="30">\r\n    <md-toolbar layout="row" layout-align="center center" ng-cloak>\r\n        {{edit ? \'Edit document added to project\' : \'Add document to project\'}}\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloak>\r\n        <form name="addDocumentForm" id="addDocumentForm">\r\n            <md-input-container class="md-block">\r\n                <label>Name</label>\r\n                <input name="saveAs" ng-model="document.filename" required>\r\n                <div ng-messages="addDocumentForm.saveAs.$error">\r\n                    <div ng-message="required">Name is required</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label>Type</label>\r\n                <md-select name="documentType" ng-model="document.document_types" required>\r\n                    <md-option ng-repeat="type in documentTypes" ng-value="type">\r\n                        {{type.name}}\r\n                    </md-option>\r\n                </md-select>\r\n                <div ng-messages="addDocumentForm.documentType.$error">\r\n                    <div ng-message="required">Type is required</div>\r\n                </div>\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label>Status</label>\r\n                <md-select name="status" ng-model="document.status">\r\n                    <md-option ng-repeat="st in statusList" ng-value="st.value">\r\n                        {{st.name}}\r\n                    </md-option>\r\n                </md-select>\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label>Version</label>\r\n                <input name="version" ng-model="document.version" maxlength="30">\r\n            </md-input-container>\r\n            <md-input-container class="md-block">\r\n                <label for="file">{{(edit ? \'Override uploaded file\' : \'File to upload\') + (document.document_types.name === \'Shop Drawing\' ? \' (.pdf)\' : \'\')}}</label>\r\n                <input name="file" id="file" ngf-select ng-value="document.doc.name" ng-model="document.doc" readonly ng-required="!edit" ng-disabled="!document.document_types" accept="{{document.document_types.name === \'Shop Drawing\' ? \'.pdf\' : \'*\'}}">\r\n                <md-icon class="material-icons md-primary" ng-click="fireFileUpload()">\r\n                    file_upload\r\n                    <md-tooltip>\r\n                        {{edit ? \'Select file to override that uploaded\' : \'Select a file to upload\'}}\r\n                    </md-tooltip>\r\n                </md-icon>\r\n                <div ng-messages="addDocumentForm.file.$error">\r\n                    <div ng-message="required">Source File is required</div>\r\n                </div>\r\n            </md-input-container>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row" ng-cloak>\r\n        <md-button class="md-primary" ng-click="cancel()">Cancel</md-button>\r\n        <md-button class="md-primary" ng-click="upload()">Save</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Projects/Documents/Modals/UploadRoomPicture.html",'<md-dialog aria-label="make available to project" flex-gt-xs="30">\r\n    <md-toolbar layout="row" layout-align="center center" ng-cloak>\r\n        Upload Room Picture(s)\r\n    </md-toolbar>\r\n    <md-dialog-content layout-padding ng-cloack>\r\n        <form name="uploadForm" id="uploadForm" layout="column" layout-align="space-between none">\r\n            <section ng-show="!show_firefox">\r\n                <md-input-container class="md-block" ng-repeat="file in files">\r\n                    <label for="{{file.id}}">Picture (jpg)</label>\r\n                    <input name="{{file.id}}" id="{{file.id}}" ngf-select ng-value="file.picture.name" ng-model="file.picture" accept="image/jpeg" aw-upload-file-size="fileSizeLimit" />\r\n                </md-input-container>\r\n            </section>\r\n            <section ng-show="show_firefox">\r\n                <md-input-container class="md-block" ng-repeat="file in filesF">\r\n                    <label for="{{file.id}}" style="padding-bottom:28px">Picture (jpg)</label>\r\n                    <input type="file" name="{{file.id}}" id="{{file.id}}" ng-model="file.picture" accept="image/jpg" aw-upload-file-size="fileSizeLimit" firefox />\r\n                </md-input-container>\r\n            </section>\r\n            <section ng-show="uploadForm.$error.awUploadFileSize && uploadForm.$error.awUploadFileSize.length > 0">\r\n                <span class="error-message">If you have to upload a file with more than {{fileSizeLimit}}Mb, please reduce the size of the file or contact Audaxware at &lt;support@audaxware.com&gt;</span>\r\n            </section>\r\n        </form>\r\n    </md-dialog-content>\r\n    <md-dialog-actions layout="row" ng-cloak>\r\n        <md-button class="md-primary" ng-click="cancel()">Cancel</md-button>\r\n        <md-button class="md-primary" ng-click="addMore()">Add More Pictures</md-button>\r\n        <md-button class="md-primary" ng-click="upload()">Upload</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>'),n.put("app/Room Templates/Assets/Modals/EditAssetGlobal.html",'\x3c!--<md-dialog aria-label="edit_generic" class="all-screen width-60 max-width-60">--\x3e\r\n<md-dialog aria-label="edit_generic" class="width-50 max-width-50">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Edit {{multiple ? \'Multiple Items\' : \'Single Item\'}}\r\n    </md-toolbar>\r\n    <md-dialog-content layout="column" class="md-inline-form" ng-cloak>\r\n        <div flex class="tabs-wrapper">\r\n            \x3c!--<md-tabs class="full-size" md-border-bottom>\r\n                <md-tab label="Details" md-on-select="optionsTab = false">--\x3e\r\n            <section layout="column" layout-align="top center">\r\n                <h4>{{data.asset_description}}</h4>\r\n            </section>\r\n            <form name="editAssetForm" id="editAssetForm" ng-cloak class="padding-top padding-bottom">\r\n                <section layout="column" layout-align="center center" ng-if="!multiple">\r\n                    <img ng-src="{{image}}" style="width:110px" title="no picture">\r\n                </section>\r\n                <section layout-gt-xs="row" layout-align="space-around center">\r\n                    <md-input-container class="md-block" flex-gt-xs="30">\r\n                        <label>Planned Qty</label>\r\n                        <input name="planned_qty" ng-model="data.budget_qty" aw-only-numbers required/>\r\n                        <div ng-messages="editAssetForm.planned_qty.$error" role="alert">\r\n                            <div ng-message="number" class="my-message">\r\n                                Only numbers are allowed\r\n                            </div>\r\n                            <div ng-message="required" class="my-message">\r\n                                The quantity is required\r\n                            </div>\r\n                        </div>\r\n                    </md-input-container>\r\n                </section>\r\n            </form>\r\n            \x3c!--</md-tab>\r\n            <md-tab label="Options" md-on-select="optionsTab = true">\r\n                <md-content style="overflow-x:hidden; overflow-y:hidden">\r\n                    <section layout="column" layout-align="top center">\r\n                        <h4>{{data.asset_description}}</h4>\r\n                    </section>\r\n                    <section ng-cloak layout="column" layout-align="none end" ng-show="addOp">\r\n                        <md-input-container class="md-block" style="margin: 0px">\r\n                            <label>Asset Default Cost</label>\r\n                            <md-select ng-model="selected_costField">\r\n                                <md-option ng-repeat="cost in costField" value="{{cost.value}}">\r\n                                    {{cost.name}}\r\n                                </md-option>\r\n                            </md-select>\r\n                        </md-input-container>\r\n                    </section>\r\n                    <section layout="row" ng-cloak ng-if="!addOp" class="grid-toolbar">\r\n                        <section layout="row" layout-align="start center" class="gray-color">\r\n                            <button class="md-icon-button md-button" ng-click="toggleAddOption()" ng-disabled="data.none_option || noOptionsAvailable">\r\n                                <i class="material-icons">add</i><div class="md-ripple-container"></div>\r\n                                <md-tooltip md-direction="bottom">Add Option</md-tooltip>\r\n                            </button>\r\n                            <button class="md-icon-button md-button" ng-click="deleteOptions()" ng-disabled="data.none_option || noOptionsAvailable">\r\n                                <i class="material-icons">delete</i>\r\n                                <md-tooltip md-direction="bottom">Delete Option(s)</md-tooltip>\r\n                            </button>\r\n                        </section>\r\n                        <section layout="row" layout-align="end center" flex="100">\r\n                            <md-checkbox class="no-vertical-margin" ng-model="data.none_option" aria-label="options none">\r\n                                Disable options for this entry\r\n                            </md-checkbox>\r\n                        </section>\r\n                    </section>\r\n                    <div ng-show="!data.none_option" class="checkbox-grid" kendo-grid="optionsGrid" k-on-data-bound="dataBound(optionsGrid)" options="options">\r\n                    </div>\r\n                </md-content>\r\n            </md-tab>\r\n            </md-tabs>--\x3e\r\n        </div>\r\n    </md-dialog-content>\r\n    <md-dialog-actions ng-cloak>\r\n        <md-button class="md-primary" ng-click="addOp && optionsTab ? toggleAddOption() : close()">{{addOp && optionsTab ? noOptions ? \'Back\' : \'Cancel\' : \'Close\'}}</md-button>\r\n        <md-button ng-show="!addOp || (addOp && optionsTab && !noOptions)" class="md-primary" ng-click="addOp && optionsTab && !noOptions ? addOptions() : save()">{{addOp && optionsTab && !noOptions ? \'Add Options\' : \'Save\'}}</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>\r\n\r\n\x3c!--<style parse-style>\r\n    .tabs-wrapper {\r\n        position: relative;\r\n    }\r\n\r\n    .full-size {\r\n        min-height: {{style_height}}px !important;\r\n    }\r\n</style>--\x3e'),n.put("app/Security/Login/Modals/ForgotPassword.html",'<md-dialog aria-label="forgot_password" class="width-30 max-width-30">\r\n    <md-toolbar layout="row" layout-align="center center">\r\n        Forgot Your Password?\r\n    </md-toolbar>\r\n    <md-dialog-content ng-cloak>\r\n        <form name="forgotPasswordForm" id="forgotPasswordForm" layout="row" layout-align="center center" style="width: 100%" novalidate>\r\n            <md-input-container flex-gt-sm="80" flex-sm="40" flex="80" class="md-block">\r\n                <label>Your username</label>\r\n                <input type="email" name="username" ng-model="data" required ng-enter="send()"/>\r\n                <div ng-messages="forgotPasswordForm.username.$error">\r\n                    <div ng-message="required">Username is required</div>\r\n                    <div ng-message="email">Not a valid email</div>\r\n                </div>\r\n            </md-input-container>\r\n        </form>\r\n        <small class="gray-color" align="center"><strong>The instructions to retrieve your password will be send in your email</strong></small>\r\n    </md-dialog-content>\r\n    <md-dialog-actions>\r\n        <md-button class="md-primary" ng-click="close()">Close</md-button>\r\n        <md-button class="md-primary" ng-click="send()">Send</md-button>\r\n    </md-dialog-actions>\r\n</md-dialog>')}]);
xPlanner.controller("AssetCodeListCtrl",["$scope","GridService","HttpService","AuthService","DialogService","ProgressService","toastr","$state",function(o,i,e,c,s,t,d,n){var l,a,r;function u(t){t&&t.tbody.find("tr").dblclick(function(){var e=t.dataItem(this);o.openAddEditModal(!0,e)})}function u(t){t&&t.tbody.find("tr").dblclick(function(){var e=t.dataItem(this);o.openAddEditModal(!0,e)})}c.isAuthenticated()?(l={template:'<section layout="row" ng-cloak ><section layout="row" layout-align="start center"  class="gray-color"><button class="md-icon-button md-button" ng-click="openAddEditModal()"><i class="material-icons">add</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Add New Asset Code</md-tooltip></button><button class="md-icon-button md-button" ng-click="openAddEditModal(true)"><i class="material-icons">edit</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Edit Asset Code</md-tooltip></button><button class="md-icon-button md-button" ng-click="delete()"><i class="material-icons">delete</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Delete Asset Code</md-tooltip></button></section></section>'},e={transport:{read:{url:e.generic("AssetCodes","All",c.getLoggedDomain()),headers:{Authorization:"Bearer "+c.getAccessToken()}}},schema:{model:{id:"id"}}},o.options=i.getStructure(e,r=[{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(codesGrid)" ng-checked="allPagesSelected(codesGrid)" aria-label="checkbox" ng-click="select($event, codesGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, codesGrid)" ng-checked="isSelected(codesGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"5px"},{field:"prefix",title:"Prefix",width:"15px"},{field:"description",title:"Description",width:"20px"},{field:"next_seq",title:"Next Number",width:"10px"},{field:"added_by",title:"Added By",width:"10px"},{field:"date_added",title:"Date Added",width:"10px"}],l,a={groupable:!0,noRecords:"No asset code available",height:370}),o.dataBound=function(){u(o.codesGrid),i.dataBound(o.codesGrid)},o.$on("kendoWidgetCreated",function(e,t){t===o.codesGrid&&u(o.codesGrid)}),o.isSelected=i.isSelected,o.allSelected=i.allSelected,o.select=i.select,o.allPagesSelected=i.allPagesSelected,o.openAddEditModal=function(e,t){if(e){if(!t&&!i.verifySelected("edit","assetcode",o.codesGrid,!0))return;t=t||i.getSelecteds(o.codesGrid)[0]}var e={action:"Item",domain_id:c.getLoggedDomain()},d=angular.copy(o.codesGrid.dataSource.data());s.openModal("app/AssetCodes/Modals/AddEditAssetCode.html","AddEditAssetCodeCtrl",{items:d,params:e,assetcode:t},!0).then(function(e){})},o.delete=function(){i.verifySelected("delete","assetcode",o.codesGrid)&&s.Confirm("Are you sure?","The addresses will be deleted permanently!").then(function(){t.blockScreen(),i.deleteItems(WebApiService.project_address,function(e){return{action:"Item",domain_id:e.domain_id,project_id:e.project_id,id:e.id}},o.codesGrid).then(function(){t.unblockScreen(),d.success("Addresses Deleted!")},function(e){t.unblockScreen(),409===e.status?d.info("Some, or all, of the selected addresses could not be deleted because it's assigned to purchase orders"):d.error("Error to try delete addresses, please contact the technical support")}),i.unselectAll(o.codesGrid)})},o.options=i.getStructure(e,r,l,a),o.dataBound=function(){u(o.codesGrid),i.dataBound(o.codesGrid)},o.$on("kendoWidgetCreated",function(e,t){t===o.codesGrid&&u(o.codesGrid)})):(c.clearLocalStorage(),n.go("login"))}]);
xPlanner.controller("AssetDetailsCtrl",["$scope","WebApiService","AuthService","toastr","PlacementList","AssetPropertyList","ProgressService","DialogService","AssetsService","$q","$stateParams","$state","HttpService","AudaxwareDataService","$filter","AssetClassList","GridService","$mdDialog",function(b,A,w,n,o,r,S,l,j,v,k,D,C,q,L,M,$,T){b.selectedTab=0,b.$on("$viewContentLoaded",function(e){b.$emit("initialTab","assets"),b.requiredSettings=[],b.classes=M,b.loggedDomain=w.getLoggedDomain(),b.height=window.innerHeight,b.isManufacturerDomain=w.isManufacturerDomain();var s=!1;function a(l){S.blockScreen(),A.genericController.get(i("assets","Item",k.domain_id,k.asset_id),function(t){var e,s,a,n,i,o,r;c(t),l||A.genericController.query({controller:"categories",action:"all",domain_id:t.domain_id},function(e){b.categories=e,b.asset.categorySelected=e.find(function(e){return e.domain_id==t.assets_subcategory.category_domain_id&&e.category_id==t.assets_subcategory.category_id}),b.reloadSubategories(!0)}),t.discontinued&&u(),e={label:"Save",icon:"save",click:d,conditionShow:!0,condition:!0},s={label:"Upload Files",icon:"file_upload",click:_,conditionShow:!0,condition:!0},a={label:"Delete",icon:"delete_forever",click:f,conditionShow:!0,justAudaxware:!0,condition:!0},n={label:"Back to List",icon:"reply",click:g,condition:!0},i={label:"Duplicate Asset",icon:"content_copy",click:p,condition:!0},o={label:"Request to add asset to Audaxware",icon:"input_white",click:h,condition:1!=k.domain_id&&1!=b.asset.domain_id},r={label:"Add asset to Audaxware",icon:"flip_to_front",click:y,condition:null!=b.asset.approval_pending_domain&&w.isAudaxwareDomainAndEmail(),justAudaxware:!0},b.buttons=[e,s,i,o,r,a,n],b.buttons.state=!0,S.unblockScreen()},function(){S.unblockScreen(),n.error("Error to retrieve data from server, please contact technical support")})}function i(e,t,s,a,n,i,o){return{controller:e,action:t,domain_id:s||w.getLoggedDomain(),project_id:a,phase_id:n,department_id:i,room_id:o}}function c(e){var t;b.subcategories?(t=e.assets_subcategory||b.asset.assets_subcategory,e.assets_subcategory=b.subcategories.find(function(e){return e.domain_id==t.domain_id&&e.category_id==t.category_id&&e.subcategory_id==t.subcategory_id})):e.assets_subcategory=e.assets_subcategory||b.asset.assets_subcategory,e.manufacturer=e.manufacturer||b.asset.manufacturer,e.domain=e.domain||b.asset.domain,e.categorySelected=b.asset.categorySelected||e.assets_subcategory.assets_category,e.isCustom="C"===e.asset_code.slice(-1),e.avg_last_cost=e.avg_cost?L("currency")(e.avg_cost)+(e.last_cost?" / "+L("currency")(e.last_cost):""):"",e.related_asset=e.assets1.find(function(e){return e.domain_id===w.getLoggedDomain()}),b.asset=e}function u(){S.blockScreen(),A.genericController.query(i("alternateAsset","All",b.asset.domain_id,b.asset.subcategory_domain_id,b.asset.subcategory_id,k.asset_id),function(e){S.unblockScreen(),b.alternate_assets=e},function(){S.unblockScreen(),n.error("Error to retrieve data from server, please contact technical support")})}function d(){return v(function(s,e){"3"==w.getLoggedUserType()?l.ViewersChangesModal():parseInt(b.asset.min_cost)>parseInt(b.asset.max_cost)?n.error("The Max value must be grather than Min value"):(S.blockScreen(),b.detailsForm.$setSubmitted(),b.detailsForm.subcategory.$setTouched(),b.detailsForm.$valid?(b.asset.jsn_id=null!=b.asset.jsn?b.asset.jsn.id:null,b.asset.jsn_domain_id=null!=b.asset.jsn?b.asset.jsn.domain_id:null,null!=b.asset.jsn&&(b.asset.jsn_utility1_ow=b.asset.jsn_utility1!=b.asset.jsn.utility1||b.asset.jsn_utility1_ow,b.asset.jsn_utility1=b.asset.jsn.utility1,b.asset.jsn_utility2_ow=b.asset.jsn_utility2!=b.asset.jsn.utility2||b.asset.jsn_utility2_ow,b.asset.jsn_utility2=b.asset.jsn.utility2,b.asset.jsn_utility3_ow=b.asset.jsn_utility3!=b.asset.jsn.utility3||b.asset.jsn_utility3_ow,b.asset.jsn_utility3=b.asset.jsn.utility3,b.asset.jsn_utility4_ow=b.asset.jsn_utility4!=b.asset.jsn.utility4||b.asset.jsn_utility4_ow,b.asset.jsn_utility4=b.asset.jsn.utility4,b.asset.jsn_utility5_ow=b.asset.jsn_utility5!=b.asset.jsn.utility5||b.asset.jsn_utility5_ow,b.asset.jsn_utility5=b.asset.jsn.utility5,b.asset.jsn_utility6_ow=b.asset.jsn_utility6!=b.asset.jsn.utility6||b.asset.jsn_utility6_ow,b.asset.jsn_utility6=b.asset.jsn.utility6),!function(e){for(var t=0;t<b.requiredSettings.length;t++)if(null===e[b.requiredSettings[t]]||void 0===e[b.requiredSettings[t]]||""===e[b.requiredSettings[t]])return;return 1}(b.asset)?(n.error("Please make sure you enter all the required settings on Attributes section"),e()):(S.unblockScreen(),q.CheckDuplicateAsset(b.asset).then(function(t){S.blockScreen(),b.saveAux(b.asset,t).then(function(e){t&&(b.asset.asset_code=e.asset_code),b.changeAsset(e),b.$emit("dataSaved"),S.unblockScreen(),s(!0)},function(){S.unblockScreen()})}))):(S.unblockScreen(),n.error("Please make sure you enter correctly all the fields"),e()))})}function _(){"3"==w.getLoggedUserType()?l.ViewersChangesModal():q.CheckDuplicateAsset(b.asset).then(function(e){e?b.saveAux(b.asset,!0).then(function(e){l.openModal("app/Assets/Modals/UploadAssetFiles.html","UploadAssetFilesCtrl",{asset:e},!0).then(function(){a()})}):l.openModal("app/Assets/Modals/UploadAssetFiles.html","UploadAssetFilesCtrl",{asset:b.asset},!0).then(function(e){a(!0)})})}function g(){D.go("assetsWorkspace.assets")}function f(){"3"==w.getLoggedUserType()?l.ViewersChangesModal():j.DeleteAsset(b.asset).then(function(){g()})}function p(){"3"==w.getLoggedUserType()?l.ViewersChangesModal():hasChanges?l.Confirm("Are you sure?","You have made changes to the asset, do you want to save and duplicate?").then(function(){d().then(function(){t()})},function(){}):t()}function t(){v(function(e,t){l.Confirm("Duplicate Asset","Do you want to link and restrict editing of the original asset?").then(function(){s=!0,e()},function(){e()})}).then(function(){S.blockScreen(),b.asset.default_resp=b.asset.default_resp.name,j.DuplicateAsset(b.asset,s).then(function(e){b.changeAsset(e),S.unblockScreen()},function(){S.unblockScreen()})})}function m(e,t,s){return(e||t)&&(e&&!t||!e&&t||e[s]!=t[s]||e.domain_id!=t.domain_id)}function y(){var s,t;"3"==w.getLoggedUserType()?l.ViewersChangesModal():(s="This asset will be added to Audaxware enterprise. Are you sure?",t="Asset was duplicated to Audaxware. An email was sent to this enterprise users.",1==b.asset.approval_modify_aw_asset&&(s="By accepting this request the original asset on Audaxware database will be replaced. Do you wish to continue?",t="Audaxware asset was updated. An email was sent to this enterprise users."),T.show({templateUrl:"app/Assets/Modals/AddAssetToAWConfirmation.html",controller:["$mdDialog","toastr",function(e,t){this.confirmationMsg=s,this.accept=function(){e.hide("accept")},this.reject=function(){e.hide(this.comment)},this.close=function(){e.hide("close")}}],controllerAs:"ctrl",fullscreen:!0}).then(function(e){"accept"==e?(S.blockScreen(),A.genericController.update({controller:"Assets",action:"ApproveRequest",domain_id:w.getLoggedDomain(),project_id:b.asset.asset_id,phase_id:b.asset.approval_modify_aw_asset},null,function(e){S.unblockScreen(),n.success(t),k.domain_id=e.domain_id,k.asset_id=e.asset_id,a(!0)},function(e){n.error("Error trying to request update, please contact the technical support"),S.unblockScreen()})):"close"!=e&&(S.blockScreen(),A.genericController.update({controller:"Assets",action:"DenyRequest",domain_id:w.getLoggedDomain(),project_id:b.asset.asset_id,phase_id:null!=b.asset.approval_modify_aw_asset&&b.asset.approval_modify_aw_asset,department_id:e},null,function(e){S.unblockScreen(),n.success("The request was denied sucessfully and the asset was removed. An email was sent to this enterprise users."),g()},function(e){n.error("Error trying to request update, please contact the technical support"),S.unblockScreen()}))}))}function h(){"3"==w.getLoggedUserType()?l.ViewersChangesModal():1==b.asset.domain_id?n.error("Only assets from your Enterprise are allowed. Please do another selection."):T.show({templateUrl:"app/Assets/Modals/RequestToAddToAudaxware.html",controller:["$mdDialog","toastr",function(e,t){this.custom=b.asset.isCustom,this.asset_code=b.asset.asset_code.substring(0,b.asset.asset_code.length-1),this.save=function(){e.hide(this.data)},this.close=function(){e.hide()}}],controllerAs:"ctrl",fullscreen:!0}).then(function(e){null!=e&&(S.blockScreen(),A.genericController.update({controller:"Assets",action:"AddAssetRequest",domain_id:w.getLoggedDomain(),project_id:b.asset.asset_id},e,function(e){S.unblockScreen(),n.success("An email was sent to Audaxware requesting the update.")},function(e){n.error("Error trying to request update, please contact the technical support"),S.unblockScreen()}))})}b.asset={},a(),b.controllerParams={domain_id:w.getLoggedDomain()},b.reloadSubategories=function(t){if(b.asset.categorySelected)return A.genericController.query(i("Subcategories","All",w.getLoggedDomain(),b.asset.categorySelected.domain_id,b.asset.categorySelected.category_id),function(e){b.subcategories=e,b.asset.assets_subcategory=t?e.find(function(e){return e.domain_id==b.asset.assets_subcategory.domain_id&&e.subcategory_id==b.asset.assets_subcategory.subcategory_id}):null},function(){n.error("Error to retrieve data from server, please contact technical support")})},b.changeAsset=function(e,t){D.go("assetsWorkspace.assetsDetails",{domain_id:e.domain_id,asset_id:e.asset_id},{reload:t})},b.assetProperties=r,b.placementList=o,b.querySearch=function(e,t,s,a){var n;return e?(b.asset[s]=e,n=angular.lowercase(e),t.filter(function(e){return-1<angular.lowercase(e).indexOf(n)})):t},b.toggleDiscontinued=function(){b.asset.discontinued&&!b.alternate_assets&&u()},b.saveAux=function(a,n){return v(function(t,e){var s;null!=b.asset.default_resp.name&&(s=b.asset.default_resp,b.asset.default_resp=s.name),j.UpdateAsset(i("assets","Item",null,a.asset_id),a,n?"Asset Duplicated":"Asset Updated").then(function(e){n||c(e),t(e)},function(){e()})})},b.editAssetCode=function(){"3"==w.getLoggedUserType()?l.ViewersChangesModal():l.openModal("app/Assets/Modals/EditAssetCode.html","EditAssetCodeCtrl",null,!0).then(function(e){b.asset.asset_code=e})},b.showDifferences=function(){l.openModal("app/Assets/Modals/CustomizedDifferences.html","CustomizedDifferencesCtrl",{customizedAsset:b.asset},!0)},b.downloadFile=function(e,t,s,a){window.open(C.generic("filestream","file",t,e,s,a),"_self")},b.showPopover=function(){b.popoverIsVisible=!0},b.hidePopover=function(){b.popoverIsVisible=!1},b.downloadPhoto=function(e,t){return C.generic("filestream","file",t,e,"photo")},b.$watch("selectedTab",function(e,t){1==e&&0==t&&(S.blockScreen(),e=[{field:"projectDescription",title:"Project",width:250,template:function(e){return $.GetProjectLinkTemplate(e)},lockable:!1},{field:"quantity",title:"Quantity",width:150}],t={transport:{read:{url:C.generic("assets","Project",b.loggedDomain,k.domain_id,k.asset_id),headers:{Authorization:"Bearer "+w.getAccessToken()}},error:function(){S.unblockScreen(),n.error("Error to retrieve used in projects from server, please contact technical support")}}},b.options=$.getStructure(t,e,null,{groupable:!1,noRecords:"This asset is not being used in any projects",height:window.innerHeight-220}),S.unblockScreen(),b.dataBound=function(){$.dataBound(b.projectsGrid)})}),b.$watch("asset.jsn",function(e,t){e=null==e?null:e.id;e!=(null==t?null:t.id)&&null!=b.asset.jsn&&e!=b.asset.jsn_id&&l.Confirm("Asset Update","Do you want to replace the asset utilities?").then(function(){b.updatejsn=b.asset.jsn})}),b.$watch("asset",function(e,t){var s,a,n,i,o,r,l;b.detailsForm&&b.detailsForm.$dirty&&(s=!1,a=JSON.parse(JSON.stringify(e)),n=JSON.parse(JSON.stringify(t)),a.default_resp=n.default_resp=null,a.manufacturer=n.manufacturer=null,a.assets_subcategory=n.assets_subcategory=null,a.categorySelected=n.categorySelected=null,a.asset_description=n.asset_description=null,i=(a.updated_at=n.updated_at=null)==t.default_resp.name?t.default_resp:t.default_resp.name,o=null==e.default_resp.name?e.default_resp:e.default_resp.name,r=null!=t.alternate_asset?null==t.alternate_asset.asset_id||null==t.alternate_asset.asset_id?t.alternate_asset:t.alternate_asset.asset_id:null,l=null!=e.alternate_asset?null==e.alternate_asset.asset_id||null==e.alternate_asset.asset_id?e.alternate_asset:e.alternate_asset.asset_id:null,(null!=i&&i!=o||null!=r&&r!=l||m(e.manufacturer,t.manufacturer,"manufacturer_id")||m(e.assets_subcategory,t.assets_subcategory,"subcategory_id")||m(e.categorySelected,t.categorySelected,"category_id"))&&(s=!0),angular.equals(a,n)&&!s||b.$emit("itemHasChanges"))},!0),b.$on("saveData",function(e,t){d().then(function(){b.$emit("dataSaved",t)})})})}]);
xPlanner.controller("AssetsListCtrl",["$scope","AssetsService","GridService","DialogService","ProgressService","WebApiService","toastr","AuthService","HttpService","$state","GridViewService","KendoGridService","$filter","UtilsService","$q",function(l,i,d,n,s,t,a,o,r,c,h,p,m,u,e){l.$emit("initialTab","assets");var f="assetsListGrid",g=u.GetJSNAttributesLabel(),w=u.GetJSNUtilities(),_=(l.logged_domain=o.getLoggedDomain(),l.grid_content_height=window.innerHeight-200,l.isLoggedAsAudaxware=o.isAudaxwareDomainAndEmail(),window.downloadFile=function(e,i,t){window.open(r.generic("filestream","file",i,e,t),"_self")},[{headerTemplate:p.GetSelectAllTemplate(f),template:function(e){return p.GetSelectRowTemplate(e.asset_id)},width:"4em"},{field:"asset_code",title:"Code",width:110},{field:"photo",title:"Photo",width:100,filterable:!1,template:function(e){return e.photo?'<section align=center><i onmouseover="showPhoto(this,'+e.domain_id+", '"+e.photo+'\')" onmouseout="hidePhoto(this)" class="material-icons">visibility</i><section align=center class="image_popover grid-column"><img title="loading..." src="images/loading_picture.png" class="loading"></section></section>':""}},{field:"serial_number",title:"Model No.",width:120},{field:"serial_name",title:"Model Name",width:140},{field:"asset_description",title:"Description",width:250},{field:"default_resp",title:"Resp",width:150},{field:"manufacturer_description",title:"Manufacturer",width:150},{field:"asset_category",title:"Category",width:120,filterable:{multi:!0,search:!0}},{field:"asset_subcategory",title:"Subcategory",width:140,filterable:{multi:!0,search:!0}},{field:"owner_name",title:"Owner",width:110},{headerTemplate:'<div align=center class="comment-header"><i class="material-icons no-button" title="Comment">comment</i></div>',width:70,field:"comment",filterable:!1,sortable:!1,template:"#= comment #"},{field:"cut_sheet",title:"Spec",width:"90px",filterable:!1,template:"#= cut_sheet #"},{field:"cad_block",title:"CAD block",width:"120px",filterable:!1,template:"#= cad_block #"},{field:"revit",title:"Revit",width:"90px",filterable:!1,template:"#= revit #"},{field:"updated_at",title:"Last Update",width:150,template:"#: updated_at ? kendo.toString(kendo.parseDate(updated_at), \"MM/dd/yyyy\") : '' #"},{field:"discontinued",title:"Disc",width:80,filterable:!1,template:function(e){return e.discontinued?p.GetCheckIconTemplate():""},hidden:!0},{field:"alternate_asset",title:"Alternate Asset",width:180,hidden:!0},{field:"medgas",title:"Gases description",width:"180px",hidden:!0},{field:"medgas_option",title:"Gases Required",width:"170px",hidden:!0},{field:"medgas_oxygen",title:"Oxygen",width:"115px",hidden:!0},{field:"medgas_air",title:"MedAir",width:"115px",hidden:!0},{field:"medgas_n2o",title:"N2O",width:"100px",hidden:!0},{field:"medgas_co2",title:"CO2",width:"100px",hidden:!0},{field:"medgas_wag",title:"WAG",width:"100px",hidden:!0},{field:"medgas_other",title:"Air Low Pressure",width:"120px",hidden:!0},{field:"medgas_high_pressure",title:"Air High Pressure",width:"120px",hidden:!0},{field:"medgas_nitrogen",title:"Nitrogen",width:"120px",hidden:!0},{field:"medgas_vacuum",title:"Vacuum",width:"110px",hidden:!0},{field:"medgas_steam",title:"Steam",width:"115px",hidden:!0},{field:"medgas_natgas",title:"NatGas",width:"120px",hidden:!0},{field:"gas_liquid_co2",title:"Liquid CO2",width:"120px",hidden:!0},{field:"gas_liquid_nitrogen",title:"Liquid Nitrogen",width:"120px",hidden:!0},{field:"gas_instrument_air",title:"Instrument Air",width:"120px",hidden:!0},{field:"gas_liquid_propane_gas",title:"Liquid Propane Gas",width:"120px",hidden:!0},{field:"gas_methane",title:"Methane",width:"120px",hidden:!0},{field:"gas_butane",title:"Butane",width:"120px",hidden:!0},{field:"gas_propane",title:"Propane",width:"120px",hidden:!0},{field:"gas_hydrogen",title:"Hydrogen",width:"120px",hidden:!0},{field:"gas_acetylene",title:"Acetylene",width:"120px",hidden:!0},{field:"connection_type",title:"Connection Type",width:"150px",hidden:!0,template:"<div align=center>#: connection_type ? connection_type : '' #</div>"},{field:"misc_antimicrobial",title:"Antimicrobial",width:"150px",hidden:!0},{field:"misc_ecolabel",title:"Eco-Label",width:"130px",hidden:!0},{field:"misc_ecolabel_desc",title:"Eco-Label Description",width:"190px",hidden:!0},{field:"plumbing",title:"Pumbling Description",width:"200px",hidden:!0},{field:"plumbing_option",title:"Plumbing Required",width:"200px",hidden:!0},{field:"plu_hot_water",title:"Hot Water",width:"130px",hidden:!0},{field:"plu_cold_water",title:"Cold Water",width:"130px",hidden:!0},{field:"plu_drain",title:"Drain",width:"110px",hidden:!0},{field:"plu_return",title:"Return",width:"110px",hidden:!0},{field:"plu_treated_water",title:"Treated Water",width:"150px",hidden:!0},{field:"plu_chilled_water",title:"Chilled Water",width:"150px",hidden:!0},{field:"plu_relief",title:"Relief",width:"120px",hidden:!0},{field:"water",title:"Exhaust Description",width:"180px",hidden:!0},{field:"water_option",title:"Exhaust Required",width:"180px",hidden:!0},{field:"cfm",title:"CFM",width:"100px",hidden:!0,template:"<div align=center>#: cfm ? cfm : '' #</div>"},{field:"btus",title:"BTUs",width:"100px",hidden:!0,template:"<div align=center>#: btus ? btus : '' #</div>"},{field:"data_desc",title:"Data Description",width:"180px",hidden:!0},{field:"data_option",title:"Data Required",width:"150px",hidden:!0},{field:"bluetooth",title:"Bluetooth",width:"115px",hidden:!0,template:"<div align=center>#: bluetooth ? 'Yes' : '--' #</div>"},{field:"cat6",title:"Cat6",width:"115px",hidden:!0,template:"<div align=center>#: cat6 ? 'Yes' : '--' #</div>"},{field:"displayport",title:"Displayport",width:"115px",hidden:!0,template:"<div align=center>#: displayport ? 'Yes' : '--' #</div>"},{field:"dvi",title:"DVI",width:"115px",hidden:!0,template:"<div align=center>#: dvi ? 'Yes' : '--' #</div>"},{field:"hdmi",title:"HDMI",width:"115px",hidden:!0,template:"<div align=center>#: hdmi ? 'Yes' : '--' #</div>"},{field:"wireless",title:"Wireless",width:"115px",hidden:!0,template:"<div align=center>#: wireless ? 'Yes' : '--' #</div>"},{field:"ports",title:"Ports",width:"100px",hidden:!0,template:"<div align=center>#: ports ? ports : '--' #</div>"},{field:"electrical",title:"Electrical Description",width:"180px",hidden:!0},{field:"electrical_option",title:"Electrical Required",width:"180px",hidden:!0},{field:"volts",title:"Volts",width:"100px",hidden:!0,template:"<div align=center>#: volts ? volts : '' #</div>"},{field:"phases",title:"Phases",width:"100px",hidden:!0,template:"<div align=center>#: phases ? phases : '' #</div>"},{field:"hertz",title:"Hertz",width:"100px",hidden:!0,template:"<div align=center>#: hertz ? hertz : '' #</div>"},{field:"amps",title:"Amps",width:"100px",hidden:!0,template:"<div align=center>#: amps ? amps : '' #</div>"},{field:"volt_amps",title:"VoltAmps",width:"115px",hidden:!0,template:"<div align=center>#: volt_amps ? volt_amps : '' #</div>"},{field:"plug_type",title:"Plug Type",width:"150px",hidden:!0,template:"<div align=center>#: plug_type ? plug_type : '' #</div>"},{field:"watts",title:"Watts",width:"100px",hidden:!0},{field:"blocking",title:"Blocking Description",width:"190px",hidden:!0},{field:"blocking_option",title:"Blocking Required",width:"185px",hidden:!0},{field:"supports",title:"Structural Description",width:"190px",hidden:!0},{field:"supports_option",title:"Structural Required",width:"185px",hidden:!0},{field:"misc_seismic",title:"Seismic Rated",width:"150px",hidden:!0},{field:"misc_ase",title:"ASE",width:"100px",hidden:!0},{field:"misc_ada",title:"ADA",width:"100px",hidden:!0},{field:"misc_shielding_lead_line",title:"Shielding, Lead Lined",width:"100px",hidden:!0},{field:"misc_shielding_magnetic",title:"Shielding, RF/Magnetic",width:"100px",hidden:!0},{field:"mobile",title:"Mobile Description",width:"185px",hidden:!0},{field:"mobile_option",title:"Mobile",width:"180px",hidden:!0},{field:"height",title:"Height(in)",width:"130px",hidden:!0,template:"<div align=center>#: height ? height : '' #</div>"},{field:"width",title:"Width(in)",width:"130px",hidden:!0,template:"<div align=center>#: width ? width : '' #</div>"},{field:"depth",title:"Depth(in)",width:"130px",hidden:!0,template:"<div align=center>#: depth || '' #</div>"},{field:"mounting_height",title:"Mounting Height(in)",width:"190px",hidden:!0,template:"<div align=center>#: mounting_height || '' #</div>"},{field:"clearance_top",title:"Top Clearance(in)",width:"170px",hidden:!0,template:"<div align=center>#: clearance_top || '' #</div>"},{field:"clearance_bottom",title:"Bottom Clearance(in)",width:"180px",hidden:!0,template:"<div align=center>#: clearance_bottom || '' #</div>"},{field:"clearance_right",title:"Right Clearance(in)",width:"175px",hidden:!0,template:"<div align=center>#: clearance_right || '' #</div>"},{field:"clearance_left",title:"Left Clearance(in)",width:"175px",hidden:!0,template:"<div align=center>#: clearance_left || '' #</div>"},{field:"clearance_front",title:"Front Clearance(in)",width:"175px",hidden:!0,template:"<div align=center>#: clearance_front || '' #</div>"},{field:"clearance_back",title:"Back Clearance(in)",width:"180px",hidden:!0,template:"<div align=center>#: clearance_back || '' #</div>"},{field:"weight",title:"Weight(lb)",width:"140px",hidden:!0,template:"<div align=center>#: weight || '' #</div>"},{field:"loaded_weight",title:"Loaded Weight(lb)",width:"180px",hidden:!0,template:"<div align=center>#: loaded_weight || '' #</div>"},{field:"ship_weight",title:"Ship Weight(lb)",width:"170px",hidden:!0,template:"<div align=center>#: ship_weight || '' #</div>"},{field:"class",title:"Class",width:"150px",filterable:!0,hidden:!0},{field:"imported_by_project",title:"Imported From Project",width:"220px",filterable:!0,hidden:!0},{field:"jsn_code",title:g.jsn_code,width:"185px",hidden:!0},{field:"jsn_nomenclature",title:"JSN Nomenclature",width:"185px",hidden:!0},{field:"jsn_description",title:g.jsn_description,width:150,filterable:!1,sortable:!1,hidden:!0,template:"#= jsn_description #"},{field:"jsn_comments",title:"JSN Comments",width:150,filterable:!1,sortable:!1,hidden:!0,template:"#= jsn_comments #"},{headerTemplate:'<div align=center class="comment-header">'+g.jsn_utility1+'<i style="vertical-align:middle;font-size:18px" class="material-icons no-button" title="'+w.u1+'">info</i></div>',field:"jsn_utility1",title:g.jsn_utility1,width:"100px",hidden:!0},{headerTemplate:'<div align=center class="comment-header">'+g.jsn_utility2+'<i style="vertical-align:middle;font-size:18px" class="material-icons no-button" title="'+w.u2+'">info</i></div>',field:"jsn_utility2",title:g.jsn_utility2,width:"100px",hidden:!0},{headerTemplate:'<div align=center class="comment-header">'+g.jsn_utility3+'<i style="vertical-align:middle;font-size:18px" class="material-icons no-button" title="'+w.u3+'">info</i></div>',field:"jsn_utility3",title:g.jsn_utility3,width:"100px",hidden:!0},{headerTemplate:'<div align=center class="comment-header">'+g.jsn_utility4+'<i style="vertical-align:middle;font-size:18px" class="material-icons no-button" title="'+w.u4+'">info</i></div>',field:"jsn_utility4",title:g.jsn_utility4,width:"100px",hidden:!0},{headerTemplate:'<div align=center class="comment-header">'+g.jsn_utility5+'<i style="vertical-align:middle;font-size:18px" class="material-icons no-button" title="'+w.u5+'">info</i></div>',field:"jsn_utility5",title:g.jsn_utility5,width:"100px",hidden:!0},{headerTemplate:'<div align=center class="comment-header">'+g.jsn_utility6+'<i style="vertical-align:middle;font-size:18px" class="material-icons no-button" title="'+w.u6+'">info</i></div>',field:"jsn_utility6",title:g.jsn_utility6,width:"100px",hidden:!0}]),v=(l.isLoggedAsAudaxware&&_.splice(1,0,{field:"approval_pending",title:"Approval Pending",width:200,template:function(e){return e.approval_pending?p.GetCheckIconTemplate():""}}),{data:[],schema:{model:{id:"id",fields:{comment:{type:"string"},cut_sheet:{type:"string"},cad_block:{type:"string"},revit:{type:"string"},photo:{type:"string"},owner_name:{type:"string"},asset_description:{type:"string"},updated_at:{type:"string"},jsn_description:{type:"string"},jsn_comments:{type:"string"}}}}}),x={excel:{fileName:"Assets Catalog.xlsx",allPages:!0,filterable:!0}},b=null,y=null,S=null;function L(){var i;(i=l.assetsListGrid)&&i.tbody.find("tr").dblclick(function(){var e=i.dataItem(this);l.showDetails(e)}),p.DataBound(l.assetsListGrid,"assetList-grid-state"),p.UnselectAll(l.assetsListGrid)}function A(e){i.GetDomainAssets(e).then(function(e){b=u.GetAssetAttributesLabel(e,!0),e=JSON.parse(JSON.stringify(e)),y=e.map(function(e){return e.owner_name=m("capitalize")(e.owner_name),e.id=e.domain_id.toString()+e.asset_id.toString(),e.asset_description=e.asset_suffix,e.comment=e.comment?e.comment.replace('<div align=center><i class="material-icons" title="',"").replace('">comment</i></div>',""):"",e.photo=e.photo?"TRUE":"FALSE",e.cut_sheet=e.cut_sheet?"TRUE":"FALSE",e.cad_block=e.cad_block?"TRUE":"FALSE",e.revit=e.revit?"TRUE":"FALSE",e.discontinued=e.discontinued?"TRUE":"FALSE",e.jsn_description=e.jsn_description?e.jsn_description.replace('<div align=center><i class="material-icons" title="',"").replace('">comment</i></div>',""):"",e.jsn_comments=e.jsn_comments?e.jsn_comments.replace('<div align=center><i class="material-icons" title="',"").replace('">comment</i></div>',""):"",e}),p.SetSavedState(l.assetsListGrid,b,"assetList-grid-state",{controller:"GridView",action:"Item",domain_id:"assets_database",project_id:"(Default)",phase_id:o.getLoggedDomain()},l.grid_content_height,null,null,angular.extend({},{dataBound:L},p.GetStructure(v,_,null,{groupable:!0,reorderable:!0,noRecords:"No assets available",height:window.innerHeight-130},{pageSizeDefault:500,pageSizes:[100,500,1e3,5e3,1e4,2e4]},x)),null,L).then(function(){p.InitiateGridEvents(l.assetsListGrid,f),t.genericController.query({controller:"GridView",action:"All",domain_id:"assets_database",project_id:o.getLoggedDomain()},function(e){l.views=e})},function(){a.error("Error to try retrieve the grid state, please contact the technical support")}),s.unblockScreen()},function(){s.unblockScreen(),a.error("Error to retrieve assets from server, please contact technical support")})}s.blockScreen(),l.assetsListGrid=$("#assetsListGrid").kendoGrid().data("kendoGrid"),A(),l.loadView=function(e){h.loadView(l.assetsListGrid,e,l.grid_content_height,b).then(function(){l.viewSelected=e,l.viewName=h.isSystemView(e.name)?null:e.name})},l.saveView=function(e){h.saveView(l.assetsListGrid,"assets_database",e,l.views).then(function(e){e.updatedView?(l.views[l.views.indexOf(e.updatedView)].grid_state=e.newView.grid_state,l.viewSelected=l.views[l.views.indexOf(e.updatedView)]):(l.views.push(e.newView),l.viewSelected=e.newView),l.viewName=e.newView.name})},l.deleteView=function(e){h.deleteView(e).then(function(){l.views.splice(l.views.indexOf(e),1),l.viewName=null})},l.search=function(t){var d,e=b||l.assetsListGrid.dataSource.data();p.UnselectAll(l.assetsListGrid),t?(t=t.toLowerCase(),d=l.assetsListGrid.columns,S=y.filter(function(e){for(var i=1;i<d.length;i++)if("comment"!=d[i].field&&"photo"!=d[i].field&&"cut_sheet"!=d[i].field&&"revit"!=d[i].field&&"cad_block"!=d[i].field&&"jsn_description"!=d[i].field&&"jsn_comments"!=d[i].field&&!d[i].hidden&&-1<String(e[d[i].field]).toLowerCase().indexOf(t))return!0}),l.assetsListGrid.dataSource.data(e.filter(function(e){for(var i=1;i<d.length;i++)if("comment"!=d[i].field&&"photo"!=d[i].field&&"cut_sheet"!=d[i].field&&"revit"!=d[i].field&&"cad_block"!=d[i].field&&"jsn_description"!=d[i].field&&"jsn_comments"!=d[i].field&&!d[i].hidden&&-1<String(e[d[i].field]).toLowerCase().indexOf(t))return!0}))):(l.assetsListGrid.dataSource.data(b),S=null)},l.clearAllFilters=function(e){l.searchBoxValue=null,p.ClearFilters(l.assetsListGrid),l.search()},l.showDetails=function(e){if(!e){if(!p.VerifySelected("view details","asset",l.assetsListGrid,!0))return;e=p.GetSelecteds(l.assetsListGrid)[0]}s.blockScreen(),c.go("assetsWorkspace.assetsDetails",{domain_id:e.domain_id,asset_id:e.asset_id})},l.chooseDisplayedColumns=function(){s.blockScreen();var t=l.assetsListGrid.columns;n.openModal("app/Utils/Modals/DisplayColumns.html","DisplayColumnsCtrl",{columns:t}).then(function(e){e.forEach(function(e,i){e.hidden!=t[i].hidden&&(e.hidden?l.assetsListGrid.hideColumn(i):l.assetsListGrid.showColumn(i))}),s.unblockScreen()})},l.openAddModal=function(){"3"==o.getLoggedUserType()?n.ViewersChangesModal():n.openModal("app/Assets/Modals/AddAsset.html","AddAssetCtrl",null,!0)},l.delete=function(){"3"==o.getLoggedUserType()?n.ViewersChangesModal():p.VerifySelected("delete","asset",l.assetsListGrid)&&n.Confirm("Are you sure?","The asset(s) will be deleted permanently!").then(function(){s.blockScreen(),i.DeleteAssetsFromGrid(l.assetsListGrid,d.getSelecteds(l.assetsListGrid)).then(function(e){s.unblockScreen(),a.success("Asset(s) Deleted"),p.UnselectAll(l.assetsListGrid)},function(e){s.unblockScreen(),409==e.status&&a.info("Some assets are assigned to inventory and cannot be deleted"),p.UnselectAll(l.assetsListGrid)})})},l.collapseExpand=p.collapseExpand,l.closeToolbars=function(){l.showViewsOptions=!1},l.buttons=[{label:"Export to Excel (Will only export assets from your own enterprise)",icon:"file_simple",click:{func:function(e){s.blockScreen();var i=JSON.parse(JSON.stringify(l.assetsListGrid.dataSource.data())),t=null==S?JSON.parse(JSON.stringify(y)):JSON.parse(JSON.stringify(S));1!=l.logged_domain&&(t=t.filter(function(e){return e.domain_id==l.logged_domain})),l.assetsListGrid.dataSource.data(t),d.exportGrid(e,l.assetsListGrid),l.assetsListGrid.dataSource.data(i),s.unblockScreen()},params:"excel"},only_audaxware:!1},{label:"Import from Excel (Will only import assets to your own enterprise)",icon:"file_upload",click:{func:function(){"3"==o.getLoggedUserType()?n.ViewersChangesModal():n.openModal("app/Assets/Modals/UploadAssets.html","UploadAssetsCtrl",null).then(function(){A(!0),L()},function(e){})}},only_audaxware:!1},{label:"Regenerate all cutsheets",icon:"regenerate",click:{func:function(e){n.Confirm("CutSheets Generation","Do you want to regenerate the cutsheets again?").then(function(){s.blockScreen(),t.genericController.update({controller:"CutSheet",action:"All",domain_id:e},null,function(){a.success("The cutsheets were marked for regeneration"),s.unblockScreen()},function(){a.error("Error trying to mark cutsheets for regeneration"),s.unblockScreen()})})},params:o.getLoggedDomain()}}],window.assetImgLoaded=function(e){$(e).parent().children("img.loading").remove(),"true"==$(e).attr("toShow")&&$(e).show()},window.showPhoto=function(e,i,t){0<$(e).closest("section").children(".image_popover").children("img.loading").length?($(e).closest("section").children(".image_popover").children("img.loaded").length<=0&&($(e).closest("section").children(".image_popover").append('<img class="loaded" toShow="true" title="No picture" onload="assetImgLoaded(this)">'),$(e).closest("section").children(".image_popover").children("img.loaded").attr("src",r.generic("filestream","file",i,t,"photo"))),$(e).closest("section").children(".image_popover").children("img.loading").show()):$(e).closest("section").children(".image_popover").children("img.loading").length<=0&&$(e).closest("section").children(".image_popover").children("img.loaded").show(),$(e).closest("section").children(".image_popover").children("img").attr("toShow","true")},window.hidePhoto=function(e){$(e).closest("section").children(".image_popover").children("img").hide(),$(e).closest("section").children(".image_popover").children("img").attr("toShow","false")}}]);
xPlanner.controller("AssetsWorkspaceCtrl",["$scope","$state","AuthService","FabService","$stateParams","$timeout","DialogService","$q",function(t,s,a,e,n,o,i,c){a.isAuthenticated()?(hasChanges=!1,t.$on("initialTab",function(a,e){t.activeTab=e}),t.$on("itemHasChanges",function(){hasChanges=!0}),t.$on("dataSaved",function(a,e){hasChanges=!1,e&&s.go("assetsWorkspace."+e.params)}),t.goToWorspaceState=function(a){var n;n={params:a},c(function(e,s){hasChanges?i.SaveChangesModal().then(function(a){hasChanges=!1,(a?(t.$broadcast("saveData",n),s):e)()},function(){s()}):e()}).then(function(){s.go("assetsWorkspace."+a)})},t.tabs=[{name:"assets",visible:!0},{name:"manufacturers",visible:!a.isManufacturerDomain()},{name:"vendors",visible:!a.isManufacturerDomain()},{name:"categories",visible:!0}],t.chosen=e.chosen):(a.clearLocalStorage(),s.go("login"))}]);
xPlanner.controller("AssetVendorGridCtrl",["$scope","AuthService","HttpService","$stateParams","toastr","GridService","DialogService","AudaxwareDataService","$state","ProgressService","WebApiService",function(a,n,e,t,s,r,d,o,c,i,l){e={transport:{read:{url:e.generic("assetsVendor","All",t.domain_id,t.asset_id),headers:{Authorization:"Bearer "+n.getAccessToken()}}},schema:{model:{fields:{min_cost:{type:"number"},max_cost:{type:"number"},avg_cost:{type:"number"},last_cost:{type:"number"}}}},error:function(){s.error("Error to retrieve vendors from server, please contact the technical support")}};function u(t,s,r,e){"3"==n.getLoggedUserType()?d.ViewersChangesModal():d.openModal("app/Assets/Modals/AssignVendor.html","AssignVendorCtrl",{asset:t,edit:r,vendor:r?e:null},!0).then(function(e){s?a.changeAsset(t):r?a.assetVendorGrid.dataSource.read():a.assetVendorGrid.dataSource.add(angular.extend(e,{min_cost:0,max_cost:0,avg_cost:0,last_cost:null}))},function(){s&&a.changeAsset(t)})}a.options=r.getStructure(e,[{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(assetVendorGrid)" ng-checked="allPagesSelected(assetVendorGrid)" aria-label="checkbox" ng-click="select($event, assetVendorGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, assetVendorGrid)" ng-checked="isSelected(assetVendorGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"3em"},{field:"vendor.name",title:"Name",width:230,template:'<span class="link" ng-click="GoToVendor(dataItem)">#: vendor.name #</span>'},{field:"model_number",title:"Model No.",width:120},{field:"min_cost",title:"Min",width:100,template:'<aw-currency value="#= min_cost # "></aw-currency>'},{field:"max_cost",title:"Max",width:100,template:'<aw-currency value="#= max_cost # "></aw-currency>'},{field:"avg_cost",title:"Avg",width:100,template:'<aw-currency value="#= avg_cost # "></aw-currency>'},{field:"last_cost",title:"Last",width:100,template:'<aw-currency value="#= last_cost # "></aw-currency>'}],null,{reorderable:!0,noRecords:"No vendors available",height:350}),a.GoToVendor=function(e){e&&c.go("assetsWorkspace.vendorsDetails",{domain_id:e.vendor_domain_id,vendor_id:e.vendor_id})},a.dataBound=function(){var t;(t=a.assetVendorGrid)&&t.tbody.find("tr").dblclick(function(){var e=t.dataItem(this);a.addEdit(!0,e)}),r.dataBound(a.assetVendorGrid)},a.isSelected=r.isSelected,a.allSelected=r.allSelected,a.select=r.select,a.allPagesSelected=r.allPagesSelected,a.addEdit=function(t,s){"3"==n.getLoggedUserType()?d.ViewersChangesModal():t&&!s&&!r.verifySelected("edit","vendor",a.assetVendorGrid,!0)||o.CheckDuplicateAsset(a.asset).then(function(e){e?a.saveAux(a.asset,!0).then(function(e){u(e,!0,t,s||r.getSelecteds(a.assetVendorGrid)[0])}):u(a.asset,null,t,s||r.getSelecteds(a.assetVendorGrid)[0])})},a.delete=function(){"3"==n.getLoggedUserType()?d.ViewersChangesModal():r.verifySelected("delete","vendor",a.assetVendorGrid)&&o.CheckDuplicateAsset(a.asset,!0,"delete").then(function(e){e?a.saveAux(a.asset,!0).then(function(e){c.go("assetsWorkspace.assetsDetails",e)}):d.Confirm("Are you sure?","The vendor(s) will be deleted permanently").then(function(){i.blockScreen(),r.deleteItems(l.genericController,function(e){return{controller:"assetsVendor",action:"Item",domain_id:e.asset_domain_id,project_id:e.asset_id,phase_id:e.vendor_domain_id,department_id:e.vendor_id}},a.assetVendorGrid).then(function(){i.unblockScreen(),s.success("Vendor(s) Deleted")},function(e){409===e.status?s.info("Some, or all, of the vendors could not be deleted -- purchase orders have been issued"):s.error("Error to delete vendor(s), please contact the technical support"),i.unblockScreen()})})})}}]);
xPlanner.controller("AuditedListCtrl",["$scope","GridService","HttpService","AuthService","DialogService","ProgressService","toastr","$state",function(i,e,t,d,a,o,l,c){var r;function n(t){t&&t.tbody.find("tr").dblclick(function(){var e=t.dataItem(this);i.openAddEditModal(!0,e)})}d.isAuthenticated()?(o.blockScreen(),t={transport:{read:{url:t.generic("Audit","All",d.getLoggedDomain()),headers:{Authorization:"Bearer "+d.getAccessToken()}}},schema:{model:{id:"audit_log_id",fields:{modified_date:{type:"date"}}}},error:function(){l.error("Error to retrieve data from server, please contact technical support"),o.unblockScreen()}},r={groupable:!0,height:window.innerHeight-100,noRecords:"No audited data available"},i.options=e.getStructure(t,[{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(auditGrid)" ng-checked="allPagesSelected(auditGrid)" aria-label="checkbox" ng-click="select($event, auditGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, auditGrid)" ng-checked="isSelected(auditGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"5px"},{field:"project_description",title:"Project",width:"15px"},{field:"username",title:"User",width:"12px"},{field:"operation",title:"Operation",width:"10px"},{field:"table_name",title:"Table",width:"10px"},{field:"original",title:"Original",width:"20px"},{field:"modified",title:"Modified",width:"20px"},{field:"modified_date",title:"Modified Date",format:"{0:MM/dd/yyyy}",width:"12px",template:"#: modified_date ? kendo.toString(kendo.parseDate(modified_date), \"MM/dd/yyyy\") : '' #"}],{template:'<section layout="row" ng-cloack><section layout="row" layout-align="start center"><button class="md-icon-button md-button" style="color: black;" ng-click="openAddEditModal(true)"><i class="material-icons">visibility</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">View Audited Data</md-tooltip></button></section></section>'},r),i.dataBound=function(){n(i.auditGrid),e.dataBound(i.auditGrid),o.unblockScreen()},i.$on("kendoWidgetCreated",function(e,t){t===i.auditGrid&&n(i.auditGrid)}),i.isSelected=e.isSelected,i.allSelected=e.allSelected,i.select=e.select,i.allPagesSelected=e.allPagesSelected,i.openAddEditModal=function(){e.verifySelected("edit","audit",i.auditGrid,!0)&&(item=e.getSelecteds(i.auditGrid)[0],a.openModal("app/Audit/Modals/ViewAudited.html","ViewAuditedCtrl",{audit:item}).then(function(){}))}):(d.clearLocalStorage(),c.go("login"))}]);
xPlanner.controller("BundleDetailsCtrl",["$scope","AuthService","ProgressService","WebApiService","$stateParams","HttpService","GridService","$state",function(i,l,o,e,t,a,d,s){i.$emit("initialTab","bundles");var c=l.getLoggedDomain();function n(){s.go("assetsWorkspace.bundles")}i.canModify=!0,i.projectParams={domain_id:c},i.gridHeight=300,o.blockScreen(),e.genericController.get({controller:"bundle",action:"Item",domain_id:t.domain_id,project_id:t.bundle_id},function(e){i.bundle=e,o.unblockScreen();var e=[{field:"asset.asset_code",title:"Code",width:300},{field:"asset.asset_description",title:"Description",width:300},{field:"asset.serial_number",title:"Model No.",width:200},{field:"asset.serial_name",title:"Model Name",width:230},{field:"manufacturer",title:"Manufacturer",width:150}],t=(i.canModify&&e.splice(0,0,{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(bundleAssetsGrid)" ng-checked="allPagesSelected(bundleAssetsGrid)" aria-label="checkbox" ng-click="select($event, bundleAssetsGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, bundleAssetsGrid)" ng-checked="isSelected(bundleAssetsGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"3em"}),{transport:{read:{url:a.generic("bundleAsset","All",i.bundle.domain_id,i.bundle.bundle_id),headers:{Authorization:"Bearer "+l.getAccessToken()}},error:function(){toastr.error("Error to retrieve data from server, please contact technical support")}},schema:{model:{id:"domain_id_asset_id"},parse:function(e){return e.map(function(e){return e.domain_id_asset_id=e.domain_id.toString()+e.asset_id.toString(),e})}}});i.options=d.getStructure(t,e,{template:'<section layout="row" ng-cloack><section layout="row" layout-align="start center" class="gray-color"><button class="md-icon-button md-button" ng-click="addAsset()"><i class="material-icons">add</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Add Asset</md-tooltip></button><button class="md-icon-button md-button" ng-click="deleteAsset()"><i class="material-icons">delete</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Delete Asset</md-tooltip></button></section></section>'},{noRecords:"No assets available",height:i.gridHeight,groupable:!0})}),i.canModify&&(i.isSelected=d.isSelected,i.allSelected=d.allSelected,i.select=d.select,i.allPagesSelected=d.allPagesSelected),i.buttons=[{label:"Save",icon:"save",click:n,displayConditionally:!0},{label:"Delete",icon:"delete_forever",click:n,displayConditionally:!0},{label:"Back to List",icon:"reply",click:n}],i.buttons.state=!0}]);
xPlanner.controller("BundleListCtrl",["$scope","HttpService","GridService","ProgressService","toastr","AuthService","DialogService","$state",function(d,e,i,t,n,l,o,a){d.$emit("initialTab","bundles");e={transport:{read:{url:e.generic("bundle","All",l.getLoggedDomain()),headers:{Authorization:"Bearer "+l.getAccessToken()}},error:function(){n.error("Error to retrieve data from server, please contact technical support")}},schema:{model:{id:"bundle_domain_id"},parse:function(e){return e.map(function(e){return e.bundle_domain_id=e.domain_id.toString()+e.bundle_id.toString(),e.project&&(e.project=e.project.project_description),e})}}};d.options=i.getStructure(e,[{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(bundlesListGrid)" ng-checked="allPagesSelected(bundlesListGrid)" aria-label="checkbox" ng-click="select($event, bundlesListGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, bundlesListGrid)" ng-checked="isSelected(bundlesListGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"3em"},{field:"name",title:"Bundle",width:300},{field:"project",title:"Related Project",width:300},{field:"date_added",title:"Date Added",width:200,template:"#: date_added ? kendo.toString(kendo.parseDate(date_added), \"MM-dd-yyyy\") : '' #"},{field:"added_by",title:"Added By",width:230},{field:"domain.name",title:"Owner",template:"{{ dataItem.domain.name | capitalize }}",width:150},{headerTemplate:'<section layout="row" layout-align="center end"><button style="margin-left: -0.25em; padding-bottom: 0.2em;" class="md-icon-button md-button no-button"><i class="material-icons no-button">comment</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Comment</md-tooltip></button></section>',template:'<div ng-if=" #: comment != null && comment != \'\' # " align=center><md-icon class="no-button grid-item-color">comment</md-icon><md-tooltip md-direction="bottom">#: comment #</md-tooltip></div>',width:70}],null,{noRecords:"No bundles available",height:window.innerHeight-170,groupable:!0}),d.dataBound=function(){var t;(t=d.bundlesListGrid)&&t.tbody.find("tr").dblclick(function(){var e=t.dataItem(this);d.showDetails(e)}),i.dataBound(d.bundlesListGrid)},d.isSelected=i.isSelected,d.allSelected=i.allSelected,d.select=i.select,d.allPagesSelected=i.allPagesSelected,d.collapseExpand=i.collapseExpand,d.showDetails=function(e){if(!e){if(!i.verifySelected("view details","bundle",d.bundlesListGrid,!0))return;e=i.getSelecteds(d.bundlesListGrid)[0]}i.unselectAll(d.bundlesListGrid),a.go("assetsWorkspace.bundlesDetails",{domain_id:e.domain_id,bundle_id:e.bundle_id})},d.openAddModal=function(){},d.delete=function(){}}]);
xPlanner.controller("CategoriesListCtrl",["$scope","AuthService","HttpService","GridService","DialogService","ProgressService","WebApiService","toastr","SettingsDropDown","$q","AudaxwareDataService","CheckboxEditor","FileService",function(a,r,t,c,d,o,l,n,e,s,g,i,u){a.$emit("initialTab","categories"),a.grid_content_height=window.innerHeight-180,a.logged_domain=r.getLoggedDomain();e=[{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(categoryListGrid)" ng-checked="allPagesSelected(categoryListGrid)" aria-label="checkbox" ng-click="select($event, categoryListGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, categoryListGrid)" ng-checked="isSelected(categoryListGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"3em"},{field:"description",title:"Description",width:200},{field:"domain.name",title:"Owner",width:150},{field:"hvac",title:"HVAC",width:100,filterable:!0,template:"#: hvac === 'E' ? 'Enabled' : hvac === 'D' ? 'Disabled' : hvac === 'R' ? 'Required' : '' #",editor:e},{field:"plumbing",title:"Plumbing",width:120,filterable:!0,template:"#: plumbing === 'E' ? 'Enabled' : plumbing === 'D' ? 'Disabled' : plumbing === 'R' ? 'Required' : '' #",editor:e},{field:"gases",title:"Gases",width:100,filterable:!0,template:"#: gases === 'E' ? 'Enabled' : gases === 'D' ? 'Disabled' : gases === 'R' ? 'Required' : '' #",editor:e},{field:"it",title:"IT",width:100,filterable:!0,template:"#: it === 'E' ? 'Enabled' : it === 'D' ? 'Disabled' : it === 'R' ? 'Required' : '' #",editor:e,hidden:!0},{field:"electrical",title:"Electrical",width:110,filterable:!0,template:"#: electrical === 'E' ? 'Enabled' : electrical === 'D' ? 'Disabled' : electrical === 'R' ? 'Required' : '' #",editor:e,hidden:!0},{field:"support",title:"Support",width:100,filterable:!0,template:"#: support === 'E' ? 'Enabled' : support === 'D' ? 'Disabled' : support === 'R' ? 'Required' : '' #",editor:e,hidden:!0},{field:"physical",title:"Physical",width:100,filterable:!0,template:"#: physical === 'E' ? 'Enabled' : physical === 'D' ? 'Disabled' : physical === 'R' ? 'Required' : '' #",editor:e,hidden:!0},{field:"environmental",title:"Environmental",width:100,filterable:!0,template:"#: environmental === 'E' ? 'Enabled' : environmental === 'D' ? 'Disabled' : environmental === 'R' ? 'Required' : '' #",editor:e,hidden:!0}];function m(e){return{template:'<section layout="row" ng-cloak><section layout="row" layout-align="start center" flex="85"><button class="md-icon-button md-button" ng-click="add(\''+e+'\')"><i class="material-icons">add</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Add '+e.charAt(0).toUpperCase()+e.substring(1)+'</md-tooltip></button><button class="md-icon-button md-button" ng-click="saveChanges(\''+e+'\')" ng-disabled="getChangedItems('+e+'ListGrid).length === 0"><i class="material-icons">save</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Save Changes</md-tooltip></button><button class="md-icon-button md-button" ng-click="delete(\''+e+'\')" ng-disabled="!hasNoAudaxwareItems('+e+'ListGrid)"><i class="material-icons">delete</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Delete '+e.charAt(0).toUpperCase()+e.substring(1)+'</md-tooltip></button><button class="md-icon-button md-button" ng-click="showDetails(\''+e+'\')" ng-disabled="!hasNoAudaxwareItems('+e+'ListGrid)"><i class="material-icons">edit</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Edit '+e.charAt(0).toUpperCase()+e.substring(1)+'</md-tooltip></button></section><section layout="row" layout-align="end center" flex="15"><button class="md-icon-button md-button" ng-click="collapseExpand('+e+'ListGrid)"><md-icon md-svg-icon="collapse_expand"></md-icon><md-tooltip md-direction="bottom">Collapse/Expand All</md-tooltip></button></section></section>'}}function p(e){return"category"===e?{transport:{read:{url:t.generic("categories","All",a.logged_domain),headers:{Authorization:"Bearer "+r.getAccessToken()}}},schema:{model:{fields:{description:{type:"string",editable:!1},"domain.name":{type:"string",editable:!1}}}},error:function(){n.error("Error to retrieve data from server, please contact technical support")},sort:{field:"description",dir:"asc"}}:{data:[],schema:{model:{fields:{description:{type:"string",editable:!1},category_description:{type:"string",editable:!1},use_category_settings:{type:"boolean"}}}},sort:[{field:"category_description",dir:"asc"},{field:"description",dir:"asc"}]}}var b={columnMenu:{columns:!0,sortable:!1,messages:{columns:"Columns",filter:"Filter"}},noRecords:"No categories available",groupable:!0,height:a.grid_content_height,editable:!0};function h(){var e=angular.extend({controller:"subcategories",domain_id:a.logged_domain},a.clickedCategory?{action:"All",project_id:a.clickedCategory.domain_id,phase_id:a.clickedCategory.category_id}:{action:"Multi"}),t="query";a.clickedCategory||(o.blockScreen(),t="save"),l.genericController[t](e,c.getSelecteds(a.categoryListGrid).map(function(e){return{domain_id:e.domain_id,category_id:e.category_id}}),function(e){a.clickedCategory?a.subcategoryListGrid.dataSource.data(e):a.subcategoryListGrid.dataSource.data(e.subcategories||[]),o.unblockScreen()},function(){n.error("Error to retrieve data from server, please contact the technical support"),o.unblockScreen()})}function y(e){"category"===e?(a.categoryListGrid.dataSource.read(),a.subcategoryListGrid.dataSource.data([])):h()}function f(e,t,i){o.blockScreen(),s.all(g.RemoveAudaxwareItems(e).map(function(e){return l.genericController.update({controller:i,action:"Item",domain_id:a.logged_domain,project_id:e[t+"_id"]},e).$promise})).then(function(){y(t),n.success(t.charAt(0).toUpperCase()+i.substring(1)+" Updated"),o.unblockScreen()},function(){n.error("Error to updated one or more "+i+", please contact the tecnical support"),o.unblockScreen()})}a.categoryOptions=c.getStructure(p("category"),angular.copy(e),m("category"),b,!1),e.splice(2,1,{field:"domain_name",title:"Owner",width:150}),e.splice(0,1,{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(subcategoryListGrid)" ng-checked="allPagesSelected(subcategoryListGrid)" aria-label="checkbox" ng-click="select($event, subcategoryListGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, subcategoryListGrid)" ng-checked="isSelected(subcategoryListGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"3em"},{field:"category_description",title:"Category",width:200}),e.push({field:"use_category_settings",title:"Use Category Settings",template:'<section layout="column" layout-align="none center"><md-checkbox style="margin-top: 0px; margin-bottom: 0px" class="checkbox" ng-checked="#: use_category_settings #" aria-label="checkbox"></md-checkbox></section>',width:200,editor:i}),b.noRecords="No subcategories available",a.subcategoryOptions=c.getStructure(p("subcategory"),e,m("subcategory"),b,!1),a.hasNoAudaxwareItems=function(e){return g.HasNoAudaxwareItems(c.getSelecteds(e))},a.getChangedItems=function(e){return e.dataSource.data().filter(function(e){return e.dirty})},a.saveChanges=function(e){var t,i,o;"3"==r.getLoggedUserType()?d.ViewersChangesModal():(t="category"===e?"categories":"subcategories",0<(i=a.getChangedItems(a[e+"ListGrid"])).length?1===(o=g.CanModifyAny(i))?f(i,e,t):g.ShowCantModifyDialog(t,!0,-1===o).then(function(){-1===o?a[e+"ListGrid"].refresh():f(i,e,t)}):n.info("There is no changes to be save in the "+t+" grid"))},a.showDetails=function(e,t){if(!t){if(!c.verifySelected("edit",e,a[e+"ListGrid"],!0))return;t=c.getSelecteds(a[e+"ListGrid"])[0]}g.CanModify(t)?("category"===e?d.openModal("app/Category/Modals/AddCategory.html","AddCategoryCtrl",{edit:!0,category:t},!0):d.openModal("app/Category/Modals/AddSubcategory.html","AddSubcategoryCtrl",{edit:!0,subcategory:t},!0)).then(function(){y(e)}):g.ShowCantModifyDialog(e)},a.add=function(e){"3"==r.getLoggedUserType()?d.ViewersChangesModal():("category"===e?d.openModal("app/Category/Modals/AddCategory.html","AddCategoryCtrl",null,!0):d.openModal("app/Category/Modals/AddSubcategory.html","AddSubcategoryCtrl",a.clickedCategory?{category:a.clickedCategory}:1===c.getSelecteds(a.categoryListGrid).length?{category:c.getSelecteds(a.categoryListGrid)[0]}:null,!0)).then(function(){y(e)})},a.dataBound=function(e,t){var i,o;o=t,(i=e)&&(i.tbody.find("tr").dblclick(function(){var e=i.dataItem(this);a.showDetails(o,e)}),i===a.categoryListGrid)&&(i.tbody.find("tr td:nth-child(2), tr td:nth-child(3)").click(function(){0===c.getSelecteds(a.categoryListGrid).length&&(a.clickedCategory=i.dataItem($(this).closest("tr")),h())}),i.tbody.find("tr td:nth-child(2), tr td:nth-child(3)").hover(function(){0===c.getSelecteds(a.categoryListGrid).length?$(this).css("cursor","pointer"):$(this).css("cursor","default")})),c.dataBound(e)},a.delete=function(t){var i;"3"==r.getLoggedUserType()?d.ViewersChangesModal():(i="category"===t?"Categories":"Subcategories",c.verifySelected("delete",t,a[t+"ListGrid"])&&d.Confirm("Are you sure?",g.GetDeleteMessage(i,g.HasAudaxwareItems(c.getSelecteds(a[t+"ListGrid"])))).then(function(){o.blockScreen(),c.deleteItems(l.genericController,function(e){return{controller:i,action:"Item",domain_id:e.domain_id,project_id:e.category_domain_id,phase_id:e.category_id,department_id:e.subcategory_id}},a[t+"ListGrid"],null,!0).then(function(e){o.unblockScreen(),n.success(i+" Deleted"),"subcategory"===t?h():c.unselectAll(a.categoryListGrid)},function(e){o.unblockScreen(),409===e.status?n.info("Some, or all, of the "+i+" could not be deleted -- there is assigned asset(s)"):n.error("Error to delete one o more "+i+", please contact the technical support"),"subcategory"===t?h():c.unselectAll(a.categoryListGrid)})}))},a.isSelected=c.isSelected,a.allSelected=c.allSelected,a.select=function(e,t,i){a.clickedCategory=null,c.select(e,t,i)},a.$watch(function(){return c.getSelecteds(a.categoryListGrid).length},function(e){h()}),a.allPagesSelected=c.allPagesSelected,a.collapseExpand=c.collapseExpand,a.buttons=[{label:"Export to Excel",icon:"file_simple",click:{func:function(){u.downloadFile(t.generic("categories","Export",a.logged_domain),"categories_"+a.logged_domain+"_export.xlsx")}}},{label:"Import data from Excel",icon:"file_upload",click:{func:function(){"3"==r.getLoggedUserType()?d.ViewersChangesModal():d.openModal("app/Category/Modals/ImportFile.html","ImportCategoriesFileCtrl").then(function(){y("category")})}}}]}]);
xPlanner.constant("AssetClassList",[{name:"N/A: Not Applicable",id:0},{name:"AW: Artwork",id:1},{name:"CC: Clinical Casegoods",id:2},{name:"CM: Communications",id:3},{name:"FF: Fixtures/Furnishings",id:4},{name:"ME: Medical Equipment",id:5},{name:"RP: Low Voltage",id:6},{name:"SW: Signage & Wayfinding",id:7}]);
xPlanner.constant("AssetColumnsName",{asset_code:"Code",photo:"Photo",serial_number:"Model No.",serial_name:"Model Name",asset_description:"Description",manufacturer_description:"Manufacturer",asset_category:"Category",asset_subcategory:"Subcategory",owner_name:"Owner",comment:"Comment",cut_sheet:"Spec",cad_block:"CAD Block",revit:"Revit",uploaded_at:"Last Update",discontinued:"Disc",alternate_asset:"Alternate Asset",medgas:"Gases description",medgas_option:"Gases required",medgas_oxygen:"Oxygen",medgas_air:"MedAir",medgas_n2o:"N2O",medgas_co2:"CO2",medgas_wag:"WAG",medgas_other:"Air Low Pressure",medgas_high_pressure:"Air High Pressure",medgas_nitrogen:"Nitrogen",medgas_vacuum:"Vacuum",medgas_steam:"Steam",medgas_natgas:"NatGas",gas_acetylene:"Acetylene",gas_butane:"Butane",gas_hydrogen:"Hydrogen",gas_instrument_air:"Instrument Air",gas_liquid_co2:"Liquid CO2",gas_liquid_nitrogen:"Liquid Nitrogen",gas_liquid_propane_gas:"Liquid Propane Gas",gas_methane:"Methane",gas_propane:"Propane",misc_antimicrobial:"Antimicrobial",misc_ecolabel:"Eco-Label",misc_ecolabel_desc:"Eco-Label Description",plumbing:"Pumbling Description",plumbing_option:"Plumbing Required",plu_hot_water:"Hot Water",plu_cold_water:"Cold Water",plu_drain:"Drain",plu_return:"Return",plu_treated_water:"Treated Water",plu_chilled_water:"Chilled Water",plu_relief:"Relief",water:"Exhaust Description",water_option:"Exhaust Required",cfm:"CFM",btus:"BTUs",data_desc:"Data Description",data_option:"Data Required",network_option:"Network Required",network_type:"Network Type",electrical:"Electrical Description",electrical_option:"Electrical Required",volts:"Volts",phases:"Phases",hertz:"Hertz",amps:"Amps",volt_amps:"VoltAmps",watts:"Watts",blocking:"Blocking Description",blocking_option:"Blocking Required",supports:"Structural Description",supports_option:"Structural Required",misc_seismic:"Seismic Rated",misc_ase:"ASE",misc_ada:"ADA",misc_shielding_lead_line:"Shielding, Lead Lined",misc_shielding_magnetic:"Shielding, RF/Magnetic",mobile:"Mobile Description",mobile_option:"Mobile",height:"Height(in)",width:"Width(in)",depth:"Depth(in)",clearance_top:"Top Clearance(in)",clearance_bottom:"Bottom Clearance(in)",clearance_right:"Right Clearance(in)",clearance_left:"Left Clearance(in)",clearance_front:"Front Clearance(in)",clearance_back:"Back Clearance(in)",weight:"Weight(lb)",loaded_weight:"Loaded Weight(lb)",ship_weight:"Ship Weight(lb)",vendors_model:"Vendors Model"});
var distinctTypes={BudgetaryValues:"Budgetary Values",Descriptive:"Descriptive",Electrical:"Electrical",Environmental:"Environmental",Files:"Files",Gases:"Gases",Government:"Government",HVAC:"HVAC",IT:"IT",Location:"Location",Options:"Options",Pendencies:"Pendencies",Physical:"Physical",Plumbing:"Plumbing",PurchaseOrder:"Purchase Order",Support:"Support",Resp:"Resp"},fieldsMap={approval_pending:distinctTypes.Pendencies,phase_description:distinctTypes.Location,department_description:distinctTypes.Location,room_number:distinctTypes.Location,room_name:distinctTypes.Location,final_room_number:distinctTypes.Location,final_room_name:distinctTypes.Location,room_count:distinctTypes.Location,room_code:distinctTypes.Location,blueprint:distinctTypes.Location,staff:distinctTypes.Location,room_area:distinctTypes.Location,functional_area:distinctTypes.Location,source_location:distinctTypes.Location,target_location:distinctTypes.Location,source_room:distinctTypes.Location,target_room:distinctTypes.Location,inventory_id:distinctTypes.Location,temporary_location:distinctTypes.Location,final_disposition:distinctTypes.Location,asset_category:distinctTypes.Descriptive,asset_subcategory:distinctTypes.Descriptive,resp:distinctTypes.Descriptive,owner_name:distinctTypes.Descriptive,updated_at:distinctTypes.Descriptive,alternate_asset:distinctTypes.Descriptive,type_resp:distinctTypes.Descriptive,asset_code:distinctTypes.Descriptive,cad_id:distinctTypes.Descriptive,serial_number:distinctTypes.Descriptive,serial_name:distinctTypes.Descriptive,manufacturer_description:distinctTypes.Descriptive,asset_description:distinctTypes.Descriptive,current_location:distinctTypes.Descriptive,default_resp:distinctTypes.Descriptive,po_status:distinctTypes.PurchaseOrder,po_status_none:distinctTypes.PurchaseOrder,po_status_open:distinctTypes.PurchaseOrder,po_status_issued:distinctTypes.PurchaseOrder,po_status_requested:distinctTypes.PurchaseOrder,po_status_qreceived:distinctTypes.PurchaseOrder,po_status_qrequested:distinctTypes.PurchaseOrder,budget_qty:distinctTypes.Descriptive,lease_qty:distinctTypes.Descriptive,dnp_qty:distinctTypes.Descriptive,net_new:distinctTypes.Descriptive,estimated_delivery_date:distinctTypes.Descriptive,lead_time:distinctTypes.Descriptive,tag:distinctTypes.Descriptive,po_qty:distinctTypes.PurchaseOrder,total_po_amt:distinctTypes.PurchaseOrder,buyout_delta:distinctTypes.PurchaseOrder,po_number:distinctTypes.PurchaseOrder,delivered_date:distinctTypes.PurchaseOrder,received_date:distinctTypes.PurchaseOrder,vendor:distinctTypes.PurchaseOrder,quote_number:distinctTypes.PurchaseOrder,po_requested_number:distinctTypes.PurchaseOrder,option_codes:distinctTypes.Options,option_descriptions:distinctTypes.Options,option_prices:distinctTypes.Options,options_price:distinctTypes.Options,asset_profile:distinctTypes.Descriptive,medgas:distinctTypes.Gases,medgas_option:distinctTypes.Gases,medgas_oxygen:distinctTypes.Gases,medgas_air:distinctTypes.Gases,medgas_n2o:distinctTypes.Gases,medgas_co2:distinctTypes.Gases,medgas_wag:distinctTypes.Gases,medgas_other:distinctTypes.Gases,medgas_high_pressure:distinctTypes.Gases,medgas_nitrogen:distinctTypes.Gases,medgas_vacuum:distinctTypes.Gases,medgas_steam:distinctTypes.Gases,medgas_natgas:distinctTypes.Gases,gas_liquid_co2:distinctTypes.Gases,gas_liquid_nitrogen:distinctTypes.Gases,gas_instrument_air:distinctTypes.Gases,gas_liquid_propane_gas:distinctTypes.Gases,gas_methane:distinctTypes.Gases,gas_butane:distinctTypes.Gases,gas_propane:distinctTypes.Gases,gas_hydrogen:distinctTypes.Gases,gas_acetylene:distinctTypes.Gases,connection_type:distinctTypes.Gases,misc_antimicrobial:distinctTypes.Environmental,misc_ecolabel:distinctTypes.Environmental,misc_ecolabel_desc:distinctTypes.Environmental,plumbing:distinctTypes.Plumbing,plumbing_option:distinctTypes.Plumbing,plu_hot_water:distinctTypes.Plumbing,plu_cold_water:distinctTypes.Plumbing,plu_drain:distinctTypes.Plumbing,plu_return:distinctTypes.Plumbing,plu_treated_water:distinctTypes.Plumbing,plu_chilled_water:distinctTypes.Plumbing,plu_relief:distinctTypes.Plumbing,water:distinctTypes.HVAC,water_option:distinctTypes.HVAC,cfm:distinctTypes.HVAC,btus:distinctTypes.HVAC,data_desc:distinctTypes.IT,data_option:distinctTypes.IT,network_option:distinctTypes.IT,network_type:distinctTypes.IT,ports:distinctTypes.IT,bluetooth:distinctTypes.IT,cat6:distinctTypes.IT,displayport:distinctTypes.IT,dvi:distinctTypes.IT,hdmi:distinctTypes.IT,wireless:distinctTypes.IT,electrical:distinctTypes.Electrical,electrical_option:distinctTypes.Electrical,volts:distinctTypes.Electrical,phases:distinctTypes.Electrical,hertz:distinctTypes.Electrical,amps:distinctTypes.Electrical,volt_amps:distinctTypes.Electrical,watts:distinctTypes.Electrical,plug_type:distinctTypes.Electrical,blocking:distinctTypes.Support,blocking_option:distinctTypes.Support,supports:distinctTypes.Support,supports_option:distinctTypes.Support,misc_seismic:distinctTypes.Support,misc_ase:distinctTypes.Physical,misc_ada:distinctTypes.Physical,misc_shielding_lead_line:distinctTypes.Physical,misc_shielding_magnetic:distinctTypes.Physical,mobile:distinctTypes.Physical,mobile_option:distinctTypes.Physical,height:distinctTypes.Physical,width:distinctTypes.Physical,depth:distinctTypes.Physical,mounting_height:distinctTypes.Physical,category_attribute:distinctTypes.Physical,placement:distinctTypes.Physical,clearance_top:distinctTypes.Physical,clearance_bottom:distinctTypes.Physical,clearance_right:distinctTypes.Physical,clearance_left:distinctTypes.Physical,clearance_front:distinctTypes.Physical,clearance_back:distinctTypes.Physical,weight:distinctTypes.Physical,loaded_weight:distinctTypes.Physical,ship_weight:distinctTypes.Physical,photo:distinctTypes.Files,tag_photo:distinctTypes.Files,cut_sheet:distinctTypes.Files,cad_block:distinctTypes.Files,revit:distinctTypes.Files,has_shop_drawing:distinctTypes.Files,discontinued:distinctTypes.Descriptive,cost_center:distinctTypes.Descriptive,vendors_model:distinctTypes.Descriptive,biomed_check_required:distinctTypes.Descriptive,comment:distinctTypes.Descriptive,imported_by_project:distinctTypes.Descriptive,jsn_code:distinctTypes.Government,jsn_nomenclature:distinctTypes.Government,jsn_description:distinctTypes.Government,jsn_comments:distinctTypes.Government,jsn_utility1:distinctTypes.Government,jsn_utility2:distinctTypes.Government,jsn_utility3:distinctTypes.Government,jsn_utility4:distinctTypes.Government,jsn_utility5:distinctTypes.Government,jsn_utility6:distinctTypes.Government,ecn:distinctTypes.Government,class:distinctTypes.Government,clin:distinctTypes.Government,total_unit_budget:distinctTypes.BudgetaryValues,total_budget_amt:distinctTypes.BudgetaryValues,unit_markup:distinctTypes.BudgetaryValues,unit_escalation:distinctTypes.BudgetaryValues,unit_markup_calc:distinctTypes.BudgetaryValues,unit_escalation_calc:distinctTypes.BudgetaryValues,unit_freight_net:distinctTypes.BudgetaryValues,unit_freight_markup:distinctTypes.BudgetaryValues,unit_install_net:distinctTypes.BudgetaryValues,unit_install_markup:distinctTypes.BudgetaryValues,unit_tax:distinctTypes.BudgetaryValues,unit_budget_adjusted:distinctTypes.BudgetaryValues,unit_tax_calc:distinctTypes.BudgetaryValues,unit_install:distinctTypes.BudgetaryValues,unit_freight:distinctTypes.BudgetaryValues,unit_budget_total:distinctTypes.BudgetaryValues,total_budget_adjusted:distinctTypes.BudgetaryValues,total_tax:distinctTypes.BudgetaryValues,total_install_net:distinctTypes.BudgetaryValues,total_install:distinctTypes.BudgetaryValues,total_freight_net:distinctTypes.BudgetaryValues,total_freight:distinctTypes.BudgetaryValues,total_budget:distinctTypes.BudgetaryValues};xPlanner.constant("AssetColumnsType",{distinctTypes:Object.values(distinctTypes),fieldsMap:fieldsMap});
xPlanner.constant("AssetInventoryColumns",{phase_description:"Phase",department_description:"Department",room_number:"Room No.",room_name:"Room Name",asset_code:"Code",jsn_code:"JSN",asset_description:"Description",final_room_number:"Wayfinding No.",final_room_name:"Wayfinding Name",room_code:"Room Code",blueprint:"Blueprint",staff:"Staff",room_area:"Room Area",functional_area:"Functional Area",resp:"Resp",type_resp:"Type",source_location:"Source Location",target_location:"Target Location",source_room:"Source Room",target_room:"Target Room",temporary_location:"Temporary Location",final_disposition:"Final Disposition",photo:"Photo",tag_photo:"Tag Photo",cad_id:"CAD ID",serial_number:"Model No.",serial_name:"Model Name",manufacturer_description:"Manufacturer",room_count:"Room Count",budget_qty:"Planned qty",medgas:"Gases description",medgas_option:"Gases required",medgas_oxygen:"Oxygen",medgas_air:"MedAir",medgas_n2o:"N2O",medgas_co2:"CO2",medgas_wag:"WAG",medgas_other:"Air Low Pressure",medgas_high_pressure:"Air High Pressure",medgas_nitrogen:"Nitrogen",medgas_vacuum:"Vacuum",medgas_steam:"Steam",medgas_natgas:"NatGas",gas_acetylene:"Acetylene",gas_butane:"Butane",gas_hydrogen:"Hydrogen",gas_instrument_air:"Instrument Air",gas_liquid_co2:"Liquid CO2",gas_liquid_nitrogen:"Liquid Nitrogen",gas_liquid_propane_gas:"Liquid Propane Gas",gas_methane:"Methane",gas_propane:"Propane",misc_antimicrobial:"Antimicrobial",misc_ecolabel:"Eco-Label",misc_ecolabel_desc:"Eco-Label Description",plumbing:"Pumbling Description",plumbing_option:"Plumbing Required",plu_hot_water:"Hot Water",plu_cold_water:"Cold Water",plu_drain:"Drain",plu_return:"Return",plu_treated_water:"Treated Water",plu_chilled_water:"Chilled Water",plu_relief:"Relief",water:"Exhaust Description",water_option:"Exhaust Required",cfm:"CFM",btus:"BTUs",data_desc:"Data Description",data_option:"Data Required",network_option:"Network Required",network_type:"Network Type",electrical:"Electrical Description",electrical_option:"Electrical Required",volts:"Volts",phases:"Phases",hertz:"Hertz",amps:"Amps",volt_amps:"VoltAmps",watts:"Watts",blocking:"Blocking Description",blocking_option:"Blocking Required",supports:"Structural Description",supports_option:"Structural Required",misc_seismic:"Seismic Rated",misc_ase:"ASE",misc_ada:"ADA",misc_shielding_lead_line:"Shielding, Lead Lined",misc_shielding_magnetic:"Shielding, RF/Magnetic",mobile:"Mobile Description",mobile_option:"Mobile",height:"Height(in)",width:"Width(in)",depth:"Depth(in)",clearance_top:"Top Clearance(in)",clearance_bottom:"Bottom Clearance(in)",clearance_right:"Right Clearance(in)",clearance_left:"Left Clearance(in)",clearance_front:"Front Clearance(in)",clearance_back:"Back Clearance(in)",weight:"Weight(lb)",loaded_weight:"Loaded Weight(lb)",ship_weight:"Ship Weight(lb)",comment:"Comment",cut_sheet:"Spec",has_shop_drawing:"Shop Drawing",cad_block:"CAD Block",revit:"Revit",discontinued:"Disc",lead_time:"Lead Time",estimated_delivery_date:"Install Date",asset_profile:"Profile",tag:"TAG",placement:"Placement",ecn:"ECN",biomed_check_required:"Biomed Check Required",current_location:"Status",po_status_none:"None PO",po_status_open:"PO Open",po_status_issued:"PO Issued",po_status_requested:"PO Requested",po_status_qrequested:"Quote Requested",po_status_qreceived:"Quote Received",lease_qty:"Lease qty",dnp_qty:"DNP qty",net_new:"Net New",total_unit_budget:"Unit Budget (Net)",total_budget_amt:"Total Budget (Net)",po_qty:"PO qty",total_po_amt:"PO amt",buyout_delta:"PO delta",quote_number:"Quote Number",po_requested_number:"Requisition Number",vendor:"Vendor",unit_markup:"Unit Markup (%)",unit_markup_calc:"Unit Markup ($)",unit_escalation:"Unit Escalation (%)",unit_escalation_calc:"Unit Escalation ($)",unit_budget_adjusted:"Unit Budget(Adjusted)",unit_tax:"Unit Tax (%)",unit_tax_calc:"Unit Tax ($)",unit_install_net:"Unit Install (Net)",unit_install_markup:"Unit Install Markup (%)",unit_install:"Unit Install",unit_freight_net:"Unit Freight (Net)",unit_freight_markup:"Unit Freight Markup (%)",unit_freight:"Unit Freight",unit_budget_total:"Unit Budget",all_units_cost:"Total Budget (Net)",total_budget_adjusted:"Total Budget (Adjusted)",total_tax:"Total Tax ($)",total_install_net:"Total Install (Net)",total_install:"Total Install",total_freight_net:"Total Freight (Net)",total_freight:"Total Freight",total_budget:"Total Budget",po_number:"PO Number",delivered_date:"Delivered Date",received_date:"Received Date",option_codes:"Options Code",option_descriptions:"Options Description",options_price:"Options Price",it_connections:"IT Connections",class:"Class",clin:"CLIN",jsn_nomenclature:"JSN Nomenclature",jsn_description:"JSN Description",jsn_comments:"JSN Comments",jsn_utility1:"U1",jsn_utility2:"U2",jsn_utility3:"U3",jsn_utility4:"U4",jsn_utility5:"U5",jsn_utility6:"U6",cost_center:"Cost Center",inventory_id:"Inventory ID",asset_total_budget:"Asset Total Budget"});
xPlanner.constant("AssetOptionScope",{1:"Catalog",2:"Custom",Catalog:1,Custom:2});
xPlanner.constant("AssetOptionSettings",{finish_type:"Finish Type",content:"Content",dimensions:"Dimensions",mat_finish:"MAT - Finish",type_name:"Type Name"});
xPlanner.constant("AssetPropertyList",[{name:"--",value:0},{name:"Yes",value:1},{name:"Optional",value:2}]);
xPlanner.constant("CostListProject",[{name:"Min",id:"min_cost"},{name:"Max",id:"max_cost"},{name:"Avg",id:"avg_cost"},{name:"Last",id:"last_cost"}]),xPlanner.constant("CostFieldList",[{name:"Project Default",value:"default"},{name:"Min",value:"min_cost"},{name:"Max",value:"max_cost"},{name:"Average",value:"avg_cost"},{name:"Last",value:"last_cost"}]),xPlanner.constant("CostFieldListWithSource",[{name:"Project Default",value:"default"},{name:"Source Project",value:"source"},{name:"Min",value:"min_cost"},{name:"Max",value:"max_cost"},{name:"Average",value:"avg_cost"},{name:"Last",value:"last_cost"}]),xPlanner.constant("CostFieldListWithNone",[{name:"None",value:null},{name:"Project Default",value:"default"},{name:"Min",value:"min_cost"},{name:"Max",value:"max_cost"},{name:"Average",value:"avg_cost"},{name:"Last",value:"last_cost"}]),xPlanner.constant("CostFieldListReplace",[{name:"Project Default",value:"default"},{name:"Min",value:"min_cost"},{name:"Max",value:"max_cost"},{name:"Average",value:"avg_cost"},{name:"Last",value:"last_cost"},{name:"Keep current one",value:""}]);
xPlanner.constant("DocumentStatusList",[{name:"Approved",value:"Approved"},{name:"Generic",value:"Generic"},{name:"Preliminary",value:"Preliminary"}]);
xPlanner.constant("DocumentTypes",{ShopDrawing:1,Custom:2,RoomsImage:3,InventoryImages:4,OptionsImage:5,AssetPhoto:6,TagPhoto:7});
xPlanner.constant("SettingsDropDown",function(e,a){$('<input data-text-field="name" data-value-field="value" data-bind="value:'+a.field+'"/>').appendTo(e).kendoDropDownList({dataSource:{data:[{name:"Enable",value:"E"},{name:"Disable",value:"D"},{name:"Required",value:"R"}]}})}),xPlanner.constant("CheckboxEditor",function(e,a){a.model.dirty=!0,a.model[a.field]="string"==typeof a.model[a.field]?"true"!==a.model[a.field].toLowerCase():!a.model[a.field],$('<section layout="column" layout-align="none center"><md-checkbox style="margin-top: 0px; margin-bottom: 0px; class="checkbox" ng-model="dataItem[\''+a.field+'\']" aria-label="checkbox"></md-checkbox></section>').appendTo(e)}),xPlanner.constant("ChbxAssetSettingEditor",function(e,a,n,t,l){a.model.dirty=!0,a.model[a.field]=n[a.model.asset_field]="string"==typeof a.model[a.field]?"true"!==a.model[a.field].toLowerCase():!a.model[a.field],$('<section layout="column" layout-align="none center"><md-checkbox style="margin-top: 0px; margin-bottom: 0px;'+(l?"margin-left: "+l+"px;":"")+'" class="checkbox" ng-model="dataItem[\''+a.field+'\']" ng-change="'+t+" = dataItem[' + "+a.field+'\']" aria-label="checkbox"></md-checkbox></section>').appendTo(e)}),xPlanner.constant("OptionsDropDown",function(e,a){$('<input data-text-field="name" data-value-field="value" data-bind="value:'+a.field+'"/>').appendTo(e).kendoDropDownList({dataSource:{data:[{name:"--",value:0},{name:"Yes",value:1},{name:"Optional",value:2}]}})}),xPlanner.constant("HertzDropDown",function(e,a){$('<input data-text-field="name" data-value-field="value" data-bind="value:'+a.field+'"/>').appendTo(e).kendoDropDownList({dataSource:{data:[{name:"--",value:""},{name:"50",value:"50"},{name:"50/60",value:"50/60"},{name:"60",value:"60"}]}})}),xPlanner.constant("ConnectionTypeDropDown",function(e,a){$('<input data-text-field="name" data-value-field="value" data-bind="value:'+a.field+'"/>').appendTo(e).kendoDropDownList({dataSource:{data:[{name:"--",value:""},{name:"Chemtron",value:"Chemtron"},{name:"DISS",value:"DISS"},{name:"Ohmeda",value:"Ohmeda"},{name:"Puritan Bennett",value:"Puritan Bennett"}]}})}),xPlanner.constant("PlugTypeDropDown",function(e,a){$('<input data-text-field="name" data-value-field="value" data-bind="value:'+a.field+'"/>').appendTo(e).kendoDropDownList({dataSource:{data:[{name:"--",value:""},{name:"NEMA 5-15P",value:"NEMA 5-15P"},{name:"NEMA 5-20P",value:"NEMA 5-20P"},{name:"NEMA 6-15P",value:"NEMA 6-15P"},{name:"NEMA 6-20P",value:"NEMA 6-20P"},{name:"NEMA 6-30LP",value:"NEMA 6-30LP"},{name:"NEMA 6-50P",value:"NEMA 6-50P"}]}})}),xPlanner.constant("NetworkTypeDropDown",function(e,a){$('<input data-text-field="name" data-value-field="value" data-bind="value:'+a.field+'"/>').appendTo(e).kendoDropDownList({dataSource:{data:[{name:"--",value:""},{name:"Cable",value:"Cable"},{name:"Wi-Fi",value:"Wi-Fi"},{name:"Cable & Wi-Fi",value:"Cable & Wi-Fi"}]}})}),xPlanner.constant("PhasesDropDown",function(e,a){$('<input data-text-field="name" data-value-field="value" data-bind="value:'+a.field+'"/>').appendTo(e).kendoDropDownList({dataSource:{data:[{name:"--",value:""},{name:"1",value:"1"},{name:"2",value:"2"},{name:"3",value:"3"}]}})}),xPlanner.constant("CategoryDropDown",function(e,a){$('<input data-text-field="name" data-value-field="value" data-bind="value:'+a.field+'"/>').appendTo(e).kendoDropDownList({dataSource:{data:[{name:"Fixed",value:"F"},{name:"Major Moveable",value:"MJ"},{name:"Minor Moveable",value:"MN"},{name:"",value:""}]}})}),xPlanner.constant("NumericEditor",function(e,a,n){$('<input data-bind="value:'+a.field+'"/>').appendTo(e).kendoNumericTextBox({format:n||"n2",min:0})}),xPlanner.constant("TextEditor",function(e,a,n){$('<input class="k-input k-textbox"'+(n?' name="'+n+'"':"")+' data-bind="value:'+a.field+'"/>').appendTo(e)});
xPlanner.constant("OptionTypes",[{name:"Accessory",id:"A"},{name:"Color",id:"C"},{name:"Consumable",id:"CO"},{name:"Discount",id:"D"},{name:"Finish",id:"FI"},{name:"Frame",id:"FR"},{name:"Installation",id:"I"},{name:"Warranty",id:"W"}]);
xPlanner.constant("PlacementList",[{name:"Boom",value:"Boom"},{name:"Ceiling",value:"Ceiling"},{name:"Counter",value:"Counter"},{name:"Freestanding",value:"Freestanding"},{name:"Floor",value:"Floor"},{name:"Mobile",value:"Mobile"},{name:"On Cart",value:"On Cart"},{name:"Other Equipment",value:"Other Equipment"},{name:"Portable",value:"Portable"},{name:"Recessed",value:"Recessed"},{name:"Under-Counter",value:"Under-Counter"},{name:"Wall",value:"Wall"}]);
xPlanner.constant("POStatusList",[{name:"Open",value:"Open"},{name:"Quote Requested",value:"Quote Requested"},{name:"Quote Received",value:"Quote Received"},{name:"PO Requested",value:"PO Requested"},{name:"PO Issued",value:"PO Issued"},{name:"Unassigned",value:"unassigned"}]);

xPlanner.constant("StatesList",[{id:"AK",abrv:"AK",name:"Alaska"},{id:"AL",abrv:"AL",name:"Alabama"},{id:"AR",abrv:"AR",name:"Arkansas"},{id:"AZ",abrv:"AZ",name:"Arizona"},{id:"CA",abrv:"CA",name:"California"},{id:"CO",abrv:"CO",name:"Colorado"},{id:"CT",abrv:"CT",name:"Connecticut"},{id:"DE",abrv:"DE",name:"Delaware"},{id:"FL",abrv:"FL",name:"Florida"},{id:"GA",abrv:"GA",name:"Georgia"},{id:"HI",abrv:"HI",name:"Hawaii"},{id:"IA",abrv:"IA",name:"Lowa"},{id:"ID",abrv:"ID",name:"Idaho"},{id:"IL",abrv:"IL",name:"Illinois"},{id:"IN",abrv:"IN",name:"Indiana"},{id:"KS",abrv:"KS",name:"Kansas"},{id:"KY",abrv:"KY",name:"Kentucky"},{id:"LA",abrv:"LA",name:"Louisiana"},{id:"MA",abrv:"MA",name:"Massachusetts"},{id:"MD",abrv:"MD",name:"Maryland"},{id:"ME",abrv:"ME",name:"Maine"},{id:"MI",abrv:"MI",name:"Michigan"},{id:"MN",abrv:"MN",name:"Minnesota"},{id:"MO",abrv:"MO",name:"Missouri"},{id:"MS",abrv:"MS",name:"Mississippi"},{id:"MT",abrv:"MT",name:"Montana"},{id:"NC",abrv:"NC",name:"North Carolina"},{id:"ND",abrv:"ND",name:"North Dakota"},{id:"NE",abrv:"NE",name:"Nebraska"},{id:"NH",abrv:"NH",name:"New Hampshire"},{id:"NJ",abrv:"NJ",name:"New Jersey"},{id:"NM",abrv:"NM",name:"New Mexico"},{id:"NV",abrv:"NV",name:"Nevada"},{id:"NY",abrv:"NY",name:"New York"},{id:"OH",abrv:"OH",name:"Ohio"},{id:"OK",abrv:"OK",name:"Oklahoma"},{id:"OR",abrv:"OR",name:"Oregon"},{id:"PA",abrv:"PA",name:"Pennsylvania"},{id:"RI",abrv:"RI",name:"Rhode Island"},{id:"SC",abrv:"SC",name:"South Carolina"},{id:"SD",abrv:"SD",name:"South Dakota"},{id:"TN",abrv:"TN",name:"Tennessee"},{id:"TX",abrv:"TX",name:"Texas"},{id:"UT",abrv:"UT",name:"Utah"},{id:"VA",abrv:"VA",name:"Virginia"},{id:"VT",abrv:"VT",name:"Vermont"},{id:"WA",abrv:"WA",name:"Washington"},{id:"WI",abrv:"WI",name:"Wisconsin"},{id:"WV",abrv:"WV",name:"West Virginia"},{id:"WY",abrv:"WY",name:"Wyoming"}]);
xPlanner.constant("StatusListProject",[{name:"Active",id:"A"},{name:"Canceled",id:"D"},{name:"Complete",id:"C"},{name:"Inventory",id:"I"},{name:"Locked",id:"L"},{name:"Pending",id:"P"},{name:"Training",id:"T"}]),xPlanner.constant("StatusListeditMulti",[{name:"Plan",value:"Plan"},{name:"Approved",value:"Approved"},{name:"Delivered",value:"Delivered"},{name:"Received",value:"Received"},{name:"Completed",value:"Completed"}]),xPlanner.constant("ConnectionTypeList",[{name:"Bluetooth",value:"Bluetooth"},{name:"Cat 6",value:"Cat6"},{name:"Displayport",value:"Displayport"},{name:"DVI",value:"DVI"},{name:"HDMI",value:"HDMI"},{name:"Wireless",value:"Wireless"}]);
xPlanner.controller("DashboardCtrl",["$scope","AuthService","ProgressService","toastr","DialogService","WebApiService","$stateParams","$state",function(r,i,c,a,e,t,d,n){var l=angular.copy(d);function o(o){t.genericController.query({controller:"Dashboard",action:"All",domain_id:i.getLoggedDomain(),project_id:d.project_id},function(e){0<(r.availableDashboards=e).length?r.selectedDashboard=e[0]:1==o&&n.go("dashboard",{},{reload:!0})},function(){a.error("Error to retrieve the available dashboards, please contact the technical support")})}r.$emit("detailsParams",l),r.isNotViewer="3"!=i.getLoggedUserType(),o(),r.$watch("selectedDashboard",function(e){e&&(c.blockScreen(),t.dashboard.get({action:"Get",id1:i.getLoggedDomain(),id2:e.report_id,id3:e.dashboard_id,id4:e.linked_dashboard_id},function(e){var o,r,a,t,d=e.report.embedUrl,d={type:"report",accessToken:e.accessToken,embedUrl:d,id:e.report.id,settings:{filterPaneEnabled:!1,navContentPaneEnabled:!1}},n=powerbi.embed(document.getElementById("reportContainer"),d),s={$schema:"http://powerbi.com/product/schema#basic",target:{table:"AudaxWarePowerBI",column:"Domain ID"},operator:"In",values:[i.getLoggedDomain()]};null!=l.project_id&&(o={$schema:"http://powerbi.com/product/schema#basic",target:{table:"AudaxWarePowerBI",column:"Project ID"},operator:"In",values:[l.project_id]},l.phase_id)&&(r={$schema:"http://powerbi.com/product/schema#basic",target:{table:"AudaxWarePowerBI",column:"Phase ID"},operator:"In",values:[l.phase_id]},l.department_id)&&(a={$schema:"http://powerbi.com/product/schema#basic",target:{table:"AudaxWarePowerBI",column:"Department ID"},operator:"In",values:[l.department_id]},l.room_id)&&(t={$schema:"http://powerbi.com/product/schema#basic",target:{table:"AudaxWarePowerBI",column:"Room ID"},operator:"In",values:[l.room_id]}),n.on("loaded",function(e){n.getFilters().then(function(e){return e.push(s),o&&e.push(o),r&&e.push(r),a&&e.push(a),t&&e.push(t),n.setFilters(e)})}),c.unblockScreen()},function(){c.unblockScreen(),a.error("Error to retrieve dashboard")}))}),r.resolution=window.innerHeight-310,r.filesUpload=function(){"3"==i.getLoggedUserType()?e.ViewersChangesModal():e.openModal("app/Dashboard/Modals/UploadDashboardFiles.html","UploadDashboardFilesCtrl",{project_id:115},!0).then(function(){o()})},r.deleteDashboard=function(){"3"==i.getLoggedUserType()?e.ViewersChangesModal():""!=r.selectedDashboard.linked_dashboard_id&&null!=r.selectedDashboard.linked_dashboard_id?a.error("This dashboad cannot be deleted because is linked to Audaxware enterprise."):e.Confirm("Are you sure?","The dashboard will be deleted permanently!").then(function(){c.blockScreen(),t.genericController.remove({controller:"Dashboard",action:"Delete",domain_id:i.getLoggedDomain(),project_id:r.selectedDashboard.dashboard_id},function(){a.success("Dashboard deleted successfully"),r.report=null,c.unblockScreen(),o(!0)},function(){a.error("Error to retrieve the available dashboards, please contact the technical support"),c.unblockScreen()})})}}]);
xPlanner.controller("DomainsGridCtrl",["$scope","HttpService","AuthService","GridService","$mdDialog","toastr","WebApiService","ProgressService","DialogService","$state","$q",function(n,e,t,d,i,a,l,o,r,c,s){var m;function u(t){t&&t.tbody.find("tr").dblclick(function(){var e=t.dataItem(this);n.openAddEditModal(!0,e)})}t.isAuthenticated()?(e={transport:{read:{url:e.generic("domains","All"),headers:{Authorization:"Bearer "+t.getAccessToken()}}},schema:{model:{id:"domain_id",fields:{created_at:{type:"date"}}}},error:function(){a.error("Error to retrieve data from server, please contact technical support")}},m={selectable:"row",height:window.innerHeight-110},n.options=d.getStructure(e,[{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(domainsGrid)" ng-checked="allPagesSelected(domainsGrid)" aria-label="checkbox" ng-click="select($event, domainsGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, domainsGrid)" ng-checked="isSelected(domainsGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"3em"},{headerTemplate:"<div align=center>ID</iv>",field:"domain_id",title:"ID",width:"5em",template:"<div align=center>#= domain_id #</div>"},{field:"name",title:"Enterprise",width:"14em"},{headerTemplate:"<div align=center>Show AW Info</iv>",field:"show_audax_info",title:"Show Audaxware Data",template:"<div align=center>#= show_audax_info ? 'Yes' : 'No' #</div>",width:"10em"},{headerTemplate:"<div align=center>Enabled</iv>",field:"enabled",title:"Enabled",template:"<div align=center>#= enabled ? 'Yes' : 'No' #</div>",width:"8em"},{field:"created_at",title:"Created At",width:"10em",format:"{0:MM/dd/yyyy}"},{field:"user_count",title:"User Count",width:"10em",template:"<div align=center>#= user_count #</div>"},{field:"user_last_month",title:"Acess Last Month",width:"13em",template:"<div align=center>#= user_last_month #</div>"},{field:"user_last_year",title:"Acess Last Year",width:"12em",template:"<div align=center>#= user_last_year #</div>"},{field:"manufacturers",title:"Manufacturer",width:"13em",template:"<div align=center>#= manufacturers && manufacturers.length ? manufacturers.map(m => m.manufacturer_description).join(', ') : '' #</div>"}],{template:'<section layout="row" ng-cloack><section layout="row" layout-align="start center"><button class="md-icon-button md-button md-accent" style="color: black;" ng-click="openAddEditModal(false)"><i class="material-icons">add</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Add New Enterprise</md-tooltip></button><button class="md-icon-button md-button" style="color: black;" ng-click="openAddEditModal(true)"><i class="material-icons">edit</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Edit Enterprise</md-tooltip></button></section></section>'},m),n.dataBound=function(){u(n.domainsGrid),d.dataBound(n.domainsGrid)},n.$on("kendoWidgetCreated",function(e,t){t===n.domainsGrid&&u(n.domainsGrid)}),n.isSelected=d.isSelected,n.allSelected=d.allSelected,n.select=d.select,n.allPagesSelected=d.allPagesSelected,n.openAddEditModal=function(e,t){e&&!t&&!d.verifySelected("edit","enterprise",n.domainsGrid,!0)||(t=t||d.getSelecteds(n.domainsGrid)[0],r.openModal("app/Domains/Modals/EditDomain.html","EditDomainCtrl",e?{domain:t.toJSON()||d.getSelecteds()[0],edit:!0}:{existingDomains:n.domainsGrid.dataSource.data()}).then(function(){n.domainsGrid.dataSource.read()}))},n.toggleLock=function(e){if(d.verifySelected(e,"enterprise",n.domainsGrid,!1)){switch(o.blockScreen(),e){case"disable":var t=d.getSelecteds(n.domainsGrid).filter(function(e){return!!e.enabled&&!(e.enabled=!1)});break;case"enable":t=d.getSelecteds(n.domainsGrid).filter(function(e){return!e.enabled&&(e.enabled=!0)});break;default:return}var i=[];angular.forEach(t,function(e){i.push(l.genericController.update({controller:"domains",action:"EnableDisable",domain_id:e.id,project_id:e.enabled},null,function(){d.updateItems(n.domainsGrid,e)}).$promise)}),s.all(i).then(function(){d.unselectAll(n.domainsGrid),o.unblockScreen()},function(){a.error("Was not possible "+e+" all the selected enterprises, please contact technical support"),d.unselectAll(n.domainsGrid),o.unblockScreen()})}},n.delete=function(){d.verifySelected("delete","enterprise",n.domainsGrid)&&r.Confirm("Are you sure?","The users will be deleted permanently!").then(function(){o.blockScreen(),d.deleteItems(l.genericController,function(e){return{controller:"domains",action:"Item",domain_id:e.domain_id}},n.domainsGrid).then(function(){o.unblockScreen(),a.success("Enterprise(s) Deleted!")},function(){o.unblockScreen()}),d.unselectAll(n.domainsGrid)})}):(t.clearLocalStorage(),c.go("login"))}]);
xPlanner.filter("stringToDate",function(){return function(n){return n&&-1==n.indexOf("-")?n.substring(0,2)+"-"+n.substring(2,4)+"-"+n.substring(4):n}}),xPlanner.filter("capitalize",function(){return function(n){if(n){var r=/[a-zA-Z]/i.exec(n).index;if(-1<r)return n.substring(0,r)+n.charAt(r).toUpperCase()+(r<n.length-1?n.substring(r+1).toLowerCase():"")}return n}}),xPlanner.filter("enterpriseName",function(){return function(n){var r;return n&&(-1!=(r=n.indexOf("."))?n.substring(0,r):n)}});
xPlanner.controller("IndexCtrl",["$scope","$state","WebApiService","AuthService","toastr","DialogService","$q","ProgressService","FabService","$mdDialog","StatusListProject",function(d,i,c,s,p,n,e,r,t,a,o){var m,l={},u=!1;function _(e){var t,r,a,o,i,n;e&&e.project_id&&-1!=e.project_id&&(d.costs={},c.genericController.get((t="financials",r="All",a=e.domain_id,o=e.project_id,i=e.phase_id,n=e.department_id,e=e.room_id,{controller:t,action:r,domain_id:a||s.getLoggedDomain(),project_id:o,phase_id:i,department_id:n,room_id:e}),function(e){d.costs=e},function(e){p.error("Error to retrieve financial data from server, please contact technical support")}))}function h(e){e=g(e||m);e&&(d.tree.expandTo(d.tree.dataItem(e)),d.tree.select(e))}function v(a){return e(function(t,r){u?n.SaveChangesModal().then(function(e){u=!1,(e?(d.$broadcast("saveData",a),r):t)()},function(){r()}):t()})}function f(e){return e.project_description||e.description||e.drawing_room_name+(null==e.drawing_room_number||""==e.drawing_room_number?"":" - "+e.drawing_room_number)+(1==e.room_quantity?"":" ("+e.room_quantity+")")}function g(e,t){var r,a={items:d.treeviewAllData};function o(t){var e;a&&a.items&&(e=a.items.find(function(e){return e.id==t}),a?void 0===a.items&&(a.items=[]):console.error("Error to find item by id "+t),a=e)}if(d.treeData&&e.project_id)return r=(r=d.treeData).get(e.project_id),o(e.project_id),!e.phase_id||!e.department_id&&t||(r.load(),r=(r=r.children).get(e.phase_id),o(e.phase_id),!e.department_id)||!e.room_id&&t||(r.load(),r=(r=r.children).get(e.department_id),o(e.department_id),e.room_id&&!t&&(r.load(),r=(r=r.children).get(e.room_id),o(e.room_id))),(t=r&&d.tree.findByUid(r.uid))&&(t.nodeData=a),t}function j(){d.treeviewActiveData=d.treeviewAllData.filter(function(e){return"A"==e.status||"a"==e.status}),d.treeviewFavoritiesData=d.treeviewAllData.filter(function(e){return e.mine})}function w(){var e=[];switch(d.filterOptions.showProject){case"a":e=d.treeviewAllData;break;case"b":e=d.treeviewActiveData;break;case"m":e=d.treeviewFavoritiesData;break;case"c":m&&(e=[D(d.treeviewAllData,"id",m.project_id)])}return function e(t){if(d.searchTreeLowerCase.length<1||!t)return t;for(var r=[],a=0;a<t.length;a++){var o,i=t[a];0<=i.text.toLowerCase().indexOf(d.searchTreeLowerCase)?r.push(t[a]):(i=e(i.items))&&0<i.length&&((o=Object.assign({},t[a])).items=i,r.push(o))}return r}(e)}function b(e){var t=w();d.treeData=new kendo.data.HierarchicalDataSource({data:t,schema:{model:e?{id:"id",children:"items"}:{id:"id"}}})}function D(e,t,r){return e.find(function(e){return e[t]==r})}function x(e){var t="",r=function(e){for(var t=o,r=0;r<t.length;r++)if(t[r].id==e)return t[r].name;return"No Status"}(e.status),t=(t=e.client_project_number?e.client_project_number+" - ":t)+e.project_description+" ("+r;return e.locked_comment&&(t=t+" - "+e.locked_comment),t+=")"}d.add=!1,d.treeviewAllData=[],d.treviewActiveData=[],d.treeviewFavoritiesData=[],d.searchTree="",d.searchTreeLowerCase="",d.isNotViewer="3"!=s.getLoggedUserType(),d.$on("itemHasChanges",function(){u=!0}),d.$on("updateProgressBar",function(e,t){null!=t&&(null==t.domain_id&&(t.domain_id=s.getLoggedDomain()),_(t))}),d.$on("getBreadcrumb",function(e,t){d.path={},_(t),t.room_id&&(d.path=angular.extend(d.path,{room_id:t.room_id,room_name:t.drawing_room_name}),t=t.project_department),t.department_id&&(d.path=angular.extend(d.path,{department_id:t.department_id,department_name:t.description}),t=t.project_phase),t.phase_id&&(d.path=angular.extend(d.path,{phase_id:t.phase_id,phase_name:t.description}),t=t.project),t.project_id&&(d.path=angular.extend(d.path,{project_id:t.project_id,project_name:t.project_description}))}),d.getLevel=function(e){return e.room_id?"room":e.department_id?"department":e.phase_id?"phase":"project"},d.goToProjectState=function(e){var t,r;!e||e==d.activeTab&&"pos"!==e.name||(t=d.getLevel(m),(r={}).state="index."+t+(e.router?"_"+e.router:""),r.params=angular.extend({},m,{tab:e.name}),v(r).then(function(){i.go(r.state,r.params)}))},d.$watch(function(){return!d.add&&d.treeData&&0<d.treeData.data().length},function(e){e&&m&&h()}),d.$watch(function(){return(d.add||"details"!=l.tab&&l.project_id)&&d.tree&&0<d.tree.items().length?l:null},function(e){e&&(r.blockScreen(),delete l.serverController,d.getAddBreadcrumb(l).then(function(e){d.path=e,r.unblockScreen()}))}),d.tabs=[{label:"Details",name:"details"},{label:"Assets",router:"assets",name:"assets"},{label:"Purchase Orders",router:"pos",name:"purchaseOrders"},{label:"Reports",router:"reports",name:"reports"},{label:"Documents",router:"documents",name:"documents"},{label:"Connectivity",router:"connectivity",name:"connectivity"},{label:"Documents",router:"documents",name:"roomDocuments"}],d.path={},d.mineButton={icon:"edit",tooltip:"Edit mine"},d.filterOptions={showProject:"a"},d.$on("ChangeTreeviewNode",function(e,t){t&&h(t)}),d.$on("dataSaved",function(e,t){u=!1,t&&i.go(t.state,t.params)}),d.$on("removeFromTreeView",function(e,t){d.tree.remove(g(t)),t&&m&&t.project_id===m.project_id&&(t.phase_id&&(t.phase_id!==m.phase_id||t.department_id&&(t.department_id!==m.department_id||(!t.room_id||t.room_id!==m.room_id)&&t.room_id))||d.goToUpLevel(t,!0))}),d.changeDetailsItem=function(e){var t=function(e){var t="",r={tab:d.activeTab,domain_id:s.getLoggedDomain()};switch(e.level()){case 0:t="index.project",r.project_id=e.id,r.controller="Projects";break;case 1:t="index.phase",r.project_id=e.parentNode().id,r.phase_id=e.id,r.controller="Phases";break;case 2:t="index.department",r.project_id=e.parentNode().parentNode().id,r.phase_id=e.parentNode().id,r.department_id=e.id,r.controller="Departments";break;case 3:t="index.room",r.project_id=e.parentNode().parentNode().parentNode().id,r.phase_id=e.parentNode().parentNode().id,r.department_id=e.parentNode().id,r.room_id=e.id,r.controller="Rooms"}return{state:t+("assets"===d.activeTab?"_assets":"purchaseOrders"===d.activeTab?"_pos":"dashboard"===d.activeTab?"_dashboard":"reports"===d.activeTab?"_reports":"documents"===d.activeTab&&0==e.level()?"_documents":"connectivity"===d.activeTab?"_connectivity":"roomDocuments"===d.activeTab&&3==e.level()?"_documents":""),params:r}}(e);m&&t.params.project_id==m.project_id&&t.params.phase_id==m.phase_id&&t.params.department_id==m.department_id&&t.params.room_id==m.room_id||(m?v(t).then(function(){r.blockScreen(),i.go(t.state,t.params)}):(r.blockScreen(),i.go(t.state,t.params)))},d.changeDetailsItemBreadcrumb=function(e,t){v({state:"index."+e,params:t}).then(function(){i.go("index."+e,t)})},d.getAddBreadcrumb=function(a){return e(function(e,t){var r;_(a),a&&a.project_id?(r=g(a))&&(a.department_id&&(a.department_name=d.tree.text(r),a.room_id=-1,r=r.parent().parent()),a.phase_id&&(a.phase_name=d.tree.text(r),a.department_id=a.department_id||-1,r=r.parent().parent()),a.project_name=d.tree.text(r),a.phase_id=a.phase_id||-1):a.project_id=-1,e(a)})},d.search=function(){d.searchTreeLowerCase=d.searchTree.toLowerCase(),b(!0)},d.reloadTreeview=function(){r.blockScreen(),e(function(t,e){c.treeview_projects.query({action:"All",domain_id:s.getLoggedDomain()},function(e){d.filterOptions.show=!0,d.treeviewAllData=e,s.setProjectStatus(e),j(),t(e)},function(){e()})}).then(function(e){b(!0),r.unblockScreen()},function(){p.error("Error to retrieve treeview data, please contact technical support"),r.unblockScreen(),s.clearLocalStorage(),i.go("login")})},d.reloadTreeview(),d.ChangeProjectsSource=function(){var e;d.treeData.data(w()),m&&(e=g(m),d.tree.expandTo(d.tree.dataItem(e)),d.tree.select(e))},d.addToMine=function(t){D(d.treeviewFavoritiesData,"id",t.id)||c.project_mine.save({project_id:t.id||t.project_id,domain_id:t.domain_id},null,function(){t.id=t.id||t.project_id,t=d.treeviewAllData.find(function(e){return e.id==t.id}),d.treeviewFavoritiesData.push(t),p.success("Project added to favorites"),d.$broadcast("AddRemoveFavorites",t,!0),"m"==d.filterOptions.showProject&&ChangeProjectSource()},function(e){p.error("Error to add project to mine, please contact technical support")})},d.removeFromMine=function(t){!d.treeviewFavoritiesData||d.treeviewFavoritiesData.length<=0||c.project_mine.remove({project_id:t.id||t.project_id,domain_id:t.domain_id},function(){var e=d.treeviewFavoritiesData.indexOf(D(d.treeviewFavoritiesData,"id",t.id));d.treeviewFavoritiesData.splice(e,1),"m"==d.filterOptions.showProject&&(t.project_id=t.id,ChangeProjectsSource()),d.$broadcast("AddRemoveFavorites",t,!1)},function(){p.error("Error to remove the project from mine, please contact technical support")})},d.$on("addItemTreeView",function(e,t){null!=t&&d.addItemTreeView(t)}),d.addItemTreeView=function(e){console.log("treeview updating");var t=e.text||f(e),r=e.id||e.room_id||e.department_id||e.phase_id||e.project_id,r=(e.phase_id||(t=x(e)),e.phase_id?{id:r,text:t}:{id:r,domain_id:e.domain_id,text:t,items:e.items}),t=e.phase_id?g(e,!0):null;d.tree.append(r,t),d.tree.select(g(e)),(t&&t.nodeData&&t.nodeData.items?t.nodeData.items:d.treeviewAllData).push(r)},d.updateItemTreeView=function(e){var t=g(e),r=f(e);e.phase_id||(r=x(e)),d.tree.text(t,r),void 0!==t.nodeData&&void 0!==t.nodeData.status&&t.nodeData.status!=e.status&&(t.nodeData.status=e.status,j())},d.chosen=t.chosen,d.AddState=function(e){return"3"==s.getLoggedUserType()?"":0==e.level()?"index.phase_add({project_id: "+e.id+"})":1==e.level()?"index.department_add({project_id: "+e.parentNode().id+", phase_id: "+e.id+"})":2==e.level()?"index.department({project_id: "+e.parentNode().parentNode().id+", phase_id: "+e.parentNode().id+", department_id: "+e.id+"})":""},d.AddStateProject=function(){return"3"==s.getLoggedUserType()||"2"==s.getLoggedUserType()?"":"index.project_add"},d.checkIfRoom=function(e){var t,r,o;"3"==s.getLoggedUserType()?n.ViewersChangesModal():2==e.level()&&(t=e.parentNode().parentNode().id,r=e.parentNode().id,e=e.id,o={project_id:t.toString(),phase_id:r.toString(),department_id:e.toString()},a.show({controller:"AddRoomCtrl",templateUrl:"app/Projects/Details/Modals/AddRoom.html",fullscreen:!0,clickOutsideToClose:!0,locals:{local:{params:o}}}).then(function(e){for(var t=e.text.split("||"),r=0;r<t.length;r++){var a=JSON.parse(t[r]);d.addItemTreeView(a)}i.go("index.department",o,{reload:!0})}))},d.checkIfViewer=function(){"3"!=s.getLoggedUserType()&&"2"!=s.getLoggedUserType()||n.ViewersChangesModal()},d.goToUpLevel=function(e,t){t=t?e.room_id?"index.department":e.department_id?"index.phase":e.phase_id?"index.project":"index":e.department_id?"index.department":e.phase_id?"index.phase":e.project_id?"index.project":"index";i.go(t,{project_id:e.project_id,phase_id:e.phase_id,department_id:e.department_id},{reload:"index"===t})},d.$on("detailsParams",function(e,t){m=t,l=angular.copy(t),d.add=t.add,d.activeTab=!("documents"===t.tab&&t.phase_id||"roomDocuments"===t.tab&&!t.room_id)&&t.tab||"details",d.showTabs=t.add||t.project_id,h()})}]);
xPlanner.controller("ManufacturerDetailsCtrl",["$scope","WebApiService","$stateParams","toastr","ProgressService","DialogService","$rootScope","$state","AudaxwareDataService","AuthService",function(r,e,a,t,n,o,c,i,u,s){function l(e){return{controller:"manufacturer",action:"Item",domain_id:e?s.getLoggedDomain():r.params.domain_id,project_id:r.params.manufacturer_id}}function d(){i.go("assetsWorkspace.manufacturers")}r.$emit("initialTab","manufacturers"),r.params=a,r.contactType="manufacturer",n.blockScreen(),e.genericController.get(l(),function(e){r.manufacturer=e,r.canModify=1==s.getLoggedDomain()||s.getLoggedDomain()===e.domain_id,n.unblockScreen()}),r.buttons=[{label:"Save",icon:"save",click:function(){"3"==s.getLoggedUserType()?o.ViewersChangesModal():(r.detailsForm.$setSubmitted(),r.detailsForm.$valid?u.CheckHasToDuplicate(r.manufacturer,"manufacturer").then(function(){e.genericController.update(l(!0),r.manufacturer,function(e){e.manufacturer_id===r.manufacturer_id&&e.domain_id===r.domain_id||i.go("assetsWorkspace.manufacturersDetails",e),t.success("Manufacturer saved")})}):t.error("Please make sure you enter all the required fields"))},showContidion:!0},{label:"Delete",icon:"delete_forever",click:function(){"3"==s.getLoggedUserType()?o.ViewersChangesModal():o.Confirm("Are you sure?","The manufacturer will be deleted permanently").then(function(){n.blockScreen(),e.genericController.remove(l(),function(e){n.unblockScreen(),t.success("Manufacturer deleted"),d()},function(e){n.unblockScreen(),409===e.status?t.info(e.data):t.success("Error to try delete manufacturer, please contact technical support")})})},showContidion:!0},{label:"Back to List",icon:"reply",click:d}],r.buttons.state=!0}]);
xPlanner.controller("ManufacturersListCtrl",["$scope","GridService","ProgressService","toastr","AuthService","DialogService","HttpService","WebApiService","$state",function(a,r,t,n,e,d,i,c,o){a.$emit("initialTab","manufacturers"),a.grid_content_height=window.innerHeight-210;i={transport:{read:{url:i.generic("manufacturer","All",e.getLoggedDomain()),headers:{Authorization:"Bearer "+e.getAccessToken()}},error:function(){n.error("Error to retrieve data from server, please contact technical support")}},schema:{model:{id:"manufacturer_id"}}};a.options=r.getStructure(i,[{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(manufacturersListGrid)" ng-checked="allPagesSelected(manufacturersListGrid)" aria-label="checkbox" ng-click="select($event, manufacturersListGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, manufacturersListGrid)" ng-checked="isSelected(manufacturersListGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"3em"},{field:"manufacturer_description",title:"Manufacturer",width:450},{field:"date_added",title:"Date Added",width:180,template:"#: date_added ? kendo.toString(kendo.parseDate(date_added), \"MM-dd-yyyy\") : '' #"},{field:"added_by",title:"Added By",width:180},{field:"domain.name",title:"Owner",template:"{{ dataItem.domain.name | capitalize }}",width:180},{headerTemplate:'<section layout="row" layout-align="center end"><button style="margin-left: -0.25em; padding-bottom: 0.2em;" class="md-icon-button md-button no-button"><i class="material-icons no-button">comment</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Comment</md-tooltip></button></section>',template:'<div ng-if=" #: comment != null && comment != \'\' # " align=center><md-icon class="no-button grid-item-color">comment</md-icon><md-tooltip md-direction="bottom">#: comment #</md-tooltip></div>',width:70}],null,{noRecords:"No manufacturers available",height:a.grid_content_height,groupable:!0}),a.dataBound=function(){var t;(t=a.manufacturersListGrid)&&t.tbody.find("tr").dblclick(function(){var e=t.dataItem(this);a.showDetails(e)}),r.dataBound(a.manufacturersListGrid)},a.isSelected=r.isSelected,a.allSelected=r.allSelected,a.select=r.select,a.allPagesSelected=r.allPagesSelected,a.collapseExpand=r.collapseExpand,a.showDetails=function(e){if(!e){if(!r.verifySelected("view details","manufacturer",a.manufacturersListGrid,!0))return;e=r.getSelecteds(a.manufacturersListGrid)[0]}r.unselectAll(a.manufacturersListGrid),o.go("assetsWorkspace.manufacturersDetails",{domain_id:e.domain_id,manufacturer_id:e.manufacturer_id})},a.openAddModal=function(){"3"==e.getLoggedUserType()?d.ViewersChangesModal():d.openModal("app/Manufacturer/Modals/AddManufacturer.html","AddManufacturerCtrl").then(function(e){angular.forEach(e,function(e){a.manufacturersListGrid.dataSource.add({added_by:e.added_by,comment:e.comment,date_added:e.date_added,domain_id:e.domain_id,manufacturer_description:e.manufacturer_description,manufacturer_id:e.manufacturer_id})})})},a.delete=function(){"3"==e.getLoggedUserType()?d.ViewersChangesModal():r.verifySelected("delete","manufacturer",a.manufacturersListGrid)&&d.Confirm("Are you sure?","The manufacturer(s) will be deleted permanently!").then(function(){t.blockScreen(),r.deleteItems(c.genericController,function(e){return{controller:"manufacturer",action:"Item",domain_id:e.domain_id,project_id:e.manufacturer_id}},a.manufacturersListGrid,null,!0).then(function(e){t.unblockScreen(),n.success("Manufacturer(s) Deleted")},function(e){t.unblockScreen(),409===e.status?n.info("Some, or all, of the manufacturers could not be deleted -- there is assigned asset"):n.error("Error to delete one o more manufacturers, please contact the technical support"),r.unselectAll(a.manufacturersListGrid)})})}}]);
xPlanner.controller("ManufacturerVendorsGridCtrl",["$scope","HttpService","GridService","$state","AuthService",function(o,t,e,i,n){t={transport:{read:{url:t.generic("manufacturer","Vendors",o.params.domain_id,o.params.manufacturer_id),headers:{Authorization:"Bearer "+n.getAccessToken()}}},schema:{model:{id:"vendor_id"}}};function d(e){e&&e.tbody.find("tr").dblclick(function(){var t=e.dataItem(this);i.go("assetsWorkspace.vendors.details",{domain_id:t.domain_id,vendor_id:t.vendor_id})})}o.options=e.getStructure(t,[{field:"name",title:"Name"},{field:"territory",title:"Territory"},{headerTemplate:'<div align=center><button style="padding: 0px; bottom: -4px;" class="md-icon-button md-button no-button"><i class="material-icons no-button">comment</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Comment</md-tooltip></button></div>',template:'<div ng-if=" #: comment != null # " align=center><md-icon class="no-button grid-item-color">comment</md-icon><md-tooltip md-direction="bottom">#: comment #</md-tooltip></div>',width:70}],null,{noRecords:"No vendors available",height:300}),o.dataBound=function(){d(o.vendorsGrid)},o.$on("kendoWidgetCreated",function(t,e){e===o.vendorsGrid&&d(o.vendorsGrid)})}]);
xPlanner.controller("POCtrl",["$scope","HttpService","AuthService","GridService","ProgressService","$stateParams","toastr","DialogService","WebApiService","$state","UtilsService","ProgressService",function(i,a,e,o,n,t,l,r,d,c,s,n){i.$emit("detailsParams",angular.copy(t)),i.params=angular.copy(t),i.isNotViewer="3"!=e.getLoggedUserType();var m,u={pageSize:50,transport:{read:{url:a.generic("PurchaseOrders","AllGrouped",e.getLoggedDomain(),i.params.project_id,i.params.phase_id||null,i.params.department_id||null,i.params.room_id||null),headers:{Authorization:"Bearer "+e.getAccessToken()}}},error:function(){n.unblockScreen(),l.error("Error to retrieve POs from server, please contact technical support")},schema:{model:{id:"po_id"},parse:function(e){return e.map(function(e){return e.comment=s.GetCommentTemplate(e.comment,!0),e})}}},p=(i.gridHeight=window.innerHeight-200,{filterable:!0,reorderable:!0,groupable:!0,height:i.gridHeight,noRecords:{template:"No POs available."},columnMenu:{columns:!0,sortable:!1,messages:{columns:"Columns",filter:"Filter"}}}),f={excel:{fileName:"Purchase Order "+(t.room_id?"Room":t.department_id?"Depatment":t.phase_id?"Phase":"Project")+" Details.xlsx",allPages:!0,filterable:!0},pdf:{fileName:"Purchase Order "+(t.room_id?"Room":t.department_id?"Depatment":t.phase_id?"Phase":"Project")+" Details.pdf",allPages:!0,author:"audaxware",creator:"audaxware",margin:{left:10,right:"10pt",top:"10mm",bottom:"1in"}}};function g(e){return e.map(function(e){var t=e.comment.originalComment;return e.comment.originalComment=e.comment.comment,e.comment.comment=t,e})}function h(){if("3"==e.getLoggedUserType())r.ViewersChangesModal();else{if("L"!=e.getProjectStatus(i.params.project_id))return 1;r.LockedProjectModal()}}i.options=o.getStructure(u,[{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(posGrid)" ng-checked="allPagesSelected(posGrid)" aria-label="checkbox" ng-click="select($event, posGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, posGrid)" ng-checked="isSelected(posGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"3em",lockable:!1},{field:"invalid_po",title:"Valid",template:'<div align=center center class="valid-header" ng-if="!dataItem.invalid_po"><md-icon class="md-prymary" title="Valid">check_circle</md-icon></div>',width:"90px",filterable:!0},{field:"po_number",title:"PO No.",width:160,template:'<span ng-if="dataItem.po_file != null && dataItem.po_number != null" class="grid_link"><section layout="row" layout-align="center center" ng-click="downloadFile(\'#: po_file #\', #: domain_id#, \'po\')">#: po_number #</section></span><span ng-if="dataItem.po_file == null && dataItem.po_number != null"><section layout="row" layout-align="center center">#: po_number #</section></span>'},{field:"description",title:"Description",width:230,template:"<span>#: description #<md-tooltip>#: description #</md-tooltip></span>"},{field:"status",title:"Status",width:140},{field:"status_date",title:"Status Date",width:140,template:"#: status_date && status_date !== '' ? kendo.toString(kendo.parseDate(status_date), \"MM-dd-yyyy\") : '' #"},{field:"vendor_name",title:"Vendor",width:150,template:"<span>#: vendor_name #<md-tooltip>#: vendor_name #</md-tooltip></span>"},{field:"amount",title:"PO Amount",template:'<aw-currency value="#: amount # "></aw-currency>',width:150},{field:"asset_amount",title:"Asset Amount",template:'<aw-currency value="#: asset_amount # "></aw-currency>',width:160},{field:"freight",title:"Freight Amount",template:'<aw-currency value="#: freight # "></aw-currency>',width:160},{field:"install",title:"Install",template:'<aw-currency value="#: install # "></aw-currency>',width:130},{field:"warranty",title:"Warranty",template:'<aw-currency value="#: warranty # "></aw-currency>',width:150},{field:"tax",title:"Tax",template:'<aw-currency value="#: tax # "></aw-currency>',width:120},{field:"contingency",title:"Contingency",template:'<aw-currency value="#: misc # "></aw-currency>',width:160},{field:"quote_discount",title:"Quote Discount",template:'<aw-currency value="#: quote_discount # "></aw-currency>',width:180},{field:"quote_expiration_date",title:"Quote Expiration Date",width:210,template:"#: quote_expiration_date && quote_expiration_date !== '' ? kendo.toString(kendo.parseDate(quote_expiration_date), \"MM-dd-yyyy\") : '' #"},{field:"quote_number",title:"Quote No.",width:170,template:'<span ng-if="dataItem.quote_file != null && dataItem.quote_number != null" class="grid_link"><section layout="row" layout-align="center center" ng-click="downloadFile(\'#: quote_file #\', #: domain_id#, \'quote\')">#: quote_number #</section></span><span ng-if="dataItem.quote_file == null && dataItem.quote_number != null"><section layout="row" layout-align="center center">#: quote_number #</section></span>'},{field:"po_requested_number",title:"Requisition No.",width:160,template:'<span ng-if="dataItem.po_requested_number != null">#: po_requested_number #<md-tooltip>#: po_requested_number #</md-tooltip></span>'},{headerTemplate:'<div align=center class="comment-header"><i class="material-icons no-button" title="Comment">comment</i></div>',title:"Comment",field:"comment.comment",template:"#= comment.comment #",width:90},{field:"ship_to",title:"Ship To",width:120},{field:"aging_days",title:"Aging (Days)",width:160,template:"<center>#: aging_days || '' #</center>"},{field:"report",title:"Report",width:120,template:'<section layout="row" layout-align="center center"><md-icon class="md-accent" ng-click="report(dataItem)">description</md-icon></section>',filterable:!1}],{template:'<section layout="row"><section layout="row" layout-align="start center" flex-gt-sm="20" flex="30" ng-if="'+i.isNotViewer+'"><button class="md-icon-button md-button" ng-click="openAddModal()"><i class="material-icons">add</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Add PO</md-tooltip></button><button class="md-icon-button md-button" ng-click="showDetails()"><i class="material-icons">edit</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">View purchase order details</md-tooltip></button><button class="md-icon-button md-button" ng-click="deletePOs()"><i class="material-icons">delete</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Delete PO(s)</md-tooltip></button></section><section layout="row" layout-align="center center" flex-gt-sm="70" flex="55" layout-fill><md-input-container class="md-block no-md-errors-spacer" style="margin: 0px;" flex="90"><label>Search</label><input name="search" ng-model="searchBoxValue" ng-enter="search(searchBoxValue)"></md-input-container><button class="md-icon-button md-button gray-color" style="bottom: -0.5em; padding-left: 0px; margin-left: 0px" ng-click="clearAllFilters()"><i class="material-icons">delete_sweep</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Clear all filters</md-tooltip></button></section><section layout="row" flex="10" layout-align="end start"><button class="md-icon-button md-button" ng-click="collapseExpand(posGrid)"><md-icon md-svg-icon="collapse_expand"></md-icon><md-tooltip md-direction="bottom">Collapse/Expand All</md-tooltip></button></section></section>'},p,null,f),i.showDetails=function(e){if(!e){if(!o.verifySelected("view details","purchase orders",i.posGrid,!0))return;e=o.getSelecteds(i.posGrid)[0]}n.blockScreen(),c.go("index."+i.getLevel(i.params)+"_pos_details",angular.extend({},i.params,e))},i.dataBound=function(){var t;m=m||i.posGrid.dataSource.data(),(t=i.posGrid)&&t.tbody.find("tr").dblclick(function(){var e=t.dataItem(this);i.showDetails(e)}),o.dataBound(i.posGrid)},i.isSelected=o.isSelected,i.allSelected=o.allSelected,i.select=o.select,i.allPagesSelected=o.allPagesSelected,i.collapseExpand=o.collapseExpand,i.pdfExport=function(){o.exportToPDF_Event(i.posGrid)},i.search=function(o){var a,e=m||i.posGrid.dataSource.data();o?(o=o.toLowerCase(),m=e,a=i.posGrid.columns,i.posGrid.dataSource.data(e.filter(function(e){for(var t=1;t<a.length;t++)if(!a[t].hidden&&-1<String(e[a[t].field]).toLowerCase().indexOf(o))return!0}))):i.posGrid.dataSource.data(m)},i.clearAllFilters=function(e){i.searchBoxValue=null,o.ClearFilters(i.posGrid),i.search()},i.openAddModal=function(){h()&&r.openModal("app/POs/Modals/AddPO.html","AddPOCtrl",{params:t},!0).then(function(e){c.go("index."+i.getLevel(i.params)+"_pos_details",angular.extend({},i.params,e))})},i.deletePOs=function(){h()&&o.verifySelected("delete","purchase order",i.posGrid)&&r.Confirm("Are you sure?","The purchase order(s) will be deleted permanently").then(function(){n.blockScreen();var t=o.getSelecteds(i.posGrid).map(function(e){return e.po_id});o.deleteItems(d.genericController,function(e){return{controller:"PurchaseOrders",action:"Item",domain_id:e.domain_id,project_id:e.project_id,phase_id:e.po_id}},i.posGrid,null,!0).then(function(e){n.unblockScreen(),l.success("Purchase Order(s) Deleted"),m=m.filter(function(e){return-1===t.indexOf(e.po_id)})},function(e){n.unblockScreen(),l.error("Error to delete one o more purchase orders, please contact the technical support"),o.unselectAll(i.posGrid)})})},i.downloadFile=function(e,t,o){window.open(a.generic("filestream","file",t,e,o),"_self")},i.report=function(e){window.open(a.generic("PurchaseOrders","DownloadPOCover",e.domain_id,e.project_id,e.id),"_self")},i.buttons=[{label:"Export to Excel",icon:"file_simple",click:{func:function(e){n.blockScreen(),i.posGrid.dataSource.data(g(i.posGrid.dataSource.data())),o.exportGrid(e,i.posGrid),i.posGrid.dataSource.data(g(i.posGrid.dataSource.data())),n.unblockScreen()},params:"excel"}}]}]);
xPlanner.controller("PODetailsCtrl",["$scope","AuthService","$stateParams","WebApiService","toastr","ProgressService","DialogService","HttpService","GridService","$q","$state","StatusListeditMulti",function(r,e,t,d,n,s,l,a,o,c,i,u){function p(){return{controller:"PurchaseOrders",action:"Item",domain_id:e.getLoggedDomain(),project_id:r.detailsParams.project_id,phase_id:r.detailsParams.po_id}}function m(e){var t;(oldVendor=e)&&((e=e.toJSON?e.toJSON():e).vendor=(r.data||e).vendor,(r.data=e).quote_expiration_date&&(r.data.quote_expiration_date=new Date(e.quote_expiration_date),r.minQuoteExDate=new Date(e.quote_requested_date)),r.$emit("updateProgressBar",r.detailsParams),t=0,r.assignedAssetsGrid)&&c.all(r.assignedAssetsGrid.dataSource.data().map(function(e){t+=Number(e.total_po_amt||0)})).then(function(e){r.$emit("updateProgressBar",r.detailsParams),_(t)})}function f(){r.assignedAssetsGrid.dataSource.read()}function _(e){e=Math.abs(Math.round(100*(e+(Number(r.data.install)||0)+(Number(r.data.freight)||0)+(Number(r.data.warehouse)||0)+(Number(r.data.tax)||0)+(Number(r.data.warranty)||0)+(Number(r.data.misc)||0)-(Number(r.data.quote_discount)||0)))/100-r.data.quote_amount);r.data.invalid_po=0!==e,0!==e&&n.info("Data entered for this purchase does not match the quote amount. Delta amount: $"+e.toFixed(2)+". This PO will not be used for procurement calculations until this is addressed.")}r.vendorCtrlParams={domain_id:e.getLoggedDomain()},r.$emit("detailsParams",t),r.detailsParams=angular.copy(t),r.statusList=u.filter(function(e){return"Plan"!=e.value}),r.isNotViewer="3"!=e.getLoggedUserType(),r.requestPOQuote=function(e){P()&&l.openModal("app/POs/Modals/RequestPOQuote.html","RequestPOQuoteCtrl",{po:r.data,type:e},!0).then(function(e){m(e),f()})},r.receiveQuote=function(){P()&&l.openModal("app/POs/Modals/ReceiveQuote.html","ReceiveQuoteCtrl",{po:r.data},!0).then(function(e){m(e),f()})},r.receivePO=function(){P()&&l.openModal("app/POs/Modals/ReceivePO.html","ReceivePOCtrl",{po:r.data},!0).then(function(e){m(e),f()})},r.save=function(){var a,o,i;P()&&(r.poForm.$setSubmitted(),r.poForm.$valid?(a=oldVendor.vendor_id,o=r.data.vendor.vendor_id,i=0<r.data.vendor_contact.length,c(function(e,t){a!=o&&i?l.Confirm("Are you sure ?","Changing the vendor will delete contact(s) related to purchase order permanently.").then(function(){e()},function(){t()}):e()}).then(function(){s.blockScreen(),r.data.project_addresses=null;for(var t=r.assignedAssetsGrid.dataSource.data(),e=t.filter(function(e){return e.dirty}),a=0;a<e.length;a++){var o=e[a].current_location;if("Delivered"==o&&null!=e[a].received_date)return n.error("Assigned Assets: To set Received Date the status must be Received or Completed for asset code: "+e[a].asset_code),s.unblockScreen(),!1;if("Received"!=o&&"Delivered"!=o&&"Completed"!=o&&(null!=e[a].delivered_date||null!=e[a].received_date))return n.error("Assigned Assets: To set Delivered or Received Dates the status must be Received, Delivered or Completed for asset code: "+e[a].asset_code),s.unblockScreen(),!1;if(null!=e[a].delivered_date&&null!=e[a].received_date){o=new Date(e[a].delivered_date);if(new Date(e[a].received_date)<=o)return n.error("Assigned Assets: Received Date must be higher than Delivered Date for asset code: "+e[a].asset_code),s.unblockScreen(),!1}}d.genericController.update({controller:"InventoryPurchaseOrder",action:"Item",domain_id:r.detailsParams.domain_id,project_id:r.detailsParams.project_id,phase_id:r.detailsParams.po_id},e,function(){var e=t.reduce(function(e,t){return Number(t.total_po_amt||0)+e},0);console.log(e),r.$emit("updateProgressBar",r.detailsParams),_(e),d.genericController.update({controller:"PurchaseOrders",action:"Item",domain_id:r.data.domain_id,project_id:r.data.project_id,phase_id:r.data.po_id},r.data,function(){n.success("PO updated"),r.assignedAssetsGrid.dataSource.read(),s.unblockScreen()},function(){n.error("Error to update PO, please contact the technical support"),s.blockScreen()})},function(){n.error("Error to update PO, please contact the technical support"),s.unblockScreen(),location.reload(!0)})})):n.error("Please make sure you entered correctly all the fields"))},r.buttonsOpened=!0,d.genericController.query({controller:"Address",action:"All",domain_id:e.getLoggedDomain(),project_id:r.detailsParams.project_id},function(e){r.addressList=e},function(){n.error("Error to retrieve addresses from server, please contact the technical support")}),s.blockScreen(),d.genericController.get(p(),function(e){m(e),r.options=o.getStructure(v,h,b,{noRecords:"There is no assigned assets",editable:!0,groupable:!0,height:400}),s.unblockScreen()},function(){n.error("Error to retrieve data from server, please contact the technical support"),s.unblockScreen()}),r.back=function(){i.go("index."+r.getLevel(r.detailsParams)+"_pos",r.detailsParams)},r.del=function(){P()&&l.Confirm("Are you sure?","The purchase order will be deleted permanently").then(function(){s.blockScreen(),d.genericController.remove(p(),function(e){s.unblockScreen(),n.success("Purchase order deleted"),r.back()},function(e){s.unblockScreen(),n.error("Error to try delete vendor, please contact technical support")})})},r.filesUpload=function(){P()&&l.openModal("app/POs/Modals/UploadPOFiles.html","UploadPOFilesCtrl",{params:r.data},!0)};var h=[{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(assignedAssetsGrid)" ng-checked="allPagesSelected(assignedAssetsGrid)" aria-label="checkbox" ng-click="select($event, assignedAssetsGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, assignedAssetsGrid)" ng-checked="isSelected(assignedAssetsGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"3em"},{field:"asset_code",title:"Code",width:110},{field:"manufacturer_description",title:"Manufacturer",width:170,template:"<span>#: manufacturer_description #<md-tooltip>#: manufacturer_description #</md-tooltip></span>"},{field:"serial_number",title:"Model Number",width:150},{field:"serial_name",title:"Model Name",width:150},{field:"asset_description",title:"Name",width:170,template:"<span>#: asset_description #<md-tooltip>#: asset_description #</md-tooltip></span>"},{field:"jsn_code",title:"JSN",width:100},{field:"po_qty",title:"Net New",width:110,template:"<center>#: po_qty#</center>"},{field:"total_po_amt",title:"Total Amt",width:150,editor:function(e,t){$('<input data-text-field="'+t.field+'" class="k-input k-textbox" data-value-field="'+t.field+'" data-bind="value:'+t.field+'" ng-ignore-enter />').appendTo(e)},template:'<aw-currency value="#: total_po_amt # "></aw-currency>',attributes:{id:"total_po_amt"},format:"n2"},{field:"po_unit_amt",title:"Unit Amt",width:110,template:'<aw-currency value="#: po_unit_amt  # "></aw-currency>'},{field:"budget_amt",title:"Planned Amt",width:130,template:'<aw-currency value="#: budget_amt # "></aw-currency>'},{field:"option_codes",title:"Options Code",width:"200px",attributes:{class:"no-multilines"},template:"#: option_codes || '' #"},{field:"option_descriptions",title:"Options Description",width:"200px",attributes:{class:"no-multilines"},template:"#: option_descriptions || '' #"},{field:"option_prices",title:"Options Budget",width:"180px",template:"#= option_prices != null && option_prices != undefined ? option_prices !== 'Pending' ? '<aw-currency value=\"' + option_prices +  '\"></aw-currency>' : option_prices : '' #"},{field:"current_location",title:"Status",width:150,editor:function(e,t){$('<input data-text-field="name" data-value-field="value" data-bind="value:'+t.field+'"/>').appendTo(e).kendoDropDownList({dataSource:r.statusList})}},{field:"delivered_date",title:"Delivered Date",width:150,editor:g,format:"{0:MM/dd/yyyy}",template:"#: delivered_date ? kendo.toString(kendo.parseDate(delivered_date), \"MM/dd/yyyy\") : '' #"},{field:"received_date",title:"Received Date",width:150,editor:g,format:"{0:MM/dd/yyyy}",template:"#: received_date ? kendo.toString(kendo.parseDate(received_date), \"MM/dd/yyyy\") : '' #"}];function g(e,t){$('<input data-text-field="'+t.field+'" data-value-field="'+t.field+'" data-bind="value:'+t.field+'" data-format="'+t.format+'"/>').appendTo(e).kendoDatePicker({})}var b={template:'<section layout="row" ng-cloak ng-if="'+r.isNotViewer+'"><section layout="row" layout-align="start center" flex="85" class="gray-color"><button class="md-icon-button md-button" ng-click="deleteAsset()"><i class="material-icons">delete</i><md-tooltip md-direction="bottom">Delete Asset</md-tooltip></button></section><section layout="row" layout-align="end center" flex="15"><button class="md-icon-button md-button md-accent" ng-click="openAddModal()"><i class="material-icons">add_circle</i><md-tooltip md-direction="bottom">Add Asset</md-tooltip></button></section></section>'},v={transport:{read:{url:a.generic("InventoryPurchaseOrder","All",e.getLoggedDomain(),r.detailsParams.project_id,r.detailsParams.po_id),headers:{Authorization:"Bearer "+e.getAccessToken()}}},error:function(){n.error("Error to retrieve data from server, please contact technical support")},schema:{model:{fields:{asset_code:{editable:!1},manufacturer_description:{editable:!1},serial_number:{editable:!1},serial_name:{editable:!1},asset_description:{editable:!1},po_qty:{editable:!1},po_unit_amt:{editable:!1},budget_qty:{editable:!1},option_codes:{editable:!1},option_descriptions:{editable:!1},option_prices:{editable:!1}}}}};function P(){if("3"==e.getLoggedUserType())l.ViewersChangesModal();else{if("L"!=e.getProjectStatus(r.detailsParams.project_id))return 1;l.LockedProjectModal()}}r.isSelected=o.isSelected,r.allSelected=o.allSelected,r.select=o.select,r.allPagesSelected=o.allPagesSelected,r.$on("kendoWidgetCreated",function(e,t){"Assigned Assets"===e.targetScope.$parent.label&&(r.assignedAssetsGrid=t)}),r.dataBound=function(){},r.deleteAsset=function(){P()&&o.verifySelected("delete","asset",r.assignedAssetsGrid)&&l.Confirm("Are you sure?","The asset(s) will be deleted permanently").then(function(){s.blockScreen(),c.all(o.getSelecteds(r.assignedAssetsGrid).map(function(t){t.inventory_ids.split(";").map(function(e){return d.genericController.remove({controller:"InventoryPurchaseOrder",action:"Item",domain_id:t.po_domain_id,project_id:t.project_id,phase_id:t.po_id,department_id:e},function(){o.RemoveItem(r.assignedAssetsGrid,t)}).$promise})})).then(function(){n.success("Asset(s) Deleted"),s.unblockScreen()},function(){n.error("Error to delete one o more assetss, please contact the technical support"),s.unblockScreen()})})},r.openAddModal=function(){P()&&l.openModal("app/POs/Modals/AddPOAsset.html","AddPOAsset",{params:r.data},!0).then(function(){s.blockScreen(),r.assignedAssetsGrid.dataSource.read().then(function(){s.unblockScreen()})})}}]);
xPlanner.controller("ReportListCtrl",["$scope","HttpService","AuthService","ProgressService","GridService","$stateParams","toastr","DialogService","WebApiService","$timeout",function(t,a,n,o,r,e,i,d,s,c){var l,p=angular.copy(e),e=(t.$emit("detailsParams",p),t.gridHeight=window.innerHeight-200,t.isNotViewer="3"!=n.getLoggedUserType(),{pageSize:50,transport:{read:{url:a.generic("Report","All",n.getLoggedDomain(),p.project_id,p.phase_id,p.department_id,p.room_id),headers:{Authorization:"Bearer "+n.getAccessToken()}}},error:function(){o.unblockScreen(),i.error("Error to retrieve reports from server, please contact technical support")},schema:{model:{id:"id",fields:{last_run:{type:"date"},isPrivate:{type:"boolean"}}}}}),m={filterable:!0,reorderable:!0,groupable:!0,height:t.gridHeight,noRecords:{template:"No report was generated to this project"}};t.options=r.getStructure(e,[{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(reportsGrid)" ng-checked="allPagesSelected(reportsGrid)" aria-label="checkbox" ng-click="select($event, reportsGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, reportsGrid)" ng-checked="isSelected(reportsGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"3em",lockable:!1},{field:"name",title:"Name",width:180},{field:"report_type.name",title:"Type",width:180},{field:"description",title:"Description",width:230,template:"<span>#: description ? description : '' #<md-tooltip ng-if=\"#: description != null && description != '' #\">{{ dataItem.description }}</md-tooltip></span>"},{field:"status_category",title:"Status",width:150,template:'# if(status_category != \'Generating\'){ #<span>#: status_category #</span># } else { #<div layout="row" layout-sm="column" layout-align="space-around"><md-progress-circular md-mode="determinate" value="#: status #" class="md-accent" md-diameter="30px"></md-progress-circular><div># } #'},{field:"last_run",title:"Last Run",width:200,format:"{0:MM-dd-yyyy HH:mm tt}",filterable:{ui:"datetimepicker"}},{field:"isPrivate",title:"Private",width:110,template:'<div align=center ng-if="#: isPrivate #"><i class="material-icons no-button" style="color: green">check</i></div>'},{field:"however",title:"Actions",width:150,filterable:!1,template:'<section layout="row" layout-align="center center" class="grid-buttons"><button class="md-icon-button md-button" ng-click="regenerateReport(dataItem)" ng-disabled="dataItem.status_category !== \'Completed\' && dataItem.status_category !== \'Error\'"><i class="material-icons">refresh</i></div><md-tooltip md-direction="bottom">Regenerate report</md-tooltip></button><button class="md-icon-button md-button" ng-click="shareReport(dataItem)" ng-disabled="dataItem.status_category !== \'Completed\'"><i class="material-icons">share</i></div><md-tooltip md-direction="bottom">Share report</md-tooltip></button>'+"<button class=\"md-icon-button md-button\" ng-click=\"downloadReport(dataItem, 'pdf')\"  ng-disabled=\"dataItem.status_category !== 'Completed'\" ng-if=\"dataItem.report_type.name.toLowerCase() != 'asset by room' && dataItem.report_type.name.toLowerCase() != 'room by room' && dataItem.report_type.name.toLowerCase() != 'equipment with costs' && dataItem.report_type.name.toLowerCase() != 'budget summary' && dataItem.report_type.name.toLowerCase() != 'room by room (government)' && dataItem.report_type.name.toLowerCase() != 'copied project inventory comparison' && dataItem.report_type.name.toLowerCase() != 'jsn rollup' && dataItem.report_type.name.toLowerCase() != 'government inventory' && dataItem.report_type.name.toLowerCase() != 'room equipment list' && dataItem.report_type.name.toLowerCase() != 'equipment dimensional and utilities' && dataItem.report_type.name.toLowerCase() != 'door list'\"><md-icon md-svg-icon=\"pdf\"></md-icon><md-tooltip md-direction=\"bottom\">Download as pdf</md-tooltip></button><button class=\"md-icon-button md-button\" ng-click=\"downloadReport(dataItem, 'html')\"  ng-disabled=\"dataItem.status_category !== 'Completed'\" ng-if=\"dataItem.report_type.name.toLowerCase() == 'budget summary'\"><md-icon md-svg-icon=\"html\"></md-icon><md-tooltip md-direction=\"bottom\">Download as html</md-tooltip></button><button ng-if=\"dataItem.report_type.name.toLowerCase() != 'asset book' && dataItem.report_type.name.toLowerCase() != 'procurement' && dataItem.report_type.name.toLowerCase() != 'shop drawing' && dataItem.report_type.name.toLowerCase() != 'illustration sheet' && dataItem.report_type.name.toLowerCase() != 'comprehensive interior design'\" class=\"md-icon-button md-button\" ng-click=\"downloadReport(dataItem, 'excel')\"  ng-disabled=\"dataItem.status_category !== 'Completed'\"><md-icon md-svg-icon=\"excel\"></md-icon><md-tooltip md-direction=\"bottom\">Download as excel</md-tooltip></button></section>",groupable:!1}],{template:'<section layout="row" ng-if="'+t.isNotViewer+'"><section layout="row" layout-align="start center" flex="90"><button class="md-icon-button md-button" ng-click="generateReport()"><i class="material-icons">add</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Generate new report</md-tooltip></button><button class="md-icon-button md-button" ng-click="deleteReports()"><i class="material-icons">delete</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Delete Report(s)</md-tooltip></button><button class="md-icon-button md-button" ng-click="reloadReports()"><i class="material-icons">refresh</i><md-tooltip md-direction="bottom">Reload reports</md-tooltip></button></section><section layout="row" flex="10" layout-align="end start"><button class="md-icon-button md-button" ng-click="collapseExpand(reportsGrid)"><md-icon md-svg-icon="collapse_expand"></md-icon><md-tooltip md-direction="bottom">Collapse/Expand All</md-tooltip></button></section></section>'},m),t.dataBound=r.dataBound,t.isSelected=r.isSelected,t.allSelected=r.allSelected,t.select=r.select,t.allPagesSelected=r.allPagesSelected,t.collapseExpand=r.collapseExpand,t.reloadReports=function(){t.reportsGrid.dataSource.read()},t.deleteReports=function(){g()&&r.verifySelected("delete","report",t.reportsGrid)&&d.Confirm("Are you sure?","The reports(s) will be deleted permanently").then(function(){o.blockScreen(),r.deleteItems(s.genericController,function(e){return{controller:"Report",action:"Item",domain_id:e.project_domain_id,project_id:e.project_id,phase_id:e.id}},t.reportsGrid).then(function(e){o.unblockScreen(),i.success("Reports(s) Deleted")},function(e){o.unblockScreen(),i.error("Error to delete one o more reports, please contact the technical support"),r.unselectAll(t.reportsGrid)})})},t.generateReport=function(){g()&&d.openModal("app/Reports/Modals/GenerateReport.html","GenerateReportCtrl").then(function(){t.reportsGrid.dataSource.read()})},t.downloadReport=function(t,o){$("body").addClass("wait");var e=(new Date).getTime(),r=new XMLHttpRequest;r.open("GET",a.reportDownload(t.project_domain_id,t.project_id,t.id,"excel"==o?"xlsx":o,e),!0),r.setRequestHeader("Authorization","Bearer "+n.getAccessToken()),r.responseType="blob",r.onreadystatechange=function(){var e;4==r.readyState&&(console.log(r.response),(e=document.createElement("a")).href=window.URL.createObjectURL(r.response),e.download=t.name.replace(" ","_").toLowerCase()+"_"+t.report_type.name.replace(" ","_").toLowerCase()+"_"+t.id+"."+("excel"==o?"xlsx":o),e.style.display="none",document.body.appendChild(e),e.click())},r.send(null),l=window.setInterval(function(){$.cookie(t.id+"Token")==e&&(window.clearInterval(l),$.removeCookie(void 0),$("body").removeClass("wait"))},1e3)},t.regenerateReport=function(e){g()&&(o.blockScreen(),s.genericController.get({controller:"Report",action:"Regenerate",domain_id:e.project_domain_id,project_id:e.project_id,phase_id:e.id},function(){t.reportsGrid.dataSource.read(),i.success("The report is being regenerated. You'll receive a notification when it's ready."),o.unblockScreen()},function(){i.error("Error to try regenerate the report, please contact the technical support"),o.unblockScreen()}))};var u=[];function g(){if("3"!=n.getLoggedUserType())return 1;d.ViewersChangesModal()}!function e(){s.genericController.query({controller:"report",action:"OnlyStatuses",domain_id:n.getLoggedDomain(),project_id:p.project_id,phase_id:p.phase_id,department_id:p.department_id,room_id:p.room_id},function(o){angular.forEach(t.reportsGrid.dataSource.data(),function(t){var e;t&&(e=o.find(function(e){return e.id==t.id}))&&(t.set("status",e.statusPercentage),t.set("status_category",e.statusCategory))}),u.push(c(e,1e3))},function(){console.log("Error to try update reports status, please contact the technical support")})}(),t.$on("$destroy",function(){angular.forEach(u,function(e){c.cancel(e)})}),t.shareReport=function(e){e.isPrivate=!e.isPrivate,s.genericController.update({controller:"Report",action:"Item",domain_id:n.getLoggedDomain(),project_id:p.project_id,phase_id:e.id},e,function(){e.isPrivate?i.success("The report now is visible only for you"):i.success("The report is now visible to anyone in the current domain"),t.reportsGrid.dataSource.read()},function(){i.error("Error to share report")})}}]);
xPlanner.controller("RoomTemplateDetailsCtrl",["$scope","GridService","AuthService","WebApiService","$stateParams","$state","toastr","ProgressService","DialogService","AudaxwareDataService","HttpService",function(t,e,o,r,n,a,l,c,i,s,d){t.controllerParams={domain_id:o.getLoggedDomain()},t.params=n,t.can_modify=s.CanModify(n),t.gridHeight=window.innerHeight-160,c.blockScreen(),null==t.selectedTab&&(t.selectedTab=1),r.genericController.query(angular.extend({controller:"projects",action:"All"},t.controllerParams),function(e){t.projects=e},function(){l.error("Error to retrieve scopes from server, please contact the technical support")}),r.genericController.query(angular.extend({controller:"departmentType",action:"All"},t.controllerParams),function(e){t.department_types=e},function(){l.error("Error to retrieve department types from server, please contact the technical support")}),r.genericController.get(angular.extend({controller:"templateRoom",action:"Item"},n),function(e){t.isGlobalTemplate=!e.project_domain_id_template||!e.project_id_template,t.room_template=e,c.unblockScreen()},function(){l.error("Error to retrieve data from server, please contact the technical support"),c.unblockScreen()}),c.blockScreen();s={transport:{read:{url:d.generic("templateRoom","AllByLinkedIdTemplate",n.domain_id,n.project_id,n.phase_id,n.department_id,n.room_id),headers:{Authorization:"Bearer "+o.getAccessToken()}},error:function(){c.unblockScreen(),l.error("Error to retrieve data from server, please contact technical support")}}};function m(){a.go("room-templates")}t.options=e.getStructure(s,[{field:"phase",title:"Phase",width:180},{field:"department",title:"Department",width:180},{field:"room_number",title:"Room Number",width:180},{field:"room_name",title:"Room Name",width:180}],null,{groupable:!0,noRecords:"No room is linked to this template",height:t.gridHeight}),t.dataBound=function(){c.unblockScreen(),e.dataBound(t.linkedTemplatesListGrid)},t.fab=[{open:!0,buttons:[{label:"Save",icon:"save",click:function(){"3"==o.getLoggedUserType()?i.ViewersChangesModal():(t.detailsForm.$setSubmitted(),t.detailsForm.$valid?r.genericController.update({controller:"templateRoom",action:"Item",domain_id:t.room_template.domain_id},t.room_template,function(e){l.success("Template Saved")},function(e){409===e.status?l.error(e.data):l.error("Error to save template, please contact the technical support")}):l.error("Please make sure you enter all the required fields"))},show:t.can_modify},{label:"Clone",icon:"content_copy",click:function(){"3"==o.getLoggedUserType()?i.ViewersChangesModal():i.openModal("app/Room Templates/Modals/CloneTemplate.html","CloneTemplateCtrl",{params:t.params},!0).then(function(e){a.go("room-templates-details",e)})},show:!t.can_modify},{label:"Delete",icon:"delete_forever",click:function(){"3"==o.getLoggedUserType()?i.ViewersChangesModal():i.Confirm("Are you sure?","The template will be deleted permanently").then(function(){c.blockScreen(),r.genericController.remove(angular.extend({controller:"templateRoom",action:"Item"},n),function(){l.success("Template deleted"),c.unblockScreen(),m()},function(e){c.unblockScreen(),409===e.status?l.error(e.data):l.error("Error to try delete template, please contact the technical support")})})},show:t.can_modify},{label:"Back to List",icon:"reply",click:m,show:!0}]}],t.setAssetsButtons=function(e){e.push({label:"Back to List",icon:"reply",click:{func:m},show:!0}),t.fab.push({open:!1,buttons:e})}}]);
xPlanner.controller("RoomTemplatesListCtrl",["$scope","GridService","HttpService","DialogService","AuthService","$state","ProgressService","AudaxwareDataService","WebApiService","toastr",function(a,d,e,t,l,i,o,r,n,c){a.gridHeight=window.innerHeight-160,o.blockScreen();var e={transport:{read:{url:e.generic("templateRoom","TemplateList",l.getLoggedDomain()),headers:{Authorization:"Bearer "+l.getAccessToken()}},error:function(){o.unblockScreen(),c.error("Error to retrieve data from server, please contact technical support")}},schema:{model:{fields:{date_added:{type:"date"}}}}},s=null;a.options=d.getStructure(e,[{headerTemplate:'<md-checkbox style="align: center" class="checkbox" md-indeterminate="allSelected(templatesListGrid)" ng-checked="allPagesSelected(templatesListGrid)" aria-label="checkbox" ng-click="select($event, templatesListGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, templatesListGrid)" ng-checked="isSelected(templatesListGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"3em"},{field:"project_name",title:"Scope",width:180,filterable:{multi:!0,search:!0}},{field:"department_type",title:"Department Type",width:180},{field:"description",title:"Name",width:250},{field:"date_added",title:"Date Added",width:120,template:"#: date_added ? kendo.toString(kendo.parseDate(date_added), \"MM-dd-yyyy\") : '' #"},{field:"owner",title:"Owner",width:110},{headerTemplate:'<button style="padding-bottom: 0.2em;" class="md-icon-button md-button no-button"><i class="material-icons no-button">comment</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Comment</md-tooltip></button>',template:'<div ng-if=" #: comment != null # " align=center><md-icon class="no-button grid-item-color">comment</md-icon><md-tooltip md-direction="bottom">#: comment #</md-tooltip></div>',width:70,field:"comment",filterable:!1,sortable:!1}],null,{groupable:!0,noRecords:"No templates available",height:a.gridHeight}),a.dataBound=function(){var t;o.unblockScreen(),(t=a.templatesListGrid)&&t.tbody.find("tr").dblclick(function(){var e=t.dataItem(this);a.showDetails(e)}),d.dataBound(a.templatesListGrid),null==s&&(s=a.templatesListGrid.dataSource.data())},a.select=d.select,a.isSelected=d.isSelected,a.allSelected=d.allSelected,a.allPagesSelected=d.allPagesSelected,a.collapseExpand=d.collapseExpand,a.search=function(l){var i,e=s||a.templatesListGrid.dataSource.data();l?(l=l.toLowerCase(),i=a.templatesListGrid.columns,a.templatesListGrid.dataSource.data(e.filter(function(e){for(var t=1;t<i.length;t++)if(!i[t].hidden&&-1<String(e[i[t].field]).toLowerCase().indexOf(l))return!0}))):a.templatesListGrid.dataSource.data(s),d.unselectAll(a.templatesListGrid)},a.clearAllFilters=function(e){a.searchBoxValue=null,d.ClearFilters(a.templatesListGrid),a.search()},a.showDetails=function(e){(e||d.verifySelected("view the details","template",a.templatesListGrid,!0))&&i.go("room-templates-details",e||d.getSelecteds(a.templatesListGrid)[0])},a.addTemplate=function(){"3"==l.getLoggedUserType()?t.ViewersChangesModal():t.openModal("app/Room Templates/Modals/AddTemplate.html","AddTemplateCtrl",null).then(function(e){a.showDetails(e)})},a.delete=function(){"3"==l.getLoggedUserType()?t.ViewersChangesModal():d.verifySelected("delete","template",a.templatesListGrid)&&r.ShowDeleteDialog("templates",d.getSelecteds(a.templatesListGrid)).then(function(){o.blockScreen(),d.deleteItems(n.genericController,function(e){return{controller:"templateRoom",action:"Item",domain_id:e.domain_id,project_id:e.project_id,phase_id:e.phase_id,department_id:e.department_id,room_id:e.room_id}},a.templatesListGrid,null,!0).then(function(e){o.unblockScreen(),0<e.lenght&&(c.success("Template(s) Deleted"),d.unselectAll(a.templatesListGrid))},function(e){o.unblockScreen(),409===e.status?c.info("Some, or all, of the templates could not be deleted -- there is linked room(s)"):c.error("Error to delete one o more templates, please contact the technical support"),d.unselectAll(a.templatesListGrid)})})}}]);
xPlanner.factory("AssetOptionService",["toastr","WebApiService","ProgressService","FileService","UtilsService","HttpService",function(u,s,l,d,r,n){function m(e,t){return e.$setSubmitted(),e.$valid?!(t.min_cost&&t.max_cost&&Number(t.min_cost)>Number(t.max_cost)&&(u.error("The Max value must be grather than Min value"),1)):(u.error("Please make sure you entered correctly all the fields"),!1)}return{SaveOption:function(t,r,o,a,c){return new Promise(function(n,i){m(t,r)||i(),l.blockScreen("addEditOption");var e=c?"imageF":r.image;d[c?"GetBase64FileFirefox":"GetBase64NoFileFirefox"](e).then(function(e){delete r.image,r=angular.extend(r,{picture:e});var e=a?"update":"save",t={action:"Item",domain_id:o.domain_id,asset_id:o.asset_id};a&&(t.asset_option_id=r.asset_option_id),s.asset_option[e](t,r,function(e){u.success("Option "+(a?"Updated":"Saved")),l.unblockScreen("addEditOption"),n()},function(){l.unblockScreen("addEditOption"),u.error("Erro to save option, please contact technical support"),i()})},function(e){i(e)})})},ValidateForm:m,UploadImageClick:function(){document.getElementById("image").click()},FillSettings:function(e,t){if(!t||"FR"!==e.data_type&&"FI"!==e.data_type)return angular.extend(e,{settings:null});var n,i="{";for(n in t)i+=' "'+r.MapAssetOptionSetting(n)+'": "'+t[n]+'",';return 1<i.length&&(i=i.slice(0,-1)),i+=" }",angular.extend(e,{settings:i})},GetSettings:function(e){if(!e||"{}"==e)return null;var t,n=JSON.parse(e),i={};for(t in n)i[r.MapAssetOptionSettingReverse(t)]=n[t];return i},"RemoveSavedPìcture":function(e){return e.domain_document=null,e.document_domain_id=null,e.document_id=null,e},GetPicturePath:function(e,t){return n.generic("filestream","file",e,t.blob_file_name,"photo")}}}]);
xPlanner.factory("AssetsService",["WebApiService","$q","AuthService","localStorageService","ProgressService","toastr","DialogService","GridService","AudaxwareDataService","HttpService","KendoGridService",function(a,l,r,e,d,s,o,n,t,c,u){var m={domain_id:null,assets:[]};function p(e,t){$('<input data-text-field="name" data-value-field="value" data-bind="value:'+t.field+'"/>').appendTo(e).kendoDropDownList({dataSource:{transport:{read:{url:c.generic("responsability","All",r.getLoggedDomain()),headers:{Authorization:"Bearer "+r.getAccessToken()}}},schema:{parse:function(e){return e.map(function(e){return{name:e.name,value:e.name}})}}}})}var g=[{title:"phase",index:0},{title:"Department",index:1},{title:"Room No.",index:2},{title:"Room Name",index:3},{title:"Planned qty",index:11},{title:"Shop Drawing",index:22},{title:"ECN",index:23},{title:"Cost Center",index:24}],f=[{title:"Disc",index:19},{title:"Category",index:20},{title:"Subcategory",index:21},{title:"Min",index:15},{title:"Max",index:16},{title:"Last",index:17},{title:"Avg",index:17}];function _(i){return l(function(t,e){a.genericController.get({controller:"assets",action:"SummarizedSingle",domain_id:i.domain_id,project_id:i.asset_id},function(e){t(e)},function(){e()})})}return window.showPhoto=function(e){$(e).closest("section").children(".image_popover").children("img").show()},window.hidePhoto=function(e){$(e).closest("section").children(".image_popover").children("img").hide()},{GetToGrid:function(){return l(function(t,e){d.blockScreen(),a.genericController.query({controller:"Assets",action:"Summarized",domain_id:r.getLoggedDomain()},function(e){d.unblockScreen(),t(e)},function(){d.unblockScreen(),e()})})},GetNetworkAssetInToGrid:function(i){return l(function(t,e){d.blockScreen(),a.genericController.query({controller:"assetsInventory",action:"AllNetWorkInventoriesWithPortsAndITConnections",domain_id:r.getLoggedDomain(),project_id:i},function(e){d.unblockScreen(),t(e)},function(){d.unblockScreen(),e()})})},GetNetworkAssetToGrid:function(i,n){return l(function(t,e){d.blockScreen(),a.genericController.query({controller:"assetsInventory",action:"AllNetWorkInventories",domain_id:r.getLoggedDomain(),project_id:i,phase_id:n},function(e){d.unblockScreen(),t(e)},function(){d.unblockScreen(),e()})})},GetDomainAssets:function(e){return l(function(t,e){let i=r.getLoggedDomain();m.domain_id===i?t(m.assets):a.genericController.query({controller:"assets",action:"Summarized",domain_id:i},function(e){m={domain_id:i,assets:e},t(e)},function(){e()})})},UpdateAsset:function(t,n,o){return l(function(i,e){d.blockScreen(),t.controller="assets",t.action="Item",t.domain_id=r.getLoggedDomain(),a.genericController.update(t,n,function(e){var t=r.getLoggedDomain();o&&s.success(o),m.domain_id===t&&_(e).then(function(t){var e;t&&(e=m.assets.findIndex(function(e){return e.asset_id===t.asset_id}),m.assets[e]=t.toJSON())}),d.unblockScreen(),i(e)},function(){d.unblockScreen(),s.error("Error to save asset, please contact the technical support"),e()})})},DeleteAsset:function(n){return l(function(t,i){o.Confirm("Are you sure?","The asset will be deleted permanently!").then(function(){d.blockScreen(),a.genericController.remove({controller:"assets",action:"Item",domain_id:n.domain_id,project_id:n.asset_id},function(){var e=r.getLoggedDomain();d.unblockScreen(),s.success("Asset deleted"),m.domain_id===e&&(m.assets=m.assets.filter(function(e){return e.asset_id!==n.asset_id})),t()},function(e){d.unblockScreen(),409==e.status?s.info(e.data):s.error("Error to try delete asset, please contact the technical support"),i()})},function(){i("cancel")})})},AddAsset:function(t){return l(function(i,e){a.genericController.save({controller:"assets",action:"Item",domain_id:r.getLoggedDomain()},t,function(e){s.success("Asset Added");var t=r.getLoggedDomain();m.domain_id===t&&_(e).then(function(e){e&&m.assets.push(e.toJSON())}),i(e)},function(){s.error("Error to save asset, please contact technical support"),e()})})},DeleteAssetsFromGrid:function(i,e){var n=[];return e&&i&&angular.forEach(t.RemoveAudaxwareItems(e),function(t){n.push(a.genericController.remove({controller:"assets",action:"Item",domain_id:t.domain_id,project_id:t.asset_id},function(){i.dataSource.remove(t);var e=r.getLoggedDomain();m.domain_id===e&&(m.assets=m.assets.filter(function(e){return e.asset_id!==t.asset_id}))}).$promise)}),l.all(n)},GetGridReplaceConfiguration:function(e,t){var i=new kendo.data.DataSource({pageSize:50,data:[],schema:{model:{id:"asset_id",fields:{discontinued:{editable:!1},phase_description:{editable:!1},description_description:{editable:!1},room_number:{editable:!1},room_name:{editable:!1},asset_code:{editable:!1},cut_sheet:{editable:!1},cut_sheet:{editable:!1},serial_number:{editable:!1},serial_name:{editable:!1},manufacturer_description:{editable:!1},asset_description:{editable:!1},min_cost:{editable:!1},max_cost:{editable:!1},last_cost:{editable:!1},avg_cost:{editable:!1},asset_category:{editable:!1},asset_subcategory:{editable:!1},has_shop_drawing:{editable:!1},ecn:{editable:!1},cost_center:{editable:!1},jsn_code:{editable:!1},photo:{editable:!1},budget_qty:{type:"number"},unit_budget:{validation:{unitbudgetvalidation:function(e){return!e.is("[name='unit_budget']")||""==e.val()||(e.attr("data-unitbudgetvalidation-msg","Only currency values are allowed"),/^[0-9]+(\.[0-9]{1,2}){0,1}$/.test(e.val()))}}}}}}});return n.getStructure(i,[{field:"phase_description",title:"Phase",width:"150px",hidden:!0},{field:"department_description",title:"Department",width:"150px",hidden:!0},{field:"room_number",title:"Room No.",width:"120px",hidden:!0},{field:"room_name",title:"Room Name",width:"150px",hidden:!0},{field:"asset_code",title:"Code",width:110,template:function(e){return u.GetAssetCodeLinkTemplate(e)},lockable:!1},{field:"jsn_code",title:"JSN",width:150},{field:"asset_description",title:"Description",width:250},{field:"photo",title:"Photo",width:100,filterable:!1,template:function(e){return e.photo?'<section align=center><i onmouseover="showPhoto(this)" onmouseout="hidePhoto(this)" class="material-icons">visibility</i><section align=center class="image_popover grid-column"><img src="'+c.generic("filestream","file",e.domain_id,e.photo,"photo")+'" title="picture not found"></section></section>':""}},{field:"cut_sheet",title:"Spec",width:90,template:function(e){return u.GetDownloadFileWithDomainTemplate(e.asset_id,e.asset_domain_id||e.domain_id,"fullcutsheet",e.cut_sheet?"images/page_attach.png":"images/page.png")},filterable:!1},{field:"default_resp",title:"Resp",width:100,editor:p,attributes:{class:"editable-cell"},filterable:!1},{field:"unit_budget",title:"Unit Budget",width:150,template:"<div align=right>{{ dataItem.unit_budget || (wizardData.selected_costField == '' ? wizardData.default_unit_budget : dataItem[wizardData.selected_costField === 'default' ? default_cost_field : wizardData.selected_costField]) || 0 | currency}}</div>",attributes:{class:"editable-cell unit-budget"},filterable:!1},{field:"budget_qty",title:"Planned qty",width:"130px",template:function(e){return e.budget_qty,e.budget_qty},hidden:!0},{field:"serial_number",title:"Model No.",width:120},{field:"serial_name",title:"Model Name",width:140},{field:"manufacturer_description",title:"Manufacturer",width:150},{field:"min_cost",title:"Min",width:130,template:function(e){return u.GetCurrencyTemplate(e.min_cost||"")}},{field:"max_cost",title:"Max",width:130,template:function(e){return u.GetCurrencyTemplate(e.max_cost||"")}},{field:"last_cost",title:"Last",width:130,template:function(e){return u.GetCurrencyTemplate(e.last_cost||"")}},{field:"avg_cost",title:"Avg",width:130,template:function(e){return u.GetCurrencyTemplate(e.avg_cost||"")}},{field:"discontinued",title:"Disc",width:80,filterable:!1,columnMenu:!1},{field:"asset_category",title:"Category",width:130,filterable:{multi:!0,search:!0}},{field:"asset_subcategory",title:"Subcategory",width:150,filterable:{multi:!0,search:!0}},{field:"has_shop_drawing",title:"Shop Drawing",width:"150px",filterable:!1,hidden:!0,template:function(e){return e.has_shop_drawing?u.GetDownloadFileWithDomainTemplate(e.pdoc_blob_filename,e.domain_id,"project-documents","images/file-pdf.png"):""},lockable:!1},{field:"ecn",title:"ECN",width:"100px",hidden:!0},{field:"cost_center",title:"Cost Center",width:"130px",hidden:!0}],{template:'<section layout="row" layout-align="space-between center"><section layout="row" layout-align="start center" flex="45"><md-input-container class="md-block" style="margin-bottom: 7px;" flex="90" ng-style="isToGlobalTemplate ? {display:\'none\'} : {display: \'block\'}"><label>Catalog</label><md-select name="catalog" ng-model="wizardData.selected_Catalog" ng-change="catalogOptionChanged()"><md-optgroup label="Catalog" ng-if="!isLink"><md-option ng-repeat="op in catalogOptions" ng-value="op">{{op.name}}</md-option></md-optgroup><md-optgroup label="Favorite Projects" ng-if="!isLink"><md-option ng-repeat="op in favProjectOptions" ng-value="op">{{op.name}}</md-option></md-optgroup><md-optgroup label="Projects" ng-if="!isLink"><md-option ng-repeat="op in projectOptions" ng-value="op">{{op.name}}</md-option></md-optgroup></md-select></md-input-container></section><section layout="row" layout-align="center center" flex="40"><md-input-container class="md-block no-md-errors-spacer" style="margin-bottom: 7px;" flex="90"><label>Search</label><input name="search" ng-model="wizardData.searchBoxValue" ng-enter="search(wizardData.searchBoxValue)"></md-input-container><button class="md-icon-button md-button gray-color" style="bottom: -0.5em; padding-left 0px; margin-left 0px" ng-click="clearAllFilters()"><i class="material-icons">delete_sweep</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Clear all filters</md-tooltip></button></section><section layout="row" flex="15" layout-align="end start"><md-input-container class="md-block" style="margin-bottom: 7px;"><label>Asset Default Cost</label><md-select ng-model="wizardData.selected_costField"><md-option ng-repeat="cost in costField" value="{{cost.value}}">{{cost.name}}</md-option></md-select></md-input-container><button class="md-icon-button md-button" ng-click="collapseExpand(assetsGrid)" style="bottom: -18px"><md-icon md-svg-icon="collapse_expand"></md-icon><md-tooltip md-direction="bottom">Collapse/Expand All</md-tooltip></button></section></section>'},{groupable:!0,noRecords:"No assets available",reorderable:!0,editable:!0,columnMenu:{columns:!0,sortable:!1},selectable:"single row",height:t})},respDropDown:p,DuplicateAsset:function(t,n){return l(function(i,e){a.genericController.update({controller:"assets",action:"Duplicate",domain_id:t.domain_id,project_id:t.asset_id,phase_id:r.getLoggedDomain(),department_id:n},null,function(e){var t=r.getLoggedDomain();m.domain_id===t&&_(e).then(function(e){e&&m.assets.push(e.toJSON())}),s.success("Asset Duplicated"),i(e)},function(){s.error("Error to duplicate asset, please contact technical support"),e()})})},GetReplaceParams:function(e){var t=!e.project_id;return{controller:t?"Assets":"assetsInventory",action:t?"Summarized":"AllInventories",domain_id:r.getLoggedDomain(),project_id:t?null:e.project_id}},SetColumns:function(t){var e=!t.selected_Catalog.project_id,i=e?g:f;(e?f:g).forEach(function(e){t.assetsGrid.showColumn(e.index)}),i.forEach(function(e){t.assetsGrid.hideColumn(e.index)})}}}]);
xPlanner.service("AudaxwareDataService",["DialogService","AuthService","$q",function(r,d,s){this.CheckHasToDuplicate=function(e,t,a,n){if(e)if(e.length&&1!=e.length){for(var i=0;i<e.length;i++)if(1!==d.getLoggedDomain()&&1===e[i].domain_id)return n?r.DuplicateItemAlert("This "+a||t+" "+(type_plural?"reside":"resides")+"in the global Audaxware database. Changes on this "+a||t+" will create a custom version in your customized database."):r.DuplicateItemsConfirm(a||t,!0)}else{var o=e[0]||e;if(1!==d.getLoggedDomain()&&1===o.domain_id)return n?r.DuplicateItemAlert("This "+t+" resides in the global Audaxware database. Changes on this "+t+" will create a custom version in your customized database."):r.DuplicateItemsConfirm(t)}return s(function(e){e(!1)})},this.CheckDuplicateAsset=function(e,t,a){return 1!==d.getLoggedDomain()&&1===e.domain_id?t?r.Confirm("Duplicate Asset","This asset resides in the global Audaxware database and cannot be modified. To execute this operation is needed create a custom version of it in your database so you can "+(a||"edit").toLowerCase()+" the item. Do you want to continue?","Continue","Cancel"):r.DuplicateAssetConfirm():s(function(e){e(!1)})},this.RemoveAudaxwareItems=function(e){return 1===d.getLoggedDomain()?e:e.filter(function(e){return 1!==e.domain_id})},this.HasAudaxwareItems=function(e){return 1!==d.getLoggedDomain()&&null!=e.find(function(e){return 1===e.domain_id})},this.HasNoAudaxwareItems=function(e){return 1===d.getLoggedDomain()&&0<e.length||null!=e.find(function(e){return 1!==e.domain_id})},this.CanModifyAny=function(e){return 1!==d.getLoggedDomain()&&this.HasAudaxwareItems(e)?this.HasNoAudaxwareItems(e)?0:-1:1},this.CanModify=function(e){return 1===d.getLoggedDomain()||e.domain_id===d.getLoggedDomain()},this.ShowCantModifyDialog=function(e,t,a){return t?r.Alert("Audaxware "+e,(a?"The ":"One or more ")+e+" you are changing reside in the global Audaxware database and "+(a?"cannot":"will not")+" be modified."):r.Alert("Audaxware "+e,"This "+e+" resides in the global Audaxware database and cannot be modified.")},this.ShowDeleteDialog=function(e,t){if(t)switch(this.CanModifyAny(t)){case-1:return r.Alert("Audaxware "+e,"The "+e+" you are deleting reside in the global Audaxware database and cannot be deleted.");case 0:return r.Confirm("Are you sure?","One or more "+e+" you are deleting reside in the global Audaxware database and will not be deleted. The others will be deleted permanently.");case 1:return r.Confirm("Are you sure?","The "+e+" will be deleted permanently")}},this.GetDeleteMessage=function(e,t){return t?"One or more "+e+" you are deleting reside in the global Audaxware database and will not be deleted. Do you want to continue?":"The "+e+" will be deleted permanently"}}]);
xPlanner.service("DialogService",["$mdDialog",function(a){this.Confirm=function(t,e,o,i,s){t=a.confirm().title(t).htmlContent(e).ok(o||"Yes").cancel(i||"No");return t._options.skipHide=!!s,a.show(t)},this.openModal=function(t,e,o,i,s){return a.show({controller:e,templateUrl:t,locals:{local:o},fullscreen:!0,clickOutsideToClose:i,bindToController:s})},this.SaveChangesModal=function(){return this.openModal("app/Utils/Modals/SaveChanges.html","SaveChangesCtrl",null,!1)},this.ViewersChangesModal=function(){return this.openModal("app/Utils/Modals/ViewersChanges.html","ViewersChangesCtrl",null,!1)},this.LockedProjectModal=function(t){var e="This project has status locked, it is not possible to update it.";return t&&(t.room_id?e="This project has status locked, it is not possible to update its rooms.":t.department_id?e="This project has status locked, it is not possible to update its departments.":t.phase_id&&(e="This project has status locked, it is not possible to update its phases.")),a.show(a.alert().clickOutsideToClose(!0).title("Locked Project").textContent(e).ariaLabel("Alert Dialog").ok("OK"))},this.DuplicateAssetConfirm=function(){var t=a.confirm().title("Duplicate Asset").textContent("The asset you are changing resides in the global Audaxware database. Changing this asset will create a custom version in your customized asset database. Are you sure you want to continue?").ok("Yes").cancel("No");return a.show(t)},this.DuplicateItemsConfirm=function(t,e,o){if(t)return o=o||(e?"One or more "+t+" you are changing reside in the global Audaxware database. Changing this "+t+" will create a custom version of them in your customized database. Are you sure you want to continue?":"The "+t+" you are changing resides in the global Audaxware database. Changing this "+t+" will create a custom version in your customized database. Are you sure you want to continue?"),e=a.confirm().title("Duplicate "+t.charAt(0).toUpperCase()+t.substring(1)).textContent(o).ok("Yes").cancel("No"),a.show(e)},this.DuplicateItemAlert=function(t){if(t)return t=a.alert().clickOutsideToClose(!1).title("Duplicate Item").textContent(t).ariaLabel("Alert Dialog").ok("OK"),a.show(t)},this.Alert=function(t,e,o){return a.show(a.alert().clickOutsideToClose(!0).title(t).textContent(e).ariaLabel("Alert Dialog").ok(o||"OK"))},this.NotImplementAlert=function(){return a.show(a.alert().clickOutsideToClose(!0).title("Not yet implemented").textContent("This functionality has not yet implemented").ariaLabel("Alert Dialog").ok("OK"))},this.Close=function(t){t.cancel()},this.Hide=function(t,e){t.hide(e)}}]);
xPlanner.factory("FabService",[function(){return{chosen:{effect:"slidein",position:"br",method:"click",action:"fire"}}}]);
xPlanner.factory("FileService",["AuthService",function(i){function o(e){return new Promise(function(n,t){let i=new FileReader;i.readAsDataURL(e),i.onload=function(){var e=i.result.indexOf("base64,");n(0<=e?i.result.substring(e+7):i.result)},i.onerror=function(e){t(e)}})}function r(e){return e?{extension:(e=e.split("."))[e.length-1],name:e.slice(0,e.length-1).join()}:null}return{GetBase64NoFileFirefox:function(i){return new Promise(function(t,n){i?o(i).then(function(e){var n=r(i.name);t({fileExtension:n.extension,fileName:n.name,base64File:e})},function(e){n(e)}):t(null)})},GetBase64FileFirefox:function(e){return new Promise(function(t,n){var i=document.getElementById(e).files;i&&0<i.length?o(i[0]).then(function(e){var n=r(i[0].name);t({fileExtension:n.extension,fileName:n.name,base64File:e})},function(e){n(e)}):t(null)})},GetExtensionAndName:r,ImageFileSizeLimit:7,GetBase64:o,DownloadFile:function(e,n){var t=new XMLHttpRequest;t.open("GET",e,!0),t.setRequestHeader("Authorization","Bearer "+i.getAccessToken()),t.responseType="blob",t.onreadystatechange=function(){var e;4==t.readyState&&((e=document.createElement("a")).href=window.URL.createObjectURL(t.response),e.download=n,e.style.display="none",document.body.appendChild(e),e.click())},t.send(null)}}}]);
xPlanner.factory("FormService",[function(){return{ResetForm:function(e){e&&(e.$setPristine(),e.$setUntouched(),angular.forEach(e,function(e,t){"object"==typeof e&&e.hasOwnProperty("$modelValue")&&(e.$setPristine(),e.$setUntouched())}))}}}]);
xPlanner.factory("GridService",["toastr","DialogService","$q","localStorageService","WebApiService","HttpService","$stateParams","AuthService","$timeout","AudaxwareDataService","ProgressService","$location",function(s,r,f,d,i,e,t,n,a,o,l,c){function u(e){var t;if(e)return t=[],angular.forEach(new kendo.data.Query(e.dataSource.data()).filter(e.dataSource.filter()).data,function(e){t.push(e)}),t}function p(e){return e&&e.selecteds||[]}function h(e){e.selecteds=[],e.items().removeClass("k-state-selected")}function g(n,e,t,a){(e=e||n.items()).addClass("k-state-selected"),t?n.selecteds=a||u(n):(n.selecteds=[],e.each(function(e,t){n.selecteds.push(n.dataItem(t))}))}function S(e){return e&&e.selecteds&&0<e.selecteds.length}function m(t,e,n){n?t.items().addClass("k-state-selected"):(e=e||t.selecteds,angular.forEach(e,function(e){t.tbody.find("tr[data-uid='"+e.uid+"']").addClass("k-state-selected")}))}function v(e,t){t.selecteds||(t.selecteds=[]);var n=t.selecteds.indexOf(e);-1!==n?t.selecteds.splice(n,1):t.selecteds.push(e),t.tbody.find("tr[data-uid='"+e.uid+"']").toggleClass("k-state-selected")}function k(e){return e.dataSource.transport.read?e.dataSource.transport.read.headers={Authorization:"Bearer "+n.getAccessToken()}:e.dataSource.transport.options.read.headers={Authorization:"Bearer "+n.getAccessToken()},e}function b(e,t){return e.height=t||window.innerHeight-170,e}function w(t,n,e){a(function(){var e=t.getOptions();e.dataSource.data=[],d.isSupported?d.set(n,e):d.cookie.isSupported&&d.cookie.set(n,e)},e||0)}function y(n,e){if(n&&e){for(var t,a=[],r=0;r<n.columns.length;r++)n.columns[r].field?(t=e.find(function(e){return e.field===n.columns[r].field}))?(t.hidden=n.columns[r].hidden,t.locked=n.columns[r].locked,n.columns[r]=t):a.push(r):0===r&&n.columns[r].headerTemplate&&(n.columns[r]=e[0]);angular.forEach(a,function(e,t){n.columns.splice(e-t,1)}),e.map(function(t){!t.field||n.columns.find(function(e){return e.field===t.field})||(t.hidden=!0,n.columns.push(t))})}return n}function x(r,o,l,s,c,e){return f(function(t,n){var e,a=superJson.create();r?t(y(b(a.parse(r.grid_state),s),c)):(e=o?d.isSupported?d.get(o):d.cookie.isSupported?d.cookie.get(o):null:e)?t(k(y(b(e,s),c))):l?(l.domain_id=l.domain_id||l.type,l.project_id=l.project_id||l.name,i.genericController.get(l,function(e){t(k(y(b(a.parse(e.grid_state),s),c)))},function(e){404===e.status?t(null):n()})):t(null)})}function C(a,r,o,l){return f(function(e,t){a&&a.dataSource&&a.dataSource.data&&delete a.dataSource.data,a.dataSource.transport.read?delete a.dataSource.transport.read.headers:delete a.dataSource.transport.options.read.headers;var n={name:o,type:r,grid_state:JSON.stringify(a)};i.genericController.save({controller:"GridView",action:"Item"},n,function(){l&&s.success("Grid state saved"),e()},function(e){s.error("Error to save grid state, please contact the technical support"),t()})})}function A(e){return!(!e||!e.selecteds)&&e&&e.selecteds&&0<e.selecteds.length&&u(e).length===e.selecteds.length}function E(e){e&&e.tbody&&(e.tbody.find(".k-i-collapse").click(),e.expand=!0)}function T(e){e&&(e.tbody.find(".k-i-expand").click(),e.expand=!1)}return{exportToPDF_Event:function(e){return e.hideColumn(0),$(".k-pager-wrap.k-grid-pager.k-widget.k-floatwrap").css("display","none"),e},select:function(e,t,n){var a;if(!n)return n=$(e.currentTarget).closest("tr"),v(t.dataItem(n),t);e=u(t),n=t.items(),a=t.selecteds?t.selecteds.length:0,t.selecteds=[],a<n.length&&n.length<e.length?g(t,n):a<e.length?g(t,null,!0,e):h(t)},getSelecteds:p,isSelected:function(e,t){return e&&e.selecteds&&-1<e.selecteds.indexOf(t)},allSelected:function(e){return!(!e||!e.selecteds)&&e&&e.selecteds&&0<e.selecteds.length&&e.selecteds.length<u(e).length&&e.selecteds.length==e.items().length},unselectAll:h,selectAll:g,anySelected:S,RemoveSelectedItems:function(t,e){var n;t&&e.length==t.selecteds.length?h(t):(n=[],angular.forEach(e,function(e){t.tbody.find("tr[data-uid='"+t.selecteds[e].uid+"']").removeClass("k-state-selected"),n.push(t.selecteds[e])}),t.selecteds=t.selecteds.filter(function(e){return n.indexOf(e)<0}))},addSelectedClass:m,copySelecteds:function(t,n){var e=angular.copy(t.selecteds);n&&(t.selecteds=[],angular.forEach(e,function(e){t.selecteds.push(n.getByUid(e.uid))}))},toggleItemSelected:v,dataBound:function(e,t){var n,a;e&&(e.dataSource.group().length&&E(e),!e.notFirstBound&&e.thead&&(e.thead.find("th[data-role='columnsorter']").on("click",function(t){e.dataSource.group().find(function(e){return e.field==t.currentTarget.attributes["data-field"].nodeValue})&&r.Alert("Grouped column","When the data is grouped, it is always sorted by the grouped columns in ascending order, if you want to sort the data by this column you need to ungroup.")}),e.notFirstBound=!0),A(e)?m(e,null,!0):e.selecteds=[],n=e.dataSource.filter(),e.thead&&e.thead.find(".k-link.k-state-active").removeClass("k-state-active"),n&&(function e(t,n){if(t.filters)for(var a=0;a<t.filters.length;a++)e(t.filters[a],n);else n[t.field]=!0}(n,a={}),e.thead.find("th[data-field]").each(function(){var e=$(this);a[e.data("field")]&&e.find(".k-link").addClass("k-state-active")})),t&&w(e,t),n=JSON.stringify(n),e.appliedFilters!=n)&&(e.appliedFilters=n,e.dataSource.page(1))},deleteItems:function(t,n,a,r,e){return e=e?o.RemoveAudaxwareItems(a.selecteds):a.selecteds,f.all(e.map(function(e){return t[r?"remove_with_data":"remove"](n?n(e):e,r||null,function(){a.dataSource.remove(e),a.selecteds.splice(a.selecteds.indexOf(e),1)}).$promise}))},updateItems:function(t,e){Array.isArray(e)?angular.forEach(e,function(e){t.dataSource.pushUpdate(e)}):t.dataSource.pushUpdate(e)},exportGrid:function(e,t,n){switch(e){case"pdf":r.Confirm("Export to PDF","This operation will lock the browser for a few seconds. Do you want to continue?").then(function(){l.blockScreen(),t.saveAsPDF().then(function(){t.showColumn(0),$(".k-pager-wrap.k-grid-pager.k-widget.k-floatwrap").css("display","block"),l.unblockScreen()})});break;case"excel":n&&t.bind("excelExport",function(e){e.workbook.fileName=n}),t.saveAsExcel()}},addHeightToOptions:b,getStructure:function(e,t,n,a,r,o){return b({toolbar:n?[n]:null,excel:o?o.excel:null,pdf:o?o.pdf:null,dataSource:e,pageable:!1!==r&&{pageSizes:r&&r.pageSizes?r.pageSizes:[50,100,200,300],pageSize:r&&r.pageSizeDefault?r.pageSizeDefault:50,buttonCount:5,input:!0},rowTemplate:a&&a.rowTemplate?a.rowTemplate:null,scrollable:!0,sortable:!0,filterable:(!a||!1!==a.filterable)&&{operators:{string:{contains:"Contains",doesnotcontain:"Does not contain",eq:"Is equal To",neq:"Is not equal To",startswith:"Starts With",endswith:"Ends with"}}},resizable:!0,reorderable:a&&a.reorderable,groupable:a&&a.groupable,editable:a&&a.editable,mobile:!0,noRecords:a&&a.noRecords?{template:a.noRecords}:null,selectable:a&&a.selectable?a.selectable:null,columnMenu:a&&a.columnMenu?a.columnMenu:null,columns:t},a&&a.height?a.height:null)},SetSavedState:function(r,o,l,s,c,e,d,i,u){return f(function(t,n){var a=!1;x(e,l,s,c,i?i.columns:null,i&&i.dataSource.schema).then(function(e){if(!e){if(!i)return;e=b(i,c),a=!!s}d&&(e.dataSource.transport.read?e.dataSource.transport.read.url=d:e.dataSource.transport.options.read.url=d),e.dataSource.filter||(e.dataSource.filter=null),u&&angular.forEach(u,function(t){e.columns.map(function(e){return e.field===t.field&&(e.editor=t.editor),e})}),r.setOptions(e),r.dataSource.page(1),w(r,l),o&&r.dataSource.data(o),a?C(e=r.getOptions(),s.type,s.name).then(function(){t()},function(){n()}):t()},function(){n()})})},GetSavedState:x,SaveGridState:C,ClearFilters:function(e){e.dataSource.filter()&&e.dataSource.filter(null)},verifySelected:function(e,t,n,a){return S(n)?!(a&&1<p(n).length&&(s.error("You can "+e+" only one "+t+" at a time"),1)):(a?s.error("You need to select "+(-1<"aeiou".indexOf(t.charAt(0).toLowerCase())?"an ":"a ")+t+" to "+e):s.error("You need to select at least one "+t+" to "+e),!1)},addItem:function(e,t){e.dataSource.pushCreate(t)},saveState:w,allPagesSelected:A,RemoveItem:function(e,t){e&&t&&(e.dataSource.remove(t),-1<(t=e.selecteds.indexOf(t)))&&e.selecteds.splice(t,1)},collapseAll:E,expandAll:T,collapseExpand:function(e){e&&(!1!==e.expand?T:E)(e)},GetProjectLinkTemplate:function(e){if(e)return'<a href="'+c.absUrl().replace(c.path(),"/projects/"+e.projectId)+'">'+e.projectDescription+"</a>"}}}]);
xPlanner.factory("GridViewService",["ProgressService","WebApiService","toastr","$q","DialogService","GridService","AuthService",function(u,l,w,e,v,a,h){function g(e,t,n){return!(!e||"("!==e.charAt(0)||")"!==e.charAt(e.length-1)||(t&&w.error("The views inside () are reserved views of the system and cannot be saved or deleted."+(n?" Please choose a name without the () to your customized view":"")),0))}function f(i,o,a,d,c,s){return e(function(t,n){var e=i.getOptions(),e=(e&&e.dataSource&&e.dataSource.data&&delete e.dataSource.data,{name:a,type:o,is_private:s,gridview_id:d?d.gridview_id:null,domain_id:h.getLoggedDomain(),added_by:h.getLoggedUserEmail(),consolidated_columns:0<c.length?JSON.stringify(c):null,grid_state:JSON.stringify(angular.extend(e,{isConsolidated:!1}))}),r={controller:"GridView",action:"Item",domain_id:h.getLoggedDomain(),project_id:o};u.blockScreen(),l.genericController[d?"update":"save"](r,e,function(e){d?w.success("Grid's view updated"):w.success("Grid's view saved"),t(e),u.unblockScreen()},function(e){var t="Error to "+(d?"update":"save")+" grid's view, please contact the technical support";e.data&&(t=e.data),u.unblockScreen(),w.error(t),n()})})}return{deleteView:function(i){return e(function(e,t){var n,r=h.getLoggedUserEmail();i?(n=1==h.getLoggedUserType(),i.added_by==r||n?g(i.name,!0)||v.Confirm("Are you sure?","The view will be deleted permanently").then(function(){u.blockScreen(),l.genericController.remove_with_data({controller:"GridView",action:"Item",domain_id:i.type},i,function(){u.unblockScreen(),w.success("View Deleted"),e()},function(e){u.unblockScreen(),w.error(e.data),t()})},function(){t()}):(w.error("You cannot delete shared view created by other users, this view was created by "+i.added_by+"."),t())):(w.error("You need to select a view to delete"),t())})},loadView:function(n,r,i,o){return e(function(e,t){(r?(a.SetSavedState(n,o,null,null,i,r),e):(w.error("You need to select a view to load"),t))()})},saveView:function(a,d,c,s,u,l){return e(function(t,e){var n,r,i,o;c&&""!==c.trim()?g(c,!0,!0)||(c=c.toLowerCase(),n=s.find(function(e){return e.name.toLowerCase()===c}),r=s.find(function(e){return e.name.toLowerCase()===c+" (shared)"}),i=1==h.getLoggedUserType(),!r||l||i?n||r?(o=r||n,v.Confirm((i=r?"Shared ":"")+"View's name already exists","Save the view with this name will replace the existing "+i+"view. Do you want to continue?").then(function(){f(a,d,o.name,o,u,l).then(function(e){t({newView:e,updatedView:o})},function(){e()})},function(){e()})):f(a,d,c,null,u,l).then(function(e){t({newView:e})},function(){e()}):w.error("There is another Shared View created with the same name. Please choose another name.")):(w.error("Please make sure you enter a view name"),e())})},isSystemView:g}}]);
xPlanner.service("HttpService",["$location",function(t){var c=t.protocol()+"://"+t.host()+(t.port()?":"+t.port():"")+"/xPlannerAPI/api/";this.treeview_projects=function(t,n,e,s,r,o){return c+"treeviews/"+t+"/"+n+(e?"/"+e+(s?"/"+s+(r?"/"+r+(o?"/"+o:""):""):""):"")},this.asset_inventory_consolidated=function(t,n,e,s,r,o){return c+"assetsInventoryConsolidated/All/"+t+"/"+n+"/"+e+"/"+s+"/"+r+"?groupBy="+o},this.asset_inventory=function(t,n,e,s,r){return c+"assetsInventory/AllInventories/"+t+"/"+n+"/"+e+"/"+s+"/"+r},this.asset_inventory_filter_relocate=function(t,n,e){return c+"assetsInventory/AllFilterRelocate/"+t+"/"+n+"/"+e},this.asset_inventory_doc_link=function(t,n,e,s,r){return c+"assetsInventory/DocToLink/"+t+"/"+n+"/"+e+"/"+s+"/"+r},this.assets=function(t,n){return c+"assets/"+t+"/"+n},this.search_room_asset=function(t,n,e,s,r,o){return c+"assetrooms/get/"+t+"/"+n+"/"+s+"/"+r+"/"+o+"/"+e},this.available_po_assets=function(t,n,e,s,r,o){return c+"InventoryPurchaseOrder/ToAssign/"+t+"/"+n+"/"+e+"/"+s+"/"+r+"/"+o},this.project_addresses=function(t,n,e,s){return c+"address/"+t+"/"+n+"/"+e+"/"+s},this.phase_documents=function(t,n,e,s,r,o){return c+"phasedocuments/"+t+(n?"/"+n+(e?"/"+e+(s?"/"+s+(r?"/"+r+(o?"/"+o:""):""):""):""):"")},this.file_stream=function(t,n,e,s,r,o){return c+"filestream/"+t+"/"+n+"/"+e+"/"+s+"/"+r+"/"+o},this.file_stream_powerbi=function(t,n,e,s){return c+"dashboard/"+t+"/"+n+"/"+e+"/"+s},this.it_connectivity=function(t,n,e,s,r,o){return c+"itconnectivity/"+t+"/"+n+"/"+e+"/"+s+"/"+r+"/"+o},this.cost_center=function(t,n,e,s){return c+"costCenters/"+t+"/"+n+"/"+e+"/"+s},this.asset_options=function(t,n,e){return c+"assetoptions/"+t+"/"+n+"/"+e},this.generic=function(t,n,e,s,r,o,i){var a=c+t+"/"+n;return[e,s,r,o,i].forEach(function(t){void 0!==t&&(a+="/"+t)}),a},this.reportDownload=function(t,n,e,s,r){return c+"Report/download/"+t+"/"+n+"/"+e+"?extension="+s+"&timestamp="+r}}]);
xPlanner.factory("KendoAssetInventoryService",["AuthService","HttpService","ProgressService","toastr","$timeout","$q","localStorageService","$stateParams","KendoGridService","UtilsService","WebApiService","PlacementList",function(y,d,t,n,a,w,o,b,x,e,v,l){var r=e.GetJSNAttributesLabel(),s=e.GetJSNUtilities(),k="";function S(t,e,i){return columns=[{headerTemplate:x.GetSelectAllTemplate(i),template:function(t){return x.GetSelectRowTemplate(t.id)},width:"4em",lockable:!1},{field:"phase_description",title:"Phase",width:"150px"},{field:"department_description",title:"Department",width:"150px"},{field:"room_number",title:"Room No.",width:"120px"},{field:"room_name",title:"Room Name",width:"150px"},{field:"asset_code",title:"Code",width:"130px",template:function(t){return x.GetAssetCodeLinkTemplate(t)},lockable:!1},{field:"jsn_code",title:r.jsn_code,width:"100px"},{field:"asset_description",title:"Description",width:"250px",template:"#= asset_description + (tag ? '(' + tag + ')' : '') #",lockable:!1},{field:"final_room_number",title:"Wayfinding No.",width:"170px",hidden:!0},{field:"final_room_name",title:"Wayfinding Name",width:"170px",hidden:!0},{field:"room_code",title:"Room Code",width:150,hidden:!0},{field:"blueprint",title:"Blueprint",width:150,hidden:!0},{field:"staff",title:"Staff",width:150,hidden:!0},{field:"room_area",title:"Room Area",width:150,hidden:!0},{field:"functional_area",title:"Functional Area",width:180,hidden:!0},{field:"resp",title:"Resp",width:"110px",headerTemplate:'<div align=center class="comment-header">Resp<i style="vertical-align:middle;font-size:18px" class="material-icons no-button" title="'+k+'">info</i></div>'},{field:"type_resp",title:"Type",width:"120px"},{field:"source_location",title:"Source Location",width:"200px",hidden:!0,attributes:{class:"no-multilines"},template:function(t){return"Multiple"==t.source_location?t.source_location:t.source_location?(t=t.source_location.split("||"),x.GetLocationLink(t[1].replace('"','"'),JSON.parse(t[0]))):""},lockable:!1},{field:"target_location",title:"Target Location",width:"200px",hidden:!0,attributes:{class:"no-multilines"},template:function(t){return"Multiple"==t.target_location?t.target_location:t.target_location?(console.log("target_location"),console.log(t.target_location),t=t.target_location.split("||"),x.GetLocationLink(t[1].replace('"','"'),JSON.parse(t[0]))):""},lockable:!1},{field:"source_room",title:"Source Room",width:"200px",hidden:!0,attributes:{class:"no-multilines"},template:function(t){return t.source_room?(t=t.source_room.split("||"),x.GetLocationLink(t[1].replace('"','"'),JSON.parse(t[0]))):""},lockable:!1},{field:"target_room",title:"Target Room",width:"200px",hidden:!0,attributes:{class:"no-multilines"},template:function(t){return t.target_room?(t=t.target_room.split("||"),x.GetLocationLink(t[1].replace('"','"'),JSON.parse(t[0]))):""},lockable:!1},{field:"temporary_location",title:"Temporary Location",width:"200px",hidden:!0,attributes:{class:"no-multilines"}},{field:"final_disposition",title:"Final Disposition",width:"200px",hidden:!0,attributes:{class:"no-multilines"}},{field:"photo",title:"Photo",width:"100px",filterable:!1,template:function(t){return t.photo?'<section align=center><i onmouseover="showImage(this, '+t.photo_domain_id+","+t.photo_rotate+", '"+t.photo+'\')" onmouseout="hideImage(this)" class="material-icons">visibility</i><section align=center class="image_popover grid-column"><img title="picture not found"></section></section>':""}},{field:"tag_photo",title:"Tag Photo",width:"140px",filterable:!1,template:function(t){return t.tag_photo?'<section align=center><i onmouseover="showImage(this, '+t.domain_id+","+t.photo_rotate+", '"+t.tag_photo+'\')" onmouseout="hideImage(this)" class="material-icons">visibility</i><section align=center class="image_popover grid-column"><img title="picture not found"></section></section>':""}},{field:"cad_id",title:"CAD ID",width:"120px"},{field:"serial_number",title:"Model No.",width:"130px"},{field:"serial_name",title:"Model Name",width:"150px"},{field:"manufacturer_description",title:"Manufacturer",width:"150px",template:"#= manufacturer_description != '--none--' && manufacturer_description != 'Unknown' ? manufacturer_description || '' : '' #",lockable:!1},{field:"room_count",title:"Room Count",width:"150px",template:"<center>#: room_count #</center>",lockable:!1},{field:"budget_qty",title:"Planned qty",width:"130px",template:"<center>#: budget_qty || 0 #</center>",lockable:!1},{field:"medgas",title:"Gases description",width:"180px",hidden:!0},{field:"medgas_option",title:"Gases Required",width:"170px",hidden:!0},{field:"medgas_oxygen",title:"Oxygen",width:"115px",hidden:!0},{field:"medgas_air",title:"MedAir",width:"115px",hidden:!0},{field:"medgas_n2o",title:"N2O",width:"100px",hidden:!0},{field:"medgas_co2",title:"CO2",width:"100px",hidden:!0},{field:"medgas_wag",title:"WAG",width:"100px",hidden:!0},{field:"medgas_other",title:"Air Low Pressure",width:"120px",hidden:!0},{field:"medgas_high_pressure",title:"Air High Pressure",width:"120px",hidden:!0},{field:"medgas_nitrogen",title:"Nitrogen",width:"120px",hidden:!0},{field:"medgas_vacuum",title:"Vacuum",width:"110px",hidden:!0},{field:"medgas_steam",title:"Steam",width:"115px",hidden:!0},{field:"medgas_natgas",title:"NatGas",width:"120px",hidden:!0},{field:"gas_liquid_co2",title:"Liquid CO2",width:"120px",hidden:!0},{field:"gas_liquid_nitrogen",title:"Liquid Nitrogen",width:"120px",hidden:!0},{field:"gas_instrument_air",title:"Instrument Air",width:"120px",hidden:!0},{field:"gas_liquid_propane_gas",title:"Liquid Propane Gas",width:"120px",hidden:!0},{field:"gas_methane",title:"Methane",width:"120px",hidden:!0},{field:"gas_butane",title:"Butane",width:"120px",hidden:!0},{field:"gas_propane",title:"Propane",width:"120px",hidden:!0},{field:"gas_hydrogen",title:"Hydrogen",width:"120px",hidden:!0},{field:"gas_acetylene",title:"Acetylene",width:"120px",hidden:!0},{field:"connection_type",title:"Connection Type",width:"200px",hidden:!0,template:"<div align=center>#: connection_type ? connection_type : '' #</div>"},{field:"misc_antimicrobial",title:"Antimicrobial",width:"150px",hidden:!0},{field:"misc_ecolabel",title:"Eco-Label",width:"130px",hidden:!0},{field:"misc_ecolabel_desc",title:"Eco-Label Description",width:"190px",hidden:!0},{field:"plumbing",title:"Pumbling Description",width:"200px",hidden:!0},{field:"plumbing_option",title:"Plumbing Required",width:"200px",hidden:!0},{field:"plu_hot_water",title:"Hot Water",width:"130px",hidden:!0},{field:"plu_cold_water",title:"Cold Water",width:"130px",hidden:!0},{field:"plu_drain",title:"Drain",width:"110px",hidden:!0},{field:"plu_return",title:"Return",width:"110px",hidden:!0},{field:"plu_treated_water",title:"Treated Water",width:"150px",hidden:!0},{field:"plu_chilled_water",title:"Chilled Water",width:"150px",hidden:!0},{field:"plu_relief",title:"Relief",width:"120px",hidden:!0},{field:"water",title:"Exhaust Description",width:"180px",hidden:!0},{field:"water_option",title:"Exhaust Required",width:"180px",hidden:!0},{field:"cfm",title:"CFM",width:"100px",hidden:!0,template:"<div align=center>#: cfm ? cfm : '' #</div>"},{field:"btus",title:"BTUs",width:"100px",hidden:!0,template:"<div align=center>#: btus ? btus : '' #</div>"},{field:"data_desc",title:"Data Description",width:"180px",hidden:!0},{field:"data_option",title:"Data Required",width:"150px",hidden:!0},{field:"network_option",title:"Network Required",width:"250px",hidden:!0},{field:"network_type",title:"Network Type",width:"250px",hidden:!0,template:"<div align=center>#: network_type ? network_type : '' #</div>"},{field:"electrical",title:"Electrical Description",width:"180px",hidden:!0},{field:"electrical_option",title:"Electrical Required",width:"180px",hidden:!0},{field:"volts",title:"Volts",width:"100px",hidden:!0,template:"<div align=center>#: volts ? volts : '' #</div>"},{field:"phases",title:"Phases",width:"100px",hidden:!0,template:"<div align=center>#: phases ? phases : '' #</div>"},{field:"hertz",title:"Hertz",width:"100px",hidden:!0,template:"<div align=center>#: hertz ? hertz : '' #</div>"},{field:"plug_type",title:"Plug Type",width:"150px",hidden:!0,template:"<div align=center>#: plug_type ? plug_type : '' #</div>"},{field:"amps",title:"Amps",width:"100px",hidden:!0,template:"<div align=center>#: amps ? amps : '' #</div>"},{field:"volt_amps",title:"VoltAmps",width:"115px",hidden:!0,template:"<div align=center>#: volt_amps ? volt_amps : '' #</div>"},{field:"watts",title:"Watts",width:"100px",hidden:!0},{field:"blocking",title:"Blocking Description",width:"190px",hidden:!0},{field:"blocking_option",title:"Blocking Required",width:"185px",hidden:!0},{field:"supports",title:"Structural Description",width:"190px",hidden:!0},{field:"supports_option",title:"Structural Required",width:"185px",hidden:!0},{field:"misc_seismic",title:"Seismic Rated",width:"150px",hidden:!0},{field:"misc_ase",title:"ASE",width:"100px",hidden:!0},{field:"misc_ada",title:"ADA",width:"100px",hidden:!0},{field:"misc_shielding_lead_line",title:"Shielding, Lead Lined",width:"100px",hidden:!0},{field:"misc_shielding_magnetic",title:"Shielding, RF/Magnetic",width:"100px",hidden:!0},{field:"mobile",title:"Mobile Description",width:"185px",hidden:!0},{field:"mobile_option",title:"Mobile",width:"180px",hidden:!0},{field:"height",title:"Height(in)",width:"130px",hidden:!0,template:"<div align=center>#: height ? height : '' #</div>"},{field:"width",title:"Width(in)",width:"130px",hidden:!0,template:"<div align=center>#: width ? width : '' #</div>"},{field:"depth",title:"Depth(in)",width:"130px",hidden:!0,template:"<div align=center>#: depth || '' #</div>"},{field:"mounting_height",title:"Mounting Height(in)",width:"200px",hidden:!0,template:"<div align=center>#: mounting_height || '' #</div>"},{field:"clearance_top",title:"Top Clearance(in)",width:"170px",hidden:!0,template:"<div align=center>#: clearance_top || '' #</div>"},{field:"clearance_bottom",title:"Bottom Clearance(in)",width:"180px",hidden:!0,template:"<div align=center>#: clearance_bottom || '' #</div>"},{field:"clearance_right",title:"Right Clearance(in)",width:"175px",hidden:!0,template:"<div align=center>#: clearance_right || '' #</div>"},{field:"clearance_left",title:"Left Clearance(in)",width:"175px",hidden:!0,template:"<div align=center>#: clearance_left || '' #</div>"},{field:"clearance_front",title:"Front Clearance(in)",width:"175px",hidden:!0,template:"<div align=center>#: clearance_front || '' #</div>"},{field:"clearance_back",title:"Back Clearance(in)",width:"180px",hidden:!0,template:"<div align=center>#: clearance_back || '' #</div>"},{field:"weight",title:"Weight(lb)",width:"140px",hidden:!0,template:"<div align=center>#: weight || '' #</div>"},{field:"loaded_weight",title:"Loaded Weight(lb)",width:"180px",hidden:!0,template:"<div align=center>#: loaded_weight || '' #</div>"},{field:"ship_weight",title:"Ship Weight(lb)",width:"170px",hidden:!0,template:"<div align=center>#: ship_weight || '' #</div>"},{headerTemplate:'<div align=center class="comment-header"><i class="material-icons no-button" title="Comment">comment</i></div>',width:70,field:"comment",title:"Comment",filterable:!1,sortable:!1,template:function(t){return null==t.comment||0==t.comment.length?"":'<i class="material-icons no-button" title="'+t.comment+'">comment</i></div>'}},{field:"cut_sheet",title:"Spec",width:"90px",filterable:!1,template:function(t){return x.GetDownloadFileWithDomainTemplate(t.asset_id,t.asset_domain_id,"fullcutsheet",t.cut_sheet?"images/page_attach.png":"images/page.png")},lockable:!1,hidden:!0},{field:"has_shop_drawing",title:"Shop Drawing",width:"150px",filterable:!1,template:function(t){return t.has_shop_drawing?x.GetDownloadFileWithDomainTemplate(t.pdoc_blob_filename,t.domain_id,"project-documents","images/file-pdf.png"):""},lockable:!1},{field:"cad_block",title:"CAD Block",width:"120px",filterable:!1,template:function(t){return x.GetDownloadFileWithDomainTemplate(t.cad_block,t.asset_domain_id,"cadblock",t.cad_block?"images/icons/autocad.ico":"")},lockable:!1,hidden:!0},{field:"revit",title:"Revit",width:"90px",filterable:!1,template:function(t){return x.GetDownloadFileWithDomainTemplate(t.revit,t.asset_domain_id,"revit",t.revit?"images/icons/revit.ico":"")},lockable:!1,hidden:!0},{field:"discontinued",title:"Flag",width:"90px",filterable:!1,template:function(t){return t.discontinued?x.GetCheckIconTemplate():""},lockable:!1},{field:"lead_time",title:"Lead Time",width:"150px",template:"<center>#: lead_time ? lead_time : '' #</center>",lockable:!1},{field:"estimated_delivery_date",title:"Install Date",width:"150px",template:"#: estimated_delivery_date ? kendo.toString(kendo.parseDate(estimated_delivery_date), \"MM/dd/yyyy\") : '' #"},{field:"asset_profile",title:"Profile",width:"200px",attributes:{class:"no-multilines"},template:function(t){return"Options Pending"===t.asset_profile?"<span>Options Pending</span>":t.asset_profile?t.profile_tooltip?"<span class='link' title='"+t.profile_tooltip.replace("&lt;br/&gt;","\n").replace('"','"').replace(/^lt;br\/\&gt;/,"")+"'>"+t.asset_profile.replace('"','"')+"</span>":'<span class="link">'+t.asset_profile.replace('"','"')+"</span>":""},lockable:!1},{field:"tag",title:"TAG",width:"100px",hidden:!0},{field:"placement",title:"Placement",width:"150px",template:function(e){if(e.placement){var t=l.filter(function(t){return t.value==e.placement});if(0<t.length)return t[0].name}return e.placement},hidden:!0},{field:"ecn",title:"ECN",width:"100px"},{field:"biomed_check_required",title:"Biomed Check Required",width:"200px",hidden:!0}],e||(columns.splice(15,0,{field:"current_location",title:"Status",width:"120px",template:"#: current_location #",lockable:!1},{field:"po_status",title:"PO Status",width:"120px",template:"#: po_status #",lockable:!1,hidden:!0}),columns.splice(20,0,{field:"po_status_none",title:"None PO",width:"120px",lockable:!1},{field:"po_status_open",title:"PO Open",width:"120px",lockable:!1},{field:"po_status_issued",title:"PO Issued",width:"130px",lockable:!1},{field:"po_status_requested",title:"PO Requested",width:"150px",lockable:!1},{field:"po_status_qrequested",title:"Quote Requested",width:"150px",lockable:!1},{field:"po_status_qreceived",title:"Quote Received",width:"150px",lockable:!1},{field:"lease_qty",title:"Lease qty",width:"120px",template:"<center>#: lease_qty || 0 #</center>",lockable:!1},{field:"dnp_qty",title:"DNP qty",width:"120px",template:"<center>#: dnp_qty || 0 #</center>",lockable:!1},{field:"net_new",title:"Net New",width:"120px",template:"<center>#: net_new #</center>"},{field:"total_unit_budget",title:"Unit Budget (Net)",width:"170px",lockable:!1,template:function(t){return x.GetCurrencyTemplate(t.total_unit_budget)}},{field:"total_budget_amt",title:"Total Budget (Net)",width:"170px",lockable:!1,template:function(t){return x.GetCurrencyTemplate(t.total_budget_amt)}},{field:"po_qty",title:"PO qty",width:"100px",template:"<center>#: po_qty #</center>"},{field:"total_po_amt",title:"PO amt",width:"150px",template:function(t){return x.GetCurrencyTemplate(t.total_po_amt)}},{field:"buyout_delta",title:"PO delta",width:"120px",template:function(t){return x.GetCurrencyTemplate(t.buyout_delta)}},{field:"quote_number",title:"Quote Number",width:"150px",lockable:!1,hidden:!0},{field:"po_requested_number",title:"Requisition Number",width:"150px",lockable:!1,hidden:!0},{field:"vendor",title:"Vendor",width:"150px",lockable:!1,hidden:!0},{field:"unit_markup",title:"Unit Markup (%)",width:"150px",lockable:!1,hidden:!0},{field:"unit_markup_calc",title:"Unit Markup ($)",width:"150px",lockable:!1,hidden:!0,template:function(t){return p(t.unit_markup_calc)}},{field:"unit_escalation",title:"Unit Escalation (%)",width:"170px",lockable:!1,hidden:!0},{field:"unit_escalation_calc",title:"Unit Escalation ($)",width:"170px",lockable:!1,hidden:!0,template:function(t){return p(t.unit_escalation_calc)}},{field:"unit_budget_adjusted",title:"Unit Budget(Adjusted)",width:"190px",lockable:!1,hidden:!0,template:function(t){return p(t.unit_budget_adjusted)}},{field:"unit_tax",title:"Unit Tax (%)",width:"150px",lockable:!1,hidden:!0},{field:"unit_tax_calc",title:"Unit Tax ($)",width:"150px",lockable:!1,hidden:!0,template:function(t){return p(t.unit_tax_calc)}},{field:"unit_install_net",title:"Unit Install (Net)",width:"170px",lockable:!1,hidden:!0,template:function(t){return p(t.unit_install_net)}},{field:"unit_install_markup",title:"Unit Install Markup (%)",width:"200px",lockable:!1,hidden:!0},{field:"unit_install",title:"Unit Install",width:"150px",lockable:!1,hidden:!0,template:function(t){return p(t.unit_install)}},{field:"unit_freight_net",title:"Unit Freight (Net)",width:"170px",lockable:!1,hidden:!0,template:function(t){return p(t.unit_freight_net)}},{field:"unit_freight_markup",title:"Unit Freight Markup (%)",width:"200px",lockable:!1,hidden:!0},{field:"unit_freight",title:"Unit Freight",width:"150px",lockable:!1,hidden:!0,template:function(t){return p(t.unit_freight)}},{field:"unit_budget_total",title:"Unit Budget",width:"150px",lockable:!1,hidden:!0,template:function(t){return p(t.unit_budget_total)}},{field:"total_budget_adjusted",title:"Total Budget (Adjusted)",width:"200px",lockable:!1,hidden:!0,template:function(t){return x.GetCurrencyTemplate(t.total_budget_adjusted)}},{field:"total_tax",title:"Total Tax ($)",width:"150px",lockable:!1,hidden:!0,template:function(t){return x.GetCurrencyTemplate(t.total_tax)}},{field:"total_install_net",title:"Total Install (Net)",width:"170px",lockable:!1,hidden:!0,template:function(t){return x.GetCurrencyTemplate(t.total_install_net)}},{field:"total_install",title:"Total Install",width:"150px",lockable:!1,hidden:!0,template:function(t){return x.GetCurrencyTemplate(t.total_install)}},{field:"total_freight_net",title:"Total Freight (Net)",width:"170px",lockable:!1,hidden:!0,template:function(t){return x.GetCurrencyTemplate(t.total_freight_net)}},{field:"total_freight",title:"Total Freight",width:"150px",lockable:!1,hidden:!0,template:function(t){return x.GetCurrencyTemplate(t.total_freight)}},{field:"total_budget",title:"Total Budget",width:"150px",lockable:!1,hidden:!0,template:function(t){return x.GetCurrencyTemplate(t.total_budget)}},{field:"po_number",title:"PO Number",width:"150px"},{field:"delivered_date",title:"Delivered Date",width:"160px",template:"#: delivered_date ? kendo.toString(kendo.parseDate(delivered_date), \"MM/dd/yyyy\") : '' #"},{field:"received_date",title:"Received Date",width:"160px",template:"#: received_date ? kendo.toString(kendo.parseDate(received_date), \"MM/dd/yyyy\") : '' #"},{field:"option_codes",title:"Options Code",width:"200px",attributes:{class:"no-multilines"},template:"#: option_codes || '' #",lockable:!1,hidden:!0},{field:"option_descriptions",title:"Options Description",width:"200px",attributes:{class:"no-multilines"},template:"#: option_descriptions || '' #",lockable:!1,hidden:!0},{field:"class",title:"Class",width:"185px",hidden:!0},{field:"clin",title:"CLIN",width:"150px",hidden:!0},{field:"jsn_nomenclature",title:"JSN Nomenclature",width:"185px",hidden:!0},{field:"jsn_description",title:r.jsn_description,width:150,filterable:!1,sortable:!1,hidden:!0,template:"#= jsn_description ? '<div align=center><i class=\"material-icons\" title=\"' + jsn_description + '\">comment</i></div>' : '' #"},{field:"jsn_comments",title:"JSN Comments",width:150,filterable:!1,sortable:!1,hidden:!0,template:"#= jsn_comments ? '<div align=center><i class=\"material-icons\" title=\"' + jsn_comments + '\">comment</i></div>' : '' #"},{headerTemplate:'<div align=center class="comment-header">'+r.jsn_utility1+'<i style="vertical-align:middle;font-size:18px" class="material-icons no-button" title="'+s.u1+'">info</i></div>',field:"jsn_utility1",title:r.jsn_utility1,width:"100px",hidden:!0},{headerTemplate:'<div align=center class="comment-header">'+r.jsn_utility2+'<i style="vertical-align:middle;font-size:18px" class="material-icons no-button" title="'+s.u2+'">info</i></div>',field:"jsn_utility2",title:r.jsn_utility2,width:"100px",hidden:!0},{headerTemplate:'<div align=center class="comment-header">'+r.jsn_utility3+'<i style="vertical-align:middle;font-size:18px" class="material-icons no-button" title="'+s.u3+'">info</i></div>',field:"jsn_utility3",title:r.jsn_utility3,width:"100px",hidden:!0},{headerTemplate:'<div align=center class="comment-header">'+r.jsn_utility4+'<i style="vertical-align:middle;font-size:18px" class="material-icons no-button" title="'+s.u4+'">info</i></div>',field:"jsn_utility4",title:r.jsn_utility4,width:"100px",hidden:!0},{headerTemplate:'<div align=center class="comment-header">'+r.jsn_utility5+'<i style="vertical-align:middle;font-size:18px" class="material-icons no-button" title="'+s.u5+'">info</i></div>',field:"jsn_utility5",title:r.jsn_utility5,width:"100px",hidden:!0},{headerTemplate:'<div align=center class="comment-header">'+r.jsn_utility6+'<i style="vertical-align:middle;font-size:18px" class="material-icons no-button" title="'+s.u6+'">info</i></div>',field:"jsn_utility6",title:r.jsn_utility6,width:"100px",hidden:!0}),columns.splice(columns.length-1,0,{field:"cost_center",title:"Cost Center",width:"140px"}),columns.splice(columns.length-1,0,{field:"inventory_id",title:"Inventory ID",width:"130px",hidden:!0,template:"#: inventory_id > 0 ? inventory_id : inventory_ids #"})),columns.splice(columns.findIndex(t=>"PO Status"===t.title),1),columns}function j(t,e){return t?e?"asset-grid-state-global-template":"asset-grid-state-template":"asset-grid-state-"+(b.room_id?"room":b.department_id?"department":b.phase_id?"phase":"project")}function q(t,e,i,n,l){return d[l?"asset_inventory_doc_link":t||n||!e||null==i?"asset_inventory":"asset_inventory_consolidated"](t?b.domain_id:y.getLoggedDomain(),b.project_id,l||b.phase_id,b.department_id,b.room_id,i)}function p(t){return"Multiple"==t?t:x.GetCurrencyTemplate(t)}function D(e,i,n,l,t,d){d||a(function(){var t=angular.extend(e.getOptions(),{isConsolidated:l});t.dataSource.data=[],t.dataSource.filter=null,o.isSupported?o.set(j(i,n),t):o.cookie.isSupported&&o.cookie.set(j(i,n),t)},t||0)}function T(){return{pageSize:50,transport:{read:{url:null,headers:{Authorization:"Bearer "+y.getAccessToken()}}},schema:{model:{id:"inventory_id",fields:{asset_code:{type:"string"},photo:{type:"string"},cad_id:{type:"string"},serial_number:{type:"string"},serial_name:{type:"string"},manufacturer_description:{type:"string"},asset_description:{type:"string"},current_location:{type:"string"},budget_qty:{type:"number"},lease_qty:{type:"number"},dnp_qty:{type:"number"},net_new:{type:"number"},total_unit_budget:{type:"number"},total_budget_amt:{type:"number"},po_qty:{type:"number"},total_po_amt:{type:"number"},buyout_delta:{type:"number"},none_option:{type:"boolean"},total_assets_options:{type:"numbers"},option_codes:{type:"string"},option_descriptions:{type:"string"},asset_profile:{type:"string"},cut_sheet:{type:"string"},cad_block:{type:"string"},revit:{type:"string"},discontinued:{type:"string"},cost_center:{type:"string"},tag:{type:"string"},quantity:{type:"number"},phases_qty:{type:"number"},departments_qty:{type:"number"},rooms_qty:{type:"number"},medgas:{type:"string"},medgas_option:{type:"string"},medgas_oxygen:{type:"string"},medgas_air:{type:"string"},medgas_n2o:{type:"string"},medgas_co2:{type:"string"},medgas_wag:{type:"string"},medgas_other:{type:"string"},medgas_high_pressure:{type:"string"},medgas_nitrogen:{type:"string"},medgas_vacuum:{type:"string"},medgas_steam:{type:"string"},medgas_natgas:{type:"string"},gas_acetylene:{type:"string"},gas_butane:{type:"string"},gas_hydrogen:{type:"string"},gas_instrument_air:{type:"string"},gas_liquid_co2:{type:"string"},gas_liquid_nitrogen:{type:"string"},gas_liquid_propane_gas:{type:"string"},gas_methane:{type:"string"},gas_propane:{type:"string"},misc_antimicrobial:{type:"string"},misc_ecolabel:{type:"string"},misc_ecolabel_desc:{type:"string"},plumbing:{type:"string"},plumbing_option:{type:"string"},plu_hot_water:{type:"string"},plu_cold_water:{type:"string"},plu_drain:{type:"string"},plu_return:{type:"string"},plu_treated_water:{type:"string"},plu_chilled_water:{type:"string"},plu_relief:{type:"string"},water:{type:"string"},water_option:{type:"string"},cfm:{type:"string"},btus:{type:"string"},data_desc:{type:"string"},data_option:{type:"string"},electrical:{type:"string"},electrical_option:{type:"string"},volts:{type:"string"},phases:{type:"string"},hertz:{type:"string"},amps:{type:"string"},volt_amps:{type:"string"},watts:{type:"string"},blocking:{type:"string"},blocking_option:{type:"string"},supports:{type:"string"},supports_option:{type:"string"},misc_seismic:{type:"string"},misc_ase:{type:"string"},misc_ada:{type:"string"},misc_shielding_lead_line:{type:"string"},misc_shielding_magnetic:{type:"string"},mobile:{type:"string"},mobile_option:{type:"string"},height:{type:"string"},width:{type:"string"},depth:{type:"string"},clearance_top:{type:"string"},clearance_bottom:{type:"string"},clearance_right:{type:"string"},clearance_left:{type:"string"},clearance_front:{type:"string"},clearance_back:{type:"string"},weight:{type:"string"},loaded_weight:{type:"string"},ship_weight:{type:"string"},linked_template:{type:"number"},room_count:{type:"number"},jsn_code:{type:"string"},jsn_nomenclature:{type:"string"},jsn_comments:{type:"string"},jsn_description:{type:"string"},jsn_utility1:{type:"string"},jsn_utility2:{type:"string"},jsn_utility3:{type:"string"},jsn_utility4:{type:"string"},jsn_utility5:{type:"string"},jsn_utility6:{type:"string"},unit_budget_total:{type:"string"},unit_markup:{type:"string"},unit_markup_calc:{type:"string"},unit_escalation:{type:"string"},unit_escalation_calc:{type:"string"},unit_budget_adjusted:{type:"string"},unit_tax:{type:"string"},unit_tax_calc:{type:"string"},unit_install_net:{type:"string"},unit_install_markup:{type:"string"},unit_install:{type:"string"},unit_freight_net:{type:"string"},unit_freight_markup:{type:"string"},unit_freight:{type:"string"},total_budget_adjusted:{type:"number"},total_tax:{type:"number"},total_install_net:{type:"number"},total_install:{type:"number"},total_freight_net:{type:"number"},total_freight:{type:"number"},total_budget:{type:"number"}}},parse:function(t){return e.GetAssetAttributesLabel(t)}},error:function(){t.unblockScreen(),n.error("Error to retrieve assets from server, please contact technical support")},change:function(){t.unblockScreen()}}}return{SetSavedState:function(s,p,c,e,i,_,u,h,m,g,f){return w(function(l,d){var a={excel:{fileName:(b.room_id?"Room":b.department_id?"Department":b.phase_id?"Phase":"Project")+" Details.xlsx",allPages:!0,filterable:!0},pdf:{fileName:(b.room_id?"Room":b.department_id?"Department":b.phase_id?"Phase":"Project")+" Details.pdf",allPages:!0,author:"audaxware",creator:"audaxware",margin:{left:10,right:"10pt",top:"10mm",bottom:"1in"}}},o={reorderable:!0,groupable:!0,height:e=e||window.innerHeight-220,noRecords:"No assets available",columnMenu:{columns:!1,sortable:!1,messages:{columns:"Columns",filter:"Filter",lock:"Freeze",unlock:"Unfreeze"}}},r=T();w(function(e,t){v.genericController.get({controller:"Responsability",action:"Description",domain_id:y.getLoggedDomain()},function(t){k=t.text,e()},function(){n.error("Error to retrieve responsability description from server, please contact technical support"),t()})}).then(function(){var n=S(0,c,_),t=g?null:j(p,c);x.GetSavedState(i,t,{controller:"GridView",action:"Item",domain_id:p?c?"assets_inventory_global_template":"assets_inventory_template":"assets_inventory",project_id:"(Default)",phase_id:y.getLoggedDomain()},e,n,r.schema).then(function(t){var e=!1,i=(t?(t.excel=a.excel,t.pdf=a.pdf):(t=x.GetStructure(r,n,null,o,null,a),e=!0),t.isConsolidated);t.dataSource.schema.model.id="inventory_id",t.dataSource.transport.read?t.dataSource.transport.read.url=q(p,i,g,f):t.dataSource.transport.options.read.url=q(p,i,g,f),t.dataSource.filter||(t.dataSource.filter=null),t.dataBound=u,t.pdfExport=h,m&&(t.columnHide=m,t.columnShow=m,t.columnReorder=m,t.columnLock=m,t.columnUnlock=m),s.setOptions(t),e?(t=angular.extend(s.getOptions(),{isConsolidated:i}),x.SaveGridState(t,p?c?"assets_inventory_global_template":"assets_inventory_template":"assets_inventory","(Default)").then(function(){D(s,p,c,i,null,g),l(i)},function(){d()})):(D(s,p,c,i,null,g),l(i))},function(){d()})})})},DataBound:function(t,e,i,n,l){t&&(x.DataBound(t),D(t,e,i,n,null,l))},SaveState:D,GetGridUrl:q,SetSelecteds:function(t,e){t&&(t.selecteds=e)},GetNotHiddenColumns:function(t,e,i){return S(0,e,i).filter(function(t){return!t.hidden})},GetDataSource:T,DeleteItems:function(t){if(!(null==t||t.length<=0))return t=t.map(function(t){return{inventory_ids:t.inventory_id,domain_id:y.getLoggedDomain(),project_id:b.project_id,phase_id:t.phase_id||-1,department_id:t.department_id||-1,room_id:t.room_id||-1}}),v.genericController.remove_with_data({controller:"assetsInventory",action:"Multiple",domain_id:y.getLoggedDomain(),project_id:b.project_id},t).$promise},GetNotConsolidatedFields:function(){return["phase_description","department_description","room_number","room_name","room_area","po_status","lease_qty","dnp_qty","net_new","total_budget_amt","po_qty","total_po_amt","buyout_delta","unit_markup_calc","unit_escalation_calc","unit_budget_adjusted","unit_tax_calc","unit_install","unit_freight","unit_budget_total","total_budget_adjusted","total_tax","total_install_net","total_install","total_freight_net","total_freight","total_budget","po_number","option_codes","option_descriptions","room_count","budget_qty","inventory_id","final_room_number","final_room_name","network_option","network_type","ecn","po_status_none","po_status_open","po_status_issued","po_status_requested","po_status_qrequested","Quote Received"]},GetMandatoryFields:function(){return["inventory_id","jsn_code","asset_code"]}}}]);
xPlanner.factory("KendoGridService",["DialogService","$timeout","localStorageService","toastr","$q","WebApiService","ProgressService","AudaxwareDataService","AuthService","$location",function(o,n,d,l,g,u,a,r,t,c){function i(e){var t;if(e)return t=[],angular.forEach(new kendo.data.Query(e.dataSource.data()).filter(e.dataSource.filter()).data,function(e){t.push(e)}),t}function s(e,t){var a,n,o=e.data.grid,e=e.data.grid_name;o&&(n=(t=t||this).checked,t=$(t).closest("tr"),a=o.dataItem(t),o.selecteds=o.selecteds||[],n?(t.addClass("k-state-selected"),o.selecteds.push(a),o.selecteds.length==o.items().length&&$("#select-all-"+e).prop("checked",!0)):(t.removeClass("k-state-selected"),$("#select-all-"+e).prop("checked",!1),n=o.selecteds.indexOf(a),o.selecteds.splice(n,1)))}function p(e){return e&&e.selecteds||[]}function f(e){e.data.grid&&(e.target.checked?h(e.data.grid,null,!e.data.grid.options.pageable):m(e.data.grid))}function h(a,e,t,n){(e=e||a.items()).addClass("k-state-selected"),a.tbody.find(".k-checkbox").prop("checked",!0),a.thead.find(".k-checkbox").prop("checked",!0),t?a.selecteds=n||i(a):(a.selecteds||(a.selecteds=[]),e.each(function(e,t){a.selecteds.push(a.dataItem(t))}))}function k(e){e.thead.find(".k-checkbox").prop("checked",!0)}function m(e){var t=e.items();e.selecteds=[],t.removeClass("k-state-selected"),e.tbody.find(".k-checkbox").prop("checked",!1),e.thead.find(".k-checkbox").prop("checked",!1)}function S(e){e&&(e.tbody.find(".k-i-collapse").click(),e.expand=!0)}function b(e){e&&(e.tbody.find(".k-i-expand").click(),e.expand=!1)}function v(t,e,a){var n;t&&(a?(t.items().addClass("k-state-selected").find(".k-checkbox").attr("checked","checked"),k(t)):(e=e||t.selecteds,n=0,angular.forEach(e,function(e){e=t.tbody.find("tr[data-uid='"+e.uid+"']");0<e.length&&(n++,e.addClass("k-state-selected").find(".k-checkbox").attr("checked","checked"))}),t.selecteds&&t.dataSource.pageSize()===n?k(t):t.thead.find(".k-checkbox").prop("checked",!1)))}function w(t,a,e){n(function(){var e=t.getOptions();e.dataSource.data=[],d.isSupported?d.set(a,e):d.cookie.isSupported&&d.cookie.set(a,e)},e||0)}function x(e){return e&&e.selecteds&&0<e.selecteds.length}function y(e){return e.dataSource.transport&&(e.dataSource.transport.read?e.dataSource.transport.read.headers={Authorization:"Bearer "+t.getAccessToken()}:e.dataSource.transport.options.read.headers={Authorization:"Bearer "+t.getAccessToken()}),e}function _(e,t){return e.height=t||window.innerHeight-170,e}function C(t,e){if(t&&e){var a,n={},o={};t.columns.removeIf(function(e,t){if(n.hasOwnProperty(e.field))return!0;n[e.field]=e}),angular.forEach(e,function(e,t){o[e.field]=e});for(var r=0;r<t.columns.length;r++)t.columns[r].field?o.hasOwnProperty(t.columns[r].field)?((a=o[t.columns[r].field]).hidden=t.columns[r].hidden,a.locked=t.columns[r].locked,t.columns[r]=a):(t.columns.splice(r,1),--r):0===r&&t.columns[r].headerTemplate&&(t.columns[r]=e[0]);e.map(function(e){!e.field||n.hasOwnProperty(e.field)||(e.hidden=!0,t.columns.push(e),n[e.field]=e)})}return t}function A(n,o,r,c){return g(function(e,t){n&&n.dataSource&&(n.dataSource.data&&delete n.dataSource.data,n.dataSource.transport)&&(n.dataSource.transport.read?delete n.dataSource.transport.read.headers:delete n.dataSource.transport.options.read.headers);var a={name:r,type:o,grid_state:JSON.stringify(n)};u.genericController.save({controller:"GridView",action:"Item"},a,function(){c&&l.success("Grid state saved"),e()},function(e){l.error("Error to save grid state, please contact the technical support"),t()})})}function G(e,t){return t&&(e.dataSource.schema?e.dataSource.schema=t:e.dataSource.options.schema=t),e}function T(o,r,c,l,i,s){return g(function(t,a){var e,n=superJson.create();o?t(G(y(C(_(n.parse(o.grid_state),l),i)),s)):(e=r?d.isSupported?d.get(r):d.cookie.isSupported?d.cookie.get(r):null:e)?t(G(y(C(_(e,l),i)),s)):c?(c.domain_id=c.domain_id||c.type,c.project_id=c.project_id||c.name,u.genericController.get(c,function(e){t(G(y(C(_(n.parse(e.grid_state),l),i)),s))},function(e){404===e.status?t(null):a()})):t(null)})}return{SelectRow:s,GetSelecteds:p,GetSelectAllTemplate:function(e){return'<input type="checkbox" id="select-all-'+e+'" class="k-checkbox"/><label class ="k-checkbox-label" for="select-all-'+e+'"></label>'},GetSelectRowTemplate:function(e){return'<input type="checkbox" id="'+e+'" class="k-checkbox"><label class="k-checkbox-label" for="'+e+'"></label>'},SelectAllChange:f,CollapseAll:S,CollapseExpand:function(e){e&&(!1!==e.expand?b:S)(e)},ExpandAll:b,InitiateGridEvents:function(e,t){e.table.on("click",".k-checkbox",{grid:e,grid_name:t},s),$("#select-all-"+t).on("change",{grid:e},f)},DataBound:function(e,t){var a,n;e&&(e.dataSource.group().length&&S(e),e.notFirstBound||(e.thead.find("th[data-role='columnsorter']").on("click",function(t){e.dataSource.group().find(function(e){return e.field==t.currentTarget.attributes["data-field"].nodeValue})&&o.Alert("Grouped column","When the data is grouped, it is always sorted by the grouped columns in ascending order, if you want to sort the data by this column you need to ungroup.")}),e.notFirstBound=!0),(n=e)&&n.selecteds&&0<n.selecteds.length&&i(n).length===n.selecteds.length?v(e,null,!0):v(e),n=e.dataSource.filter(),e.thead.find(".k-link.k-state-active").removeClass("k-state-active"),n&&(function e(t,a){if(t.filters)for(var n=0;n<t.filters.length;n++)e(t.filters[n],a);else a[t.field]=!0}(n,a={}),e.thead.find("th[data-field]").each(function(){var e=$(this);a[e.data("field")]&&e.find(".k-link").addClass("k-state-active")})),t&&w(e,t),n=JSON.stringify(n),e.appliedFilters!=n)&&(e.appliedFilters=n,e.dataSource.page(1))},AddSelectedClass:v,SaveState:w,SelectAll:h,UnselectAll:m,ClearFilters:function(e){e.dataSource.filter()&&(e.dataSource.filter(null),m(e))},VerifySelected:function(e,t,a,n){return x(a)?!(n&&1<p(a).length&&(l.error("You can "+e+" only one "+t+" at a time"),1)):(n?l.error("You need to select "+(-1<"aeiou".indexOf(t.charAt(0).toLowerCase())?"an ":"a ")+t+" to "+e):l.error("You need to select at least one "+t+" to "+e),!1)},SetSavedState:function(o,r,c,l,i,e,s,d,u,p,f,h){return g(function(t,a){var n=!1;T(e,c,l,i,d?d.columns:null,d?(d.dataSource.options||d.dataSource).schema:null).then(function(e){if(!e){if(!d)return;e=_(d,i),n=!!l}e.pageable.pageSizes=d.pageable.pageSizes,e.pageable.pageSizes.indexOf(e.pageable.pageSize)<0&&(e.pageable.pageSize=d.pageable.pageSize),s&&(e.dataSource.transport.read?e.dataSource.transport.read.url=s:e.dataSource.transport.options.read.url=s),e.dataSource.filter||(e.dataSource.filter=null),u&&angular.forEach(u,function(t){e.columns.map(function(e){return e.field===t.field&&(e.editor=t.editor),e})}),e.dataBound=p,e.pdfExport=f,h&&(e.columnHide=h,e.columnShow=h,e.columnReorder=h),e.filterMenuInit=function(e){var t;"asset_category"!==e.field&&"asset_subcategory"!==e.field||((t=this.thead.find("[data-field="+e.field+"]").data("kendoFilterMultiCheck")).container.empty(),t.checkSource.sort({field:e.field,dir:"asc"}),t.checkSource.data(t.checkSource.view().toJSON()),t.createCheckBoxes())},o.setOptions(e),w(o,c),r&&o.dataSource.data(r),n?A(e=o.getOptions(),l.type,l.name).then(function(){t()},function(){a()}):t()},function(){a()})})},GetSavedState:T,SaveGridState:A,GetCurrencyTemplate:function(e){return valueView=kendo.toString(Number(e),"n2"),template='<section class="currency">',valueView&&(template+='<section class="dollar-sign">$</section>'),template+='<section class="dollar-value">'+valueView+"</section></section>"},GetCheckIconTemplate:function(){return'<center><i class="material-icons no-button" style="color: green">check</i></center>'},GetDownloadFileWithDomainTemplate:function(e,t,a,n){return"<section align=center onclick=\"downloadFile('"+e+"', "+t+", '"+a+"')\">"+(n?'<img class="icon" src="'+n+'">':"")+"</section>"},ExportGrid:function(e,t){switch(e){case"pdf":o.Confirm("Export to PDF","This operation will lock the browser for a few seconds. Do you want to continue?").then(function(){a.blockScreen(),t.saveAsPDF().then(function(){t.showColumn(0),$(".k-pager-wrap.k-grid-pager.k-widget.k-floatwrap").css("display","block"),a.unblockScreen()})});break;case"excel":t.saveAsExcel()}},DeleteItems:function(t,a,n,o,e){return e=e?r.RemoveAudaxwareItems(n.selecteds):n.selecteds,g.all(e.map(function(e){return t[o?"remove_with_data":"remove"](a?a(e):e,o||null,function(){n.dataSource.remove(e),n.selecteds.splice(n.selecteds.indexOf(e),1)}).$promise}))},ExportToPDF_Event:function(e){return e.hideColumn(0),$(".k-pager-wrap.k-grid-pager.k-widget.k-floatwrap").css("display","none"),e},GetStructure:function(e,t,a,n,o,r){return _({toolbar:a?[a]:null,excel:r?r.excel:null,pdf:r?r.pdf:null,dataSource:e,pageable:!1!==o&&{pageSizes:o&&o.pageSizes?o.pageSizes:[50,100,300,500,1e3,2e3,3e3],pageSize:o&&o.pageSizeDefault?o.pageSizeDefault:50,buttonCount:5,input:!0},rowTemplate:n&&n.rowTemplate?n.rowTemplate:null,scrollable:!0,sortable:!0,filterable:(!n||!1!==n.filterable)&&{operators:{string:{contains:"Contains",doesnotcontain:"Does not contain",eq:"Is equal To",neq:"Is not equal To",startswith:"Starts With",endswith:"Ends with"}}},resizable:!0,reorderable:n&&n.reorderable,groupable:n&&n.groupable,editable:!(!n||!n.editable)&&n.editable,mobile:!0,noRecords:n&&n.noRecords?{template:n.noRecords}:null,selectable:n&&n.selectable?n.selectable:null,columnMenu:n&&n.columnMenu?n.columnMenu:null,columns:t},n&&n.height?n.height:null)},RemoveSelectedItems:function(t,e){var a;t&&e.length==t.selecteds.length?m(t):(a=[],angular.forEach(e,function(e){t.tbody.find("tr[data-uid='"+t.selecteds[e].uid+"']").removeClass("k-state-selected"),a.push(t.selecteds[e])}),t.selecteds=t.selecteds.filter(function(e){return a.indexOf(e)<0}))},AnySelected:x,GetAllPageData:function(a){var e=a.items();return data=[],e.each(function(e,t){data.push(a.dataItem(t))}),data},GetAssetCodeLinkTemplate:function(e){if(e)return'<a href="'+c.absUrl().replace(c.path(),"/workspace/assets/"+(e.asset_domain_id||e.domain_id)+"/"+e.asset_id)+'" target="_blank">'+e.asset_code+"</a>"},GetLocationLink:function(e,t){if(t&&t.project_id&&t.phase_id&&t.department_id&&t.room_id)return'<span title="'+e+'"><a href="'+c.absUrl().replace(c.path(),"/projects/"+t.project_id+"/phase/"+t.phase_id+"/department/"+t.department_id+"/room/"+t.room_id+"/assets")+'">'+e+"</a></span>"}}}]);
xPlanner.factory("localStorageAwService",["localStorageService",function(t){return{get:function(e){return t.isSupported?t.get(e):t.cookie.isSupported?t.cookie.get(e):null},set:function(e,o){if(t.isSupported)t.set(e,o);else{if(!t.cookie.isSupported)return!1;t.cookie.set(e,o)}return!0}}}]);
xPlanner.service("ProgressService",["ngProgressFactory",function(r){(_progressBar=r.createInstance()).setHeight("2px"),_progressBar.setColor("#FF6E40");var e={};return{blockScreen:function(r){null!=r&&(e[r]=0),kendo.ui.progress(angular.element("#spiner"),!0)},unblockScreen:function(r){null!=r&&delete e[r],0==Object.keys(e).length&&kendo.ui.progress(angular.element("#spiner"),!1)},startProgressBar:function(){_progressBar.start()},stopProgressBar:function(){_progressBar.stop()},completeProgressBar:function(){_progressBar.complete()}}}]);
xPlanner.factory("ThemeService",["localStorageService",function(t){var o="grey";return{setTheme:function(e){t.isSupported?t.set("theme",e):t.cookie.isSupported&&t.cookie.set("theme",e)},getTheme:function(){var e;return t.isSupported?e=t.get("theme")||o:t.cookie.isSupported&&(e=t.cookie.get("theme")||o),e&&"default"!==e?e:o}}}]);
xPlanner.factory("TreeViewService",["localStorageService",function(r){return{RemoveItem:function(e,t){e.remove(node)},Search:function(e,t){""!==t?e.dataSource.filter({field:"text",operator:"contains",value:t}):e.dataSource.filter({})},SetTreeViewDataSource:function(e,t,o){new kendo.data.HierarchicalDataSource({data:t,schema:{model:o}})},AddItemTreeview:function(e,t,o,i){var a;e.append({id:t.id,domain_id:t.domain_id,text:t.text},o),e=i,(o=r.isSupported?r.get(e):r.cookie.isSupported?r.cookie.get(e):void 0).push(t),i=o,r.isSupported?r.set(i,a):r.cookie.isSupported&&r.cookie.set(i,a)},UpdateItemTreeView:function(e,t,o){e.text(o,t.description)},GetTreeData:function(e){return e.dataSource.data()}}}]);
xPlanner.factory("WebApiService",["$resource","$location",function(e,t){t=t.protocol()+"://"+t.host()+(t.port()?":"+t.port():"")+"/xPlannerAPI/api/";return{treeview_projects:e(t+"treeviews/:action/:domain_id"),client:e(t+"clients/:client_id"),facility:e(t+"facilities/:facility_id"),genericController:e(t+":controller/:action/:domain_id/:project_id/:phase_id/:department_id/:room_id",null,{update:{method:"PUT",timeout:12345678},remove_with_data:{method:"POST"},patch:{method:"PATCH",hasBody:!0}}),detailsController:e(t+":controller/Item/:domain_id/:project_id/:phase_id/:department_id/:room_id",null,{update:{method:"PUT"}}),project_values:e(t+"projectvalues/:domain_id/:project_id/:phase_id/:department_id/:room_id"),department_type:e(t+"/xPlannerAPI/api/departmentType/all/:domain_id/:department_type_id"),phase:e(t+"phases/:phase_id/project/:project_id",null,{update:{method:"PUT"}}),project:e(t+"projects/:project_id",null,{update:{method:"PUT"}}),department:e(t+"departments/:department_id/project/:project_id/phase/:phase_id",null,{update:{method:"PUT"}}),room:e(t+"rooms/:room_id/project/:project_id/phase/:phase_id/department/:department_id",null,{update:{method:"PUT"}}),options:e(t+"options/equipment/:equipment_id/equipment_domain/:domain_id/project/:project_id/phase/:phase_id/department/:department_id/room/:room_id"),options_save:e(t+"options/equipment/:equipment_id/equipment_domain/:domain_id/project/:project_id",null,{update:{method:"PUT"}}),colors:e(t+"options/equipment/:equipment_id/equipment_domain/:domain_id/project/:project_id/phase/:phase_id/department/:department_id/room/:room_id"),domains:e(t+"domains/:action/:domain_id"),asset_inventory_consolidated:e(t+"assetsInventoryConsolidated/:action/:domain_id/:project_id/:phase_id/:department_id/:room_id/:asset_id"),asset_inventory_consolidated_save:e(t+"assetsInventoryConsolidated/Item/:domain_id/:project_id/:cost_field"),replace_inventory:e(t+"replaceInventory/Items/:domain_id/:project_id",null,{update:{method:"PUT"}}),project_mine:e(t+"projectsMine/Item/:domain_id/:project_id"),project_address:e(t+"address/:action/:domain_id/:project_id/:id",null,{update:{method:"PUT"}}),phase_documents:e(t+"phasedocuments/:action/:domain_id/:project_id/:phase_id/:drawing_id",null,{update:{method:"PUT"}}),cost_center:e(t+"costCenters/:action/:domain_id/:project_id/:id",null,{update:{method:"PUT"}}),asset_option:e(t+"assetoptions/:action/:domain_id/:asset_id/:asset_option_id",null,{update:{method:"PUT"},remove_with_data:{method:"POST"}}),option:e(t+"assetoptions/:action/:domain_id/:asset_option_id",null,{update:{method:"PUT"}}),copy_from:e(t+"projects/copyFrom/:domain_id/:project_id/:cp_domain_id/:cp_project_id/:cp_opt_col/:phase_id/:cp_phase_id/:department_id/:cp_department_id/:room_id/:cp_room_id"),asset_inventory:e(t+"assetsInventory/:action/:domain_id/:project_id/:phase_id/:department_id/:room_id",null,{update:{method:"PUT"}}),template_room:e(t+"templateroom/:action/:domain_id/:project_id/:phase_id/:department_id/:room_id",null,{update:{method:"PUT"}}),template_room_filtered:e(t+"templateroom/:action/:domain_id/:project_id/:template_type"),file_stream:e(t+"filestream/file/:domain_id/:filename/:container/:drawing_id"),dashboard:e(t+"dashboard/:action/:id1"),split_rooms:e(t+"rooms/splitRoom/:domain_id/:project_id/:phase_id/:department_id/:room_id/:is_linked_template/:template_name"),add_multi_rooms:e(t+"rooms/AddMultiRoom/:domain_id/:project_id/:phase_id/:department_id/:is_linked_template/:template_id"),user_data:e(t+"aspnetuserroles/:action/:domain_id/:user_name"),add_asset_from_project:e(t+"AssetsInventory/FromProject/:domain_id/:project_id/:phase_id/:department_id/:room_id/:action",null,{save:{method:"POST",isArray:!0}}),add_asset_from_project_multiple_rooms:e(t+"AssetsInventory/FromProjectToMultipleLocations/:domain_id/:project_id/:action/:with_budgets",null,{save:{method:"POST",isArray:!0}}),add_asset_from_project_with_budgets:e(t+"AssetsInventory/FromProjectWithBudgets/:domain_id/:project_id/:phase_id/:department_id/:room_id/:action",null,{save:{method:"POST",isArray:!0}}),link_asset_from_project:e(t+"AssetsInventory/LinkInventory/:domain_id/:project_id/:target_inventory_id",null,{delete:{method:"POST"}}),remove_room_picture:e(t+"rooms/picture/:domain_id/:project_id/:phase_id/:department_id/:room_id/:filename")}}]);
xPlanner.controller("SubscriptionCtrl",["$scope","$state","$mdDialog","WebApiService","toastr","ProgressService",function(e,r,t,n,o,c){e.send=function(){e.requestSubscriptionForm.$setSubmitted(),e.requestSubscriptionForm.$valid?(c.blockScreen(),n.genericController.save({controller:"Subscription",action:"Item"},e.data,function(){c.unblockScreen(),o.success("Email sent successfully"),r.go("notice")},function(){c.unblockScreen(),o.error("Error sending email, please try again. If the error persist, please contact the technical support.")})):o.error("Please make sure you entered all the required fields")},e.close=function(){t.cancel()}}]);
xPlanner.controller("ToastrCtrl",["$scope","$mdToast",function(o,n){o.close=function(){n.hide()}}]);
xPlanner.controller("UsersListCtrl",["$scope","GridService","HttpService","AuthService","DialogService","ProgressService","WebApiService","toastr","$q","$state",function(i,l,e,c,o,r,n,d,s,t){var a;function u(t){t&&t.tbody.find("tr").dblclick(function(){var e=t.dataItem(this);i.openAddEditModal(!0,e)})}c.isAuthenticated()?(e={transport:{read:{url:e.generic("Users","AllWithRole",c.getLoggedDomain()),headers:{Authorization:"Bearer "+c.getAccessToken()}}},schema:{model:{id:"aspNetUser.id",fields:{creationDate:{type:"date"},lastLoginDate:{type:"date"},lastActivityDate:{type:"date"}}}},error:function(){d.error("Error to retrieve data from server, please contact technical support")}},a={groupable:!0,height:window.innerHeight-100},i.options=l.getStructure(e,[{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(usersGrid)" ng-checked="allPagesSelected(usersGrid)" aria-label="checkbox" ng-click="select($event, usersGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, usersGrid)" ng-checked="isSelected(usersGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"3em"},{field:"aspNetUser.email",title:"Email",width:"17em"},{field:"role",title:"Role",width:"10em"},{field:"aspNetUser.comment",title:"Comments",width:"10em"},{field:"aspNetUser.creationDate",title:"Creation Date",format:"{0:MM/dd/yyyy}",width:"11em",template:"#: aspNetUser.creationDate ? kendo.toString(kendo.parseDate(aspNetUser.creationDate), \"MM/dd/yyyy\") : '' #"},{field:"aspNetUser.lastLoginDate",title:"Last Login Date",format:"{0:MM/dd/yyyy}",width:"12em",template:"#: aspNetUser.lastLoginDate ? kendo.toString(kendo.parseDate(aspNetUser.lastLoginDate), \"MM/dd/yyyy\") : '' #"},{field:"lockoutEnabled",title:"Is Locked Out",width:"10em",template:"<div align=center><i class=\"material-icons no-button\" ng-style=\"{color: #= lockoutEnabled # ? 'green' : 'red'}\">#= lockoutEnabled ? 'check' : ''#</i></div>"}],{template:'<section layout="row" ng-cloack><section layout="row" layout-align="start center"><button class="md-icon-button md-button md-accent" style="color: black;" ng-click="openAddEditModal(false)"><i class="material-icons">add</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Add New User</md-tooltip></button><button class="md-icon-button md-button" style="color: black;" ng-click="openAddEditModal(true)"><i class="material-icons">edit</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Edit User</md-tooltip></button><button class="md-icon-button md-button" style="color: black;" ng-click="toggleLock(\'lock\')"><i class="material-icons">lock</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Lock User(s)</md-tooltip></button><button class="md-icon-button md-button" style="color: black;" ng-click="toggleLock(\'unlock\')"><i class="material-icons">lock_open</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Unlock User(s)</md-tooltip></button><button class="md-icon-button md-button" style="color: black;" ng-click="delete()"><i class="material-icons">delete</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Delete User</md-tooltip></button></section></section>'},a),i.dataBound=function(){u(i.usersGrid),l.dataBound(i.usersGrid)},i.$on("kendoWidgetCreated",function(e,t){t===i.usersGrid&&u(i.usersGrid)}),i.isSelected=l.isSelected,i.allSelected=l.allSelected,i.select=l.select,i.allPagesSelected=l.allPagesSelected,i.openAddEditModal=function(e,t){e&&!t&&!l.verifySelected("edit","user",i.usersGrid,!0)||(t=t||l.getSelecteds(i.usersGrid)[0],o.openModal("app/Users/Modals/EditUser.html","EditUserCtrl",e?{user:t||l.getSelecteds()[0],edit:!0}:{}).then(function(){i.usersGrid.dataSource.read()}))},i.delete=function(){l.verifySelected("delete","user",i.usersGrid)&&o.Confirm("Are you sure?","The users will be deleted permanently!").then(function(){r.blockScreen(),l.deleteItems(n.genericController,function(e){return{controller:"Users",action:"Item",domain_id:c.getLoggedDomain(),project_id:e.id}},i.usersGrid).then(function(){r.unblockScreen(),d.success("Users Deleted!")},function(){r.unblockScreen()}),l.unselectAll(i.usersGrid)})},i.toggleLock=function(e){if(l.verifySelected(e,"user",i.usersGrid,!1)){switch(r.blockScreen(),e){case"lock":var t=l.getSelecteds(i.usersGrid).filter(function(e){return!e.lockoutEnabled&&(e.lockoutEnabled=!0)});break;case"unlock":t=l.getSelecteds(i.usersGrid).filter(function(e){return!!e.lockoutEnabled&&!(e.lockoutEnabled=!1)});break;default:return}var o=[];angular.forEach(t,function(e){o.push(n.genericController.update({controller:"users",action:"LockUnlock",domain_id:c.getLoggedDomain(),project_id:e.id,phase_id:e.lockoutEnabled},null,function(){l.updateItems(i.usersGrid,e)}).$promise)}),s.all(o).then(function(){l.unselectAll(i.usersGrid),r.unblockScreen()},function(){d.error("Was not possible "+e+" all the selected users, please contact technical support"),l.unselectAll(i.usersGrid),r.unblockScreen()})}}):(c.clearLocalStorage(),t.go("login"))}]);
xPlanner.factory("UtilsService",["$filter","AssetClassList","AssetOptionSettings","WebApiService","DialogService","toastr","AuthService",function(o,e,i,n,t,a,c){var r={};function s(e,n){return n?{originalComment:e,comment:e?'<div align=center><i class="material-icons" title="'+e+'">comment</i></div>':""}:e?'<div align=center><i class="material-icons" title="'+e+'">comment</i></div>':""}return e.forEach(function(e){r[e.id]=e.name}),{GetJSNAttributesLabel:function(){return{jsn_code:"JSN",jsn_nomenclature:"JSN Nomenclature",jsn_description:"JSN Description",jsn_comments:"JSN Comments",jsn_utility1:"U1",jsn_utility2:"U2",jsn_utility3:"U3",jsn_utility4:"U4",jsn_utility5:"U5",jsn_utility6:"U6"}},GetJSNUtilities:function(){return{u1:"Utility 1: Plumbing (Water and Drainage)\nA | Hot and cold water\nB | Cold water and drain\nC | Hot water and drain\nD | Cold and hot water and drain\nE | Treated water and drain\nF | Cold, hot and treated water and drain\nG | Cold and treated water and drain\nH | Hot and treated water and drain\nI | Drain only\nJ | Cold water only",u2:"Utility 2: Electrical\nA | 120 volt, conventional outlet\nB | 120 volt, special outlet\nC | 208/220 volt\nD | 120 and 208/220 volt\nE | 440 volt, 3 phase\nF | Special electrical requirements (includes, but is not limited to emergency power, multiple power connections, etc.)\nG | 208/220 volt, 3 phase",u3:"Utility 3: Medical Gas (Provide operating pressures in accordance with NFPA 99)\nA | Oxygen\nB | Vacuum\nC | Air, low pressure (dental or non-medical)\nD | Air, high pressure (dental or non-medical)\nE | Oxygen and medical air\nH | Oxygen, vacuum and medical air\nJ | Vacuum and HP air\nK | Medical air",u4:"Utility 4: Miscellaneous Gas\nA | Steam\nB | Nitrogen gas\nC | Nitrous oxide\nD | Nitrogen and nitrous oxide gas\nE | Carbon dioxide gas\nF | Liquid carbon dioxide\nG | Liquid nitrogen\nH | Instrument Air",u5:"Utility 5: Non-Medical Gas\nA | Natural gas\nB | Liquid propane gas\nC | Methane\nD | Butane\nE | Propane\nF | Hydrogen gas\nG | Reserved\nH | Acetylene gas",u6:"Utility 6: Miscellaneous\nA | Earth ground\nB | Lead lined walls\nC | Remote alarm ground\nD | Empty conduit with pull cord\nE | Vent to atmosphere\nF | Special gas requirements\nG | Lead lined walls; empty conduit with pull cord\nH | RF/Magnetic shielding\nJ | Wall/ceiling support required\nK | Empty conduit/pull cord & wall/ceiling support required\nL | Wall/ceiling support required; CAT 6 wire to nearest Telecommunications room\nM | Earth ground and wall/ceiling support required\nP | Lead lined walls and wall/ceiling support required\nT | CAT 6 wire to nearest Telecommunications Room"}},GetAssetAttributesLabel:function(e,i){var t={medgas_option:"option",plumbing_option:"option",water_option:"option",data_option:"option",network_option:"option",electrical_option:"option",blocking_option:"option",supports_option:"option",mobile_option:"option",misc_seismic:"checkbox",misc_ase:"checkbox",misc_ada:"checkbox",medgas_oxygen:"checkbox",medgas_air:"checkbox",medgas_n2o:"checkbox",medgas_co2:"checkbox",medgas_wag:"checkbox",medgas_other:"checkbox",medgas_nitrogen:"checkbox",medgas_vacuum:"checkbox",medgas_steam:"checkbox",medgas_natgas:"checkbox",misc_antimicrobial:"checkbox",misc_ecolabel:"checkbox",biomed_check_required:"checkbox",plu_hot_water:"checkbox",plu_cold_water:"checkbox",plu_drain:"checkbox",plu_return:"checkbox",plu_treated_water:"checkbox",plu_chilled_water:"checkbox",plu_relief:"checkbox",gas_liquid_co2:"checkbox",gas_liquid_nitrogen:"checkbox",gas_instrument_air:"checkbox",gas_liquid_propane_gas:"checkbox",gas_methane:"checkbox",gas_butane:"checkbox",gas_propane:"checkbox",gas_hydrogen:"checkbox",gas_acetylene:"checkbox",misc_shielding_magnetic:"checkbox",misc_shielding_lead_line:"checkbox",medgas_high_pressure:"checkbox"};return Array.isArray(e)?e.map(function(e){for(var n in e)switch(t[n]){case"option":e[n]=1==e[n]?"Yes":2==e[n]?"Optional":"--";break;case"checkbox":e[n]=1==e[n]?"Yes":"--"}return i&&(e.owner_name=o("capitalize")(e.owner_name),e.id=e.domain_id.toString()+e.asset_id.toString(),e.comment=s(e.comment),e.cut_sheet='<section align=center onclick="downloadFile('+e.asset_id+", "+e.domain_id+', \'fullcutsheet\')"><img class="icon" src="'+(e.cut_sheet?"images/page_attach.png":"images/page.png")+'"></section>',e.cad_block=e.cad_block?"<section align=center onclick=\"downloadFile('"+e.cad_block+"', "+e.domain_id+', \'cadblock\')"><img class="icon" src="images/icons/autocad.ico"></section>':"",e.revit=e.revit?"<section align=center onclick=\"downloadFile('"+e.revit+"', "+e.domain_id+', \'revit\')"><img class="icon" src="images/icons/revit.ico"></section>':"",e.jsn_description=e.jsn_description?'<div align=center><i class="material-icons" title="'+e.jsn_description+'">comment</i></div>':"",e.jsn_comments=e.jsn_comments?'<div align=center><i class="material-icons" title="'+e.jsn_comments+'">comment</i></div>':""),e.class=r[e.class]||"",e}):[]},GetCommentTemplate:s,GetEmptyFileNoFirefox:function(e){return e.find(function(e){return!e.picture})},GetEmptyFileFirefox:function(e){return e.find(function(e,n){n=document.getElementById("photoFx"+n);return!n||!n.files||n.files.length<=0})},IsFirefox:function(){return-1!=navigator.userAgent.indexOf("Firefox")},MapAssetOptionSetting:function(e){return i[e]},MapAssetOptionSettingReverse:function(e){for(var n in i)if(i[n]===e)return n},ShowExpiratedPOs:function(){n.genericController.query({controller:"purchaseOrderExpirated",action:"All",domain_id:c.getLoggedDomain()},function(e){e&&0<e.length&&t.openModal("app/POs/Modals/ExpiratedQuotePOs.html","ExpiratedQuotePOsCtr",{pos:e},!1)},function(){a.error("Error trying to retrieve expirated POs")})}}}]);
xPlanner.controller("VendorDetailsCtrl",["$scope","WebApiService","ProgressService","$stateParams","toastr","DialogService","$state","AudaxwareDataService","AuthService",function(o,e,n,r,t,i,c,a,s){function d(e){return{controller:"vendor",action:"Item",domain_id:e?s.getLoggedDomain():o.params.domain_id,project_id:o.params.vendor_id}}function l(){c.go("assetsWorkspace.vendors")}o.$emit("initialTab","vendors"),o.contactType="vendor",o.params=r,n.blockScreen(),e.genericController.get(d(),function(e){o.vendor=e,o.canModify=1==s.getLoggedDomain()||s.getLoggedDomain()===e.domain_id,n.unblockScreen()},function(){n.unblockScreen(),t.error("Error to retrieve vendor, please contact the technical support")}),o.buttons=[{label:"Save",icon:"save",click:function(){"3"==s.getLoggedUserType()?i.ViewersChangesModal():(o.detailsForm.$setSubmitted(),o.detailsForm.$valid?a.CheckHasToDuplicate(o.vendor,"vedor").then(function(){e.genericController.update(d(!0),o.vendor,function(e){e.vendor_id===o.vendor_id&&e.domain_id===o.domain_id||c.go("assetsWorkspace.vendorsDetails",e),t.success("Vendor saved")})}):t.error("Please make sure you enter all the required fields"))},showContidion:!0},{label:"Delete",icon:"delete_forever",click:function(){"3"==s.getLoggedUserType()?i.ViewersChangesModal():i.Confirm("Are you sure?","The vendor will be deleted permanently").then(function(){n.blockScreen(),e.genericController.remove(d(),function(e){n.unblockScreen(),t.success("Vendor deleted"),l()},function(e){n.unblockScreen(),409===e.status?t.info(e.data):t.success("Error to try delete vendor, please contact technical support")})})},showContidion:!0},{label:"Back to List",icon:"reply",click:l}],o.buttons.state=!0}]);
xPlanner.controller("VendorManufacturersGridCtrl",["$scope","HttpService","GridService","$state","AuthService",function(n,t,e,i,o){t={transport:{read:{url:t.generic("vendor","Manufacturers",n.params.domain_id,n.params.vendor_id),headers:{Authorization:"Bearer "+o.getAccessToken()}}},schema:{model:{id:"manufacturer_id"}}};function d(e){e&&e.tbody.find("tr").dblclick(function(){var t=e.dataItem(this);i.go("assetsWorkspace.manufacturers.details",{domain_id:t.domain_id,manufacturer_id:t.manufacturer_id})})}n.options=e.getStructure(t,[{field:"manufacturer_description",title:"Name"},{field:"added_by",title:"Added By"},{headerTemplate:'<div align=center><button style="padding: 0px; bottom: -4px;" class="md-icon-button md-button no-button"><i class="material-icons no-button">comment</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Comment</md-tooltip></button></div>',template:'<div ng-if=" #: comment != null # " align=center><md-icon class="no-button grid-item-color">comment</md-icon><md-tooltip md-direction="bottom">#: comment #</md-tooltip></div>',width:70}],null,{noRecords:"No manufacturers available",height:300}),n.dataBound=function(){d(n.manufacturersGrid)},n.$on("kendoWidgetCreated",function(t,e){e===n.manufacturersGrid&&d(n.manufacturersGrid)})}]);
xPlanner.controller("VendorsListCtrl",["$scope","GridService","HttpService","AuthService","WebApiService","toastr","DialogService","ProgressService","$state",function(d,o,e,t,n,i,r,l,a){d.$emit("initialTab","vendors"),d.grid_content_height=window.innerHeight-210;e={transport:{read:{url:e.generic("vendor","All",t.getLoggedDomain()),headers:{Authorization:"Bearer "+t.getAccessToken()}}},error:function(){i.error("Error to retrieve data from server, please contact technical support")}};d.options=o.getStructure(e,[{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(vendorsListGrid)" ng-checked="allPagesSelected(vendorsListGrid)" aria-label="checkbox" ng-click="select($event, vendorsListGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, vendorsListGrid)" ng-checked="isSelected(vendorsListGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"3em"},{field:"name",title:"Vendor",width:170},{field:"territory",title:"Territory",width:170},{field:"date_added",title:"Date Added",width:150,template:"#: date_added ? kendo.toString(kendo.parseDate(date_added), \"MM-dd-yyyy\") : '' #"},{field:"added_by",title:"Added By",width:150},{field:"domain.name",title:"Owner",template:"{{ dataItem.domain.name | capitalize }}",width:150},{headerTemplate:'<section layout="row" layout-align="center end"><button style="margin-left: -0.25em; padding-bottom: 0.2em;" class="md-icon-button md-button no-button"><i class="material-icons no-button">comment</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Comment</md-tooltip></button></section>',template:'<div ng-if=" #: comment != null # " align=center><md-icon class="no-button grid-item-color">comment</md-icon><md-tooltip md-direction="bottom">#: comment #</md-tooltip></div>',width:70}],null,{noRecords:"No vendors available",height:d.grid_content_height,groupable:!0}),d.showDetails=function(e){if(!e){if(!o.verifySelected("view details","vendor",d.vendorsListGrid,!0))return;e=o.getSelecteds(d.vendorsListGrid)[0]}l.blockScreen(),a.go("assetsWorkspace.vendorsDetails",{domain_id:e.domain_id,vendor_id:e.vendor_id})},d.dataBound=function(){var t;(t=d.vendorsListGrid)&&t.tbody.find("tr").dblclick(function(){var e=t.dataItem(this);d.showDetails(e)}),o.dataBound(d.vendorsListGrid)},d.isSelected=o.isSelected,d.allSelected=o.allSelected,d.select=o.select,d.allPagesSelected=o.allPagesSelected,d.collapseExpand=o.collapseExpand,d.openAddModal=function(){"3"==t.getLoggedUserType()?r.ViewersChangesModal():r.openModal("app/Vendor/Modals/AddVendor.html","AddVendorCtrl").then(function(e){angular.forEach(e,function(e){d.vendorsListGrid.dataSource.add({added_by:e.added_by,comment:e.comment,date_added:e.date_added,domain_id:e.domain_id,hospitals:e.hospitals,name:e.name,territory:e.territory,vendor_id:e.vendor_id})})})},d.delete=function(){"3"==t.getLoggedUserType()?r.ViewersChangesModal():o.verifySelected("delete","vendor",d.vendorsListGrid)&&r.Confirm("Are you sure?","The vendor(s) will be deleted permanently").then(function(){l.blockScreen(),o.deleteItems(n.genericController,function(e){return{controller:"vendor",action:"Item",domain_id:e.domain_id,project_id:e.vendor_id}},d.vendorsListGrid,null,!0).then(function(e){l.unblockScreen(),i.success("Vendor(s) Deleted"),o.unselectAll(d.vendorsListGrid)},function(e){l.unblockScreen(),409===e.status?i.info("Some, or all, of the vendors could not be deleted -- purchase orders have been issued"):i.error("Error to delete one o more vendors, please contact the technical support"),o.unselectAll(d.vendorsListGrid)})})}}]);
xPlanner.controller("AddEditAssetCodeCtrl",["$scope","StatesList","toastr","$mdDialog","local",function(t,e,s,o,a){t.statesList=e,t.saveButtonText=a.assetcode?"Update":"Add",t.assetcode=angular.copy(a.assetcode)||{},"Add"==t.assetcode&&(t.assetcode.next_seq=1),t.anotherAssetCodes=a.items.filter(function(e){return e.prefix!=t.assetcode.prefix||e.domain_id!=a.params.domain_id}),t.add=function(){alert("Under Construction")},t.close=function(){o.cancel()}}]);
xPlanner.controller("AddAssetCodeCtrl",["$scope","WebApiService","AuthService","$mdDialog","toastr",function(d,e,o,n,t){function r(e){return{controller:"AssetCodes",action:e,domain_id:o.getLoggedDomain()}}d.anotherCodes=[],e.genericController.query(r("All"),function(e){d.anotherCodes=e}),d.add=function(o){d.addCodeForm.$setSubmitted(),d.addCodeForm.$valid?e.genericController.save(r("Item"),d.code,function(e){t.success("Code Added"),d.code={},d.addCodeForm.$setUntouched(),d.addCodeForm.$setPristine(),o?n.hide():d.anotherCodes.push(e)},function(){n.cancel()}):t.error("Make sure you have entered all the fields correctly")},d.close=function(){n.cancel()}}]);
xPlanner.controller("AddAssetCtrl",["$scope","WebApiService","AuthService","$mdDialog","toastr","AssetsService","ProgressService","$state",function(s,e,t,a,o,r,d,c){s.categoryControllerParams={domain_id:t.getLoggedDomain(),project_id:t.getLoggedDomain()},s.controllerParams={domain_id:t.getLoggedDomain()},s.asset={default_resp:"OFOI"},s.$watch("selectedCategory",function(e){e&&(s.asset.asset_code=e.asset_code)}),s.save=function(){s.addNewAssetForm.$setSubmitted(),s.addNewAssetForm.asset_code.$setTouched(),s.addNewAssetForm.$valid?s.asset.min_cost&&s.asset.max_cost&&Number(s.asset.min_cost)>Number(s.asset.max_cost)?o.error("The Max value must be grather than Min value"):(d.blockScreen(),s.asset.default_resp=s.asset.default_resp.name,s.asset.assets_subcategory=angular.extend({},s.selectedCategory,{domain_id:s.selectedCategory.subcategory_domain_id,assets_category:{domain_id:s.selectedCategory.category_domain_id,category_id:s.selectedCategory.category_id}}),"object"==typeof s.asset.asset_code&&(s.asset.asset_code=s.asset.asset_code.prefix),r.AddAsset(s.asset).then(function(e){s.showDetails(e)},function(){d.unblockScreen(),o.error("Error to try save asset, please contact the technical support")})):o.error("Please make sure you enter all the required fields")},s.showDetails=function(e){e={asset_id:e.asset_id,domain_id:e.domain_id,asset_code:e.asset_code,comment:e.comment||null,serial_number:e.serial_number,serial_name:e.serial_name,asset_description:e.asset_description,asset_category:e.assets_subcategory.assets_category.description,asset_subcategory:e.assets_subcategory.description,owner_name:t.getLoggedDomainName(),manufacturer_description:e.manufacturer.manufacturer_description,cut_sheet:e.cut_sheet,cad_block:e.cad_block,revit:e.revit,updated_at:e.updated_at},c.go("assetsWorkspace.assetsDetails",{domain_id:e.domain_id,asset_id:e.asset_id}),a.hide()},s.close=function(){a.cancel()}}]);
xPlanner.controller("AddAssetOptionColorCtrl",["$scope","$mdDialog","toastr","local","$filter",function(o,n,t,i,l){o.optionCtrl={},o.params=i.params,o.option=i.option,o.isEdit=!!i.option,o.saveOption=function(){o.optionCtrl.saveOption().then(function(){n.hide()},function(o){console.log(o)})},o.close=function(){n.cancel()}}]);
xPlanner.controller("AddJSNCtrl",["$scope","WebApiService","AuthService","$mdDialog","toastr","AssetsService","ProgressService","local",function(e,s,o,n,r,c,t,a){e.asset={jsn:{jsn_code:a.jsn_code}},e.save=function(){e.addNewJSNForm.$setSubmitted(),e.addNewJSNForm.$valid?(t.blockScreen(),e.asset.jsn.asset_code="EQP",e.asset.jsn.asset_code_domain_id=1,s.genericController.save({controller:"JSN",action:"Item",domain_id:o.getLoggedDomain()},e.asset.jsn,function(e){t.unblockScreen(),r.success("JSN added sucessfully."),n.hide(e)},function(){t.unblockScreen(),r.error("Error trying to save JSN, please contact the technical support")})):r.error("Please make sure you enter all the required fields")},e.close=function(){n.cancel()}}]);
xPlanner.controller("AssignProjectCtrl",["$scope","WebApiService","AuthService","local","toastr","$mdDialog",function(t,o,i,e,c,r){var n=angular.copy(e.asset),s={domain_id:-1,project_id:-1,project_description:"All Projects"};o.genericController.query({controller:"assetsProject",action:"All",domain_id:e.asset.domain_id,project_id:e.asset.asset_id},function(e){0===e.length||1<e.length?t.projectSelected=s:t.projectSelected=e[0],o.genericController.query({controller:"projects",action:"All",domain_id:i.getLoggedDomain()},function(e){e.unshift(s),t.projectSelected=e.find(function(e){return e.domain_id===t.projectSelected.domain_id&&e.project_id===t.projectSelected.project_id}),t.projects=e})}),t.assign=function(){t.assignProjectForm.$setSubmitted(),t.assignProjectForm.$valid&&(-1==t.projectSelected.project_id&&-1==t.projectSelected.domain_id?o.genericController.remove({controller:"assetsProject",action:"All",domain_id:n.domain_id,project_id:n.asset_id},function(){c.success("Asset assigned to projects"),r.hide()},function(){c.error("Error to assign asset to project, please contact the technical support")}):o.genericController.save({controller:"assetsProject",action:"Assign",domain_id:n.domain_id,project_id:n.asset_id,phase_id:t.projectSelected.domain_id,department_id:t.projectSelected.project_id},{asset_domain_id:n.domain_id,asset_id:n.asset_id,domain_id:t.projectSelected.domain_id,project_id:t.projectSelected.project_id},function(e){c.success("Asset assigned to project"),r.hide()},function(e){409===e.status?c.error(e.data):c.error("Error to assign asset to project, please contact the technical support")}))},t.close=function(){r.cancel()}}]);
xPlanner.controller("AssignVendorCtrl",["$scope","AuthService","local","toastr","WebApiService","$mdDialog","ProgressService",function(s,e,o,d,n,r,t){s.edit=o.edit,s.asset_id=o.asset.asset_id,s.controllerParams={domain_id:e.getLoggedDomain(),project_id:o.asset.domain_id,phase_id:o.asset.asset_id};var a={};function i(e,s){return s.max_cost=e.max_cost,s.min_cost=e.min_cost,s.last_cost=e.last_cost,s.avg_cost=e.avg_cost,s}o.edit&&o.vendor&&(o.vendor.name=o.vendor.vendor.name,s.asset_vendor=o.vendor,s.model_number=o.vendor.model_number,s.asset_vendor.domain_id=s.asset_vendor.vendor_domain_id,s.controllerParams.department_id=o.vendor.vendor_domain_id,s.controllerParams.room_id=o.vendor.vendor_id,a=i(s.asset_vendor,a)),s.assign=function(){s.assignVendorForm.$setSubmitted(),s.assignVendorForm.$valid?(s.asset_vendor.asset_id=o.asset.asset_id,s.asset_vendor.asset_domain_id=o.asset.domain_id,s.asset_vendor.vendor_domain_id=s.asset_vendor.domain_id,s.asset_vendor.model_number=s.model_number,s.asset_vendor=i(a,s.asset_vendor),t.blockScreen(),n.genericController[o.edit?"update":"save"]({controller:"assetsVendor",action:"Item",domain_id:o.asset.domain_id,project_id:o.asset.asset_id,phase_id:s.asset_vendor.vendor_domain_id,department_id:s.asset_vendor.vendor_id},s.asset_vendor,function(e){s.asset_vendor.vendor={name:s.asset_vendor.name},o.edit?d.success("Vendor Updated"):d.success("Vendor Added"),t.unblockScreen(),s.close(!0,s.asset_vendor)},function(e){o.edit&&409===e.status?d.error("The vendor could not be deleted -- purchase orders have been issued"):d.error("Error to assign vendor to asset, please contact the technical support"),t.unblockScreen()})):d.error("Please make sure you enter all the required fields")},s.close=function(e,s){e?r.hide(s):r.cancel()}}]);
xPlanner.controller("CustomizedDifferencesCtrl",["$scope","local","AssetColumnsName","AssetColumnsType","WebApiService","toastr","GridService","ProgressService","$mdDialog",function(i,e,t,o,r,n,l,d,s){r.genericController.query({controller:"assets",action:"CustomizedDifferences",domain_id:e.customizedAsset.domain_id,project_id:e.customizedAsset.asset_id},function(e){e={data:e.map(function(e){return{column:t[e.field]||e.field,group:o.fieldsMap[e.field],customized:e.customized,original:e.original}}).filter(function(e){return e.column}),sort:{field:"column",dir:"asc"},group:[{field:"group"}]};i.gridHeight=window.innerHeight-170,i.options=l.getStructure(e,[{field:"group",title:"Group",hidden:!0},{field:"column",title:"Field"},{field:"customized",title:"Customized Asset"},{field:"original",title:"Original Asset"}],null,{height:i.gridHeight,groupable:!0,editable:!1},{pageSizeDefault:100}),i.collapseExpand=l.collapseExpand,i.dataBound=function(e){d.unblockScreen(),l.dataBound(i.differencesGrid)}},function(e){n.error("Error to try get the differences, please contact the technical support")}),i.close=function(){s.hide()}}]);
xPlanner.controller("EditAssetCodeCtrl",["$scope","WebApiService","AuthService","$mdDialog","toastr","AssetsService","ProgressService",function(e,s,o,t,c,i,r){e.controllerParams={domain_id:o.getLoggedDomain()},e.save=function(){e.addNewAssetForm.$valid&&"object"==typeof e.asset.asset_code&&t.hide(e.asset.asset_code.prefix)},e.close=function(){t.cancel()}}]);
xPlanner.controller("UploadAssetFilesCtrl",["$window","$scope","$mdDialog","toastr","$q","AuthService","HttpService","Upload","ProgressService","local","WebApiService",function($window,$scope,$mdDialog,toastr,$q,AuthService,HttpService,Upload,ProgressService,local,WebApiService){$scope.files={},$scope.show_firefox=!1,-1!=navigator.userAgent.indexOf("Firefox")&&($scope.show_firefox=!0),WebApiService.genericController.get({controller:"filestream",action:"MaxFileSize",domain_id:1},function(e){$scope.fileSizeLimit=e.text},function(){$scope.fileSizeLimit=4}),$scope.upload=function(){if($scope.uploadForm.$setSubmitted(),$scope.uploadForm.$valid){var validated=!0,cutsheet=document.getElementById("cutsheetF").files,cadblock=document.getElementById("cadblockF").files,photo=document.getElementById("photoF").files,revit=document.getElementById("revitF").files;if($scope.show_firefox?0==cutsheet.length&&0==cadblock.length&&0==photo.length&&0==revit.length&&(validated=!1,toastr.error("Choose at least one file to upload")):$scope.files.cutsheet||$scope.files.cadblock||$scope.files.photo||$scope.files.revit||(validated=!1,toastr.error("Choose at least one file to upload")),!validated)return;$scope.uploadForm.$setSubmitted();for(var file_names=[],file_names_msg=[],database_names=[],extensions=[],file_names_full=["cutsheet","cadblock","photo","revit"],database_names_full=["cut_sheet","cad_block","photo","revit"],extensions_full=["pdf","dwg","jpg","rvt,rft,rfa"],i=0,arr_extension,extension,arr_extension,extension;i<file_names_full.length;i++){$scope.show_firefox?0<eval(file_names_full[i]+".length")&&(arr_extension=eval(file_names_full[i]+'[0].name.split(".")'),extension=arr_extension[arr_extension.length-1],0<=extensions_full[i].indexOf(extension,0))&&(file_names.push(file_names_full[i]),file_names_msg.push(file_names_full[i]),database_names.push(database_names_full[i]),extensions.push(extension)):null!=eval("$scope.files."+file_names_full[i])&&(arr_extension=eval("$scope.files."+file_names_full[i]+'.name.split(".")'),extension=arr_extension[arr_extension.length-1].toLowerCase(),0<=extensions_full[i].indexOf(extension,0))&&(file_names.push("$scope.files."+file_names_full[i]),file_names_msg.push(file_names_full[i]),database_names.push(database_names_full[i]),extensions.push(extension))}var finishUpload=function(){$mdDialog.hide($scope.files),ProgressService.unblockScreen()},uploadFile=(ProgressService.blockScreen(),function(index){file_names.length<=index?finishUpload():Upload.upload({url:HttpService.file_stream("upload",local.asset.domain_id,local.asset.asset_id,local.asset.asset_id+"."+extensions[index],database_names[index],file_names_msg[index]),data:{file:eval(file_names[index])}}).then(function(e){toastr.success(file_names_msg[index]+" uploaded sucessfully"),uploadFile(index+1)},function(e){e=e&&e.data&&e.data.errorMessage;toastr.error("Error trying to upload "+file_names_msg[index]+" file, "+(e||"please contact technical support")),$scope.cancel()})})}else toastr.error("Please make sure no file exceeds the size limit");uploadFile(0)},$scope.cancel=function(){$mdDialog.cancel()}}]);
xPlanner.controller("UploadAssetsCtrl",["$scope","$mdDialog","toastr","$q","AuthService","HttpService","Upload","ProgressService","local",function(e,o,t,r,n,c,a,i,s){e.files={},e.save=function(){e.uploadForm.$setSubmitted(),i.blockScreen(),a.upload({url:c.generic("Assets","Import",n.getLoggedDomain()),data:{file:e.files.assets}}).then(function(e){i.unblockScreen(),o.hide(),t.success("The import is being generated. You'll receive a notification when it's ready.")},function(e){e=e&&e.data&&e.data.errorMessage;i.unblockScreen(),t.error(e||"Error trying to upload file, please contact technical support")})},e.close=function(){o.cancel()}}]);
xPlanner.controller("AssetOptionGridCtrl",["$scope","HttpService","AuthService","GridService","toastr","WebApiService","DialogService","ProgressService","$stateParams","AudaxwareDataService","$state",function(o,e,a,s,t,i,n,d,l,c,r){e={transport:{read:{url:e.asset_options("All",l.domain_id,l.asset_id),headers:{Authorization:"Bearer "+a.getAccessToken()}}},schema:{model:{id:"asset_option_id"}}};function p(t){t&&t.tbody.find("tr").dblclick(function(){var e;o.asset.related_asset||(e=t.dataItem(this),o.openAddEditModal(!0,e))})}function u(t,e,i,s){"3"==a.getLoggedUserType()?n.ViewersChangesModal():(o.assetOptionGrid.dataSource.data(),n.openModal("app/Assets/Modals/AddAssetOptionColor.html","AddAssetOptionColorCtrl",{option:i,params:l},!0).then(function(e){s?r.go("assetsWorkspace.assetsDetails",t):o.assetOptionGrid.dataSource.read()},function(){r.go("assetsWorkspace.assetsDetails",t)}))}o.options=s.getStructure(e,[{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(assetOptionGrid)" ng-checked="allPagesSelected(assetOptionGrid)" aria-label="checkbox" ng-click="select($event, assetOptionGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, assetOptionGrid)" ng-checked="isSelected(assetOptionGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"3em"},{field:"code",title:"Code",width:240},{field:"description",title:"Description",width:600},{field:"data_type",title:"Type",template:"#= data_type == 'C' ? 'Color' : data_type == 'CO' ? 'Consumable' : data_type == 'A' ? 'Accessory' : data_type == 'D' ? 'Discount' : data_type == 'I' ? 'Installation' : data_type == 'W' ? 'Warranty' : data_type=='FI' ? 'Finish' : 'Frame' #",width:150},{field:"unit_budget",title:"Unit Price",width:135,template:'<aw-currency value="#: unit_budget # "></aw-currency>'},{field:"settings",title:"Settings",width:135,attributes:{class:"no-multilines"}}],{template:'<section layout="row" ng-cloack ng-if="!asset.related_asset"><section layout="row" layout-align="start center" class="gray-color"><button class="md-icon-button md-button" ng-click="openAddEditModal()"><i class="material-icons">add</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Add Option</md-tooltip></button><button class="md-icon-button md-button" ng-click="openAddEditModal(true)"><i class="material-icons">edit</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Edit Option</md-tooltip></button><button class="md-icon-button md-button" ng-click="delete()"><i class="material-icons">delete</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Delete Option</md-tooltip></button></section></section>'},{reorderable:!0,groupable:!0,noRecords:"No options added",height:475}),o.dataBound=function(){p(o.assetOptionGrid),s.dataBound(o.assetOptionGrid)},o.$on("kendoWidgetCreated",function(e,t){t===o.assetOptionGrid&&p(o.assetOptionGrid)}),o.isSelected=s.isSelected,o.allSelected=s.allSelected,o.select=s.select,o.allPagesSelected=s.allPagesSelected,o.openAddEditModal=function(t,i){if("3"==a.getLoggedUserType())n.ViewersChangesModal();else{if(t&&!i){if(!s.verifySelected("edit","option",o.assetOptionGrid,!0))return;i=s.getSelecteds(o.assetOptionGrid)[0]}c.CheckDuplicateAsset(o.asset,t).then(function(e){e?o.saveAux(o.asset,!0).then(function(e){t?r.go("assetsWorkspace.assetsDetails",e):u(e,0,i,!0)}):u(o.asset,0,i)})}},o.delete=function(){"3"==a.getLoggedUserType()?n.ViewersChangesModal():s.verifySelected("delete","option",o.assetOptionGrid)&&c.CheckDuplicateAsset(o.asset,!0,"delete").then(function(e){e?o.saveAux(o.asset,!0).then(function(e){r.go("assetsWorkspace.assetsDetails",e)}):n.Confirm("Are you sure?","The option(s) will be deleted permanently").then(function(){d.blockScreen(),s.deleteItems(i.asset_option,function(e){return{action:"Item",asset_option_id:e.asset_option_id,domain_id:e.domain_id,asset_id:e.asset_id}},o.assetOptionGrid).then(function(e){d.unblockScreen(),t.success("Option(s) Deleted")},function(e){409===e.status?t.info("Some, or all, of the options could not be deleted -- there is assigned asset"):t.error("Error to delete option(s), please contact the technical support"),d.unblockScreen()}),s.unselectAll(o.assetOptionGrid)})})}}]);
xPlanner.controller("ViewAuditedCtrl",["$scope","GridService","HttpService","AuthService","ProgressService","toastr","$state","local","$mdDialog",function(e,t,i,a,d,o,r,n,l){a.isAuthenticated()?(e.auditedData=n.audit,e.modified_date=kendo.toString(kendo.parseDate(e.auditedData.modified_date),"MM/dd/yyyy"),i={groupable:!(n={transport:{read:{url:i.generic("Audit","GetItem",a.getLoggedDomain(),e.auditedData.audit_log_id),headers:{Authorization:"Bearer "+a.getAccessToken()}}},schema:{model:{id:"Id"}},error:function(){o.error("Error to retrieve data from server, please contact technical support")}}),height:window.innerHeight-250},e.options=t.getStructure(n,[{field:"column",title:"Column",width:"30%"},{field:"original",title:"Original Data",width:"30%"},{field:"modified",title:"Modified Data",width:"30%"}],null,i),e.dataBound=function(){t.dataBound(e.auditGrid)},e.close=function(){l.cancel()}):(a.clearLocalStorage(),r.go("login"))}]);
xPlanner.controller("AddCategoryCtrl",["$scope","$mdDialog","WebApiService","ProgressService","AuthService","toastr","local","DialogService",function(r,t,a,e,i,c,o,n){r.style_height=window.innerHeight-275,r.category=o&&(r.edit=o.edit)?angular.copy(o.category):{};var d=[];a.genericController.query({controller:"categories",action:"All",domain_id:i.getLoggedDomain()},function(e){r.anotherCategories=e.filter(function(e){return e.description!==r.category.description}).map(function(e){return e.description})}),a.genericController.query({controller:"AssetCodes",action:"All",domain_id:i.getLoggedDomain(),project_id:void 0,phase_id:void 0},function(e){r.assetCodes=e},function(){c.error("Error to retrieve data from server, please contact technical support")}),r.add=function(o){var e;"3"==i.getLoggedUserType()?n.ViewersChangesModal():(r.addCategoryForm.$setSubmitted(),r.addCategoryForm.$valid?(e=r.edit?"update":"save",""!=r.category.asset_code&&null!=r.category.asset_code&&(r.category.asset_code_domain_id=1),a.genericController[e]({controller:"categories",action:"Item",domain_id:i.getLoggedDomain(),project_id:r.category.category_id},r.category,function(e){r.edit?(c.success("Category Saved"),t.hide(e)):(c.success("Category Added"),r.category={},r.addCategoryForm.$setUntouched(),r.addCategoryForm.$setPristine(),d.push(e),o&&t.hide(d))},function(){c.error("Error to save category, please contact the technical support"),t.cancel()})):c.error("Please make sure you enter all the required fields"))},r.close=function(){0==d.length?t.cancel():t.hide(d)}}]);
xPlanner.controller("AddSubcategoryCtrl",["$scope","$mdDialog","WebApiService","ProgressService","AuthService","toastr","local","DialogService",function(o,a,r,e,c,s,t,i){o.style_height=window.innerHeight-388,o.subcategory=t&&(o.edit=t.edit)?angular.copy(t.subcategory):{},o.controllerParams={domain_id:c.getLoggedDomain()};var d=[];o.edit?r.genericController.get({controller:"categories",action:"Item",domain_id:t.subcategory.category_domain_id,project_id:t.subcategory.category_id},function(e){o.subcategory.assets_category=e}):t&&(o.subcategory={assets_category:t.category&&t.category.domain_id===c.getLoggedDomain()?t.category:null}),o.add=function(t){var e;"3"==c.getLoggedUserType()?i.ViewersChangesModal():(o.addSubcategoryForm.$setSubmitted(),o.addSubcategoryForm.$valid?(e=o.edit?"update":"save",""!=o.subcategory.asset_code&&null!=o.subcategory.asset_code&&(o.subcategory.asset_code_domain_id=1),r.genericController[e]({controller:"subCategories",action:"Item",domain_id:c.getLoggedDomain(),project_id:o.subcategory.category_domain_id||o.subcategory.assets_category.domain_id,phase_id:o.subcategory.category_id||o.subcategory.assets_category.category_id,department_id:o.subcategory.subcategory_id},o.subcategory,function(e){o.edit?(s.success("Subcategory Saved"),a.hide(e)):(s.success("Subcategory Added"),o.subcategory={use_category_settings:!0},o.addSubcategoryForm.$setUntouched(),o.addSubcategoryForm.$setPristine(),d.push(e),t&&a.hide(d))},function(e){409===e.status?s.error("The selected category already contains a subcategory with the name informed and it cannot be duplicated, please choose another name."):(s.error("Error to try save subcategory, please contact the tecnical support"),a.cancel())})):s.error("Please make sure you enter all the required fields"))},o.close=function(){0==d.length?a.cancel():a.hide(d)}}]);
xPlanner.controller("ImportCategoriesFileCtrl",["$scope","$mdDialog","toastr","AuthService","Upload","HttpService","ProgressService",function(e,r,t,o,i,n,a){e.import=function(){e.importForm.$setSubmitted(),e.importForm.$valid?(a.blockScreen(),i.upload({url:n.generic("categories","import",o.getLoggedDomain()),data:{file:e.file}}).then(function(){t.success("The import is being generated. You'll receive a notification when it's ready."),a.unblockScreen(),r.hide()},function(e){e=e&&e.data&&e.data.errorMessage;t.error(e||"Error trying to import data, please contact technical support."),a.unblockScreen()})):t.error("Please make sure you entered all the required fields.")},e.cancel=function(){r.cancel()}}]);
xPlanner.controller("AddEditContactCtrl",["$scope","local","$mdDialog","StatesList","toastr","WebApiService","ProgressService","$stateParams","AuthService","GridService",function(i,d,c,e,a,n,o,t,r,l){var s=d.item||d.params||t,h=(i.statesList=e,i.newContact=!d.contact,i.contact=angular.copy(d.contact)||{contact_type:d.type,purchase_order:d.purchaseOrder?[d.purchaseOrder]:[]},i.contact.name);i.selectedTabIndex=0,i.hideExistingContacts=!i.newContact||!d.purchaseOrder,i.showExistingContacts=!i.hideExistingContacts,i.$on("kendoWidgetCreated",function(e,t){i.existingContactsGrid=t}),n.genericController.query({controller:d.type+"Contacts",action:"All",domain_id:s.domain_id,project_id:s[d.type+"_id"],phase_id:void 0},function(e){if(i.newContact){i.anotherContacts=e,i.showExistingContacts&&!i.anotherContacts.length&&(i.selectedTabIndex=1);for(var t=d.POContact,c=i.anotherContacts,a=0;a<t.length;a++)for(var n=0;n<c.length;n++)t[a].name==c[n].name&&c.splice([n],1);var o={data:i.anotherContacts,schema:{model:{id:"vendor_contact_id"}}};i.isSelected=l.isSelected,i.allSelected=l.allSelected,i.select=l.select,i.allPagesSelected=l.allPagesSelected,i.options=l.getStructure(o,[{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(existingContactsGrid)" ng-checked="allPagesSelected(existingContactsGrid)" aria-label="checkbox" ng-click="select($event, existingContactsGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, existingContactsGrid)" ng-checked="isSelected(existingContactsGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"3em"},{field:"name",title:"Name",width:150},{field:"title",title:"Title",width:150},{field:"email",title:"Email",width:150},{field:"phone",title:"Phone",width:130},{field:"mobile",title:"Mobile",width:130},{field:"fax",title:"Fax",width:130}],null,{name:"AddEditContactGrid",noRecords:"No contacts available",height:500}),i.dataBound=function(e){l.dataBound(e)}}else i.anotherContacts=e.filter(function(e){return e.name!=d.contact.name})}),i.save=function(){var e,t;if(i.showExistingContacts&&0===i.selectedTabIndex)return(e=l.getSelecteds(i.existingContactsGrid))&&e.length?(i.addEditContactForm.$setSubmitted(),void n.genericController.save({controller:"PurchaseOrders",action:"AddVendorContacts",domain_id:d.purchaseOrder.domain_id,project_id:d.purchaseOrder.project_id,phase_id:d.purchaseOrder.po_id},e,function(){a.success(d.type+" contact(s) added to Purchase Order"),o.unblockScreen(),c.hide(e)},function(){o.unblockScreen(),a.error("Error trying to add contacts to Purchase Order. Please contact the technical support!")})):void a.error("Select at least one vendor contact");i.addEditContactForm.$valid?(i.addEditContactForm.$setSubmitted(),t=i.newContact?"save":"update",o.blockScreen(),n.genericController[t]({controller:d.type+"Contacts",action:"Item",domain_id:s.domain_id,project_id:s[d.type+"_id"],phase_id:r.getLoggedDomain(),department_id:h},i.contact,function(e){a.success(d.type+" contact "+(i.newContact?"saved":"updated")),o.unblockScreen(),c.hide([e.toJSON()])},function(){o.unblockScreen(),a.error("Error to try "+(i.newContact?"save":"update")+" the "+d.type+" contact. Please contact the technical support!")})):a.error("Please make sure you enter correctly all fields")},i.close=function(){c.cancel()}}]);
xPlanner.controller("ContactUsCtrl",["$scope","$mdDialog","WebApiService","toastr","ProgressService",function(e,r,c,t,n){e.send=function(){e.contactUsForm.$setSubmitted(),e.contactUsForm.$valid?(n.blockScreen(),c.genericController.save({controller:"contactUs",action:"Item"},e.data,function(){n.unblockScreen(),t.success("Email sent successfully"),e.close()},function(){n.unblockScreen(),t.error("Error sending email, please try again. If the error persist, please contact the technical support.")})):t.error("Make sure you entered all the required fields")},e.close=function(){r.cancel()}}]);
xPlanner.controller("UploadDashboardFilesCtrl",["$scope","$mdDialog","toastr","AuthService","HttpService","Upload","ProgressService","local",function(o,r,a,e,s,l,t,i){o.files={},o.save=function(){null==o.files.powerbi?a.error("Choose a Power BI file to upload"):(o.uploadForm.$setSubmitted(),t.blockScreen(),l.upload({url:s.file_stream_powerbi("upload",e.getLoggedDomain(),115,o.files.saveAs),data:{file:o.files.powerbi,filename:o.files.saveAs}}).then(function(e){t.unblockScreen(),a.success("Dashboard added successfully"),r.hide(o.files)},function(e){e=e&&e.data&&e.data.errorMessage;t.unblockScreen(),a.error(e||"Error to add Dashboard. Please notice only DirectQuery dashboards are supported (Import option is not supported). If you are using DirectQuery, please contact Audaxware Technical Support")}))},o.close=function(){r.cancel()}}]);
xPlanner.controller("EditDomainCtrl",["$scope","WebApiService","$mdDialog","AuthService","toastr","local","ProgressService",function(a,o,r,i,t,c,l){function n(){a.availableManufacturers&&a.availableManufacturers.length<1||(l.blockScreen(),o.genericController.query({controller:"Manufacturer",action:"AllSorted",domain_id:i.getLoggedDomain()},function(e){a.availableManufacturers=e,l.unblockScreen()},function(){t.error("Error to try get the manufacturers"),l.unblockScreen()}))}a.anotherDomains=c.existingDomains,a.domain=angular.copy(c.domain),a.edit=c.edit,c.edit||(a.domain={type:"E"}),c.edit&&"M"===a.domain.type&&n(),a.save=function(){a.addDomainForm.$setSubmitted(),a.addDomainForm.$valid&&(l.blockScreen(),c.edit||(a.domain.manufacturers1=a.domain.manufacturers,a.domain.manufacturers=null,a.domain.enabled=!0),o.genericController[c.edit?"update":"save"]({controller:"domains",action:"Item",domain_id:a.domain.domain_id},a.domain,function(e){var n;console.log(e),c.edit||((n={email:a.domain.email,first_name:"Auto",last_name:"Created",aspNetUserRoles:null}).AspNetUserRoles=[{userId:null,roleId:1,domain_id:e.domain_id}],n={user:n,enterprise:{domain_id:e.domain_id,name:e.name}},o.genericController.save({controller:"Users",action:"InviteUser",domain_id:i.getLoggedDomain()},n,function(e){},function(e){409===e.status?t.error("The enterprise already has an associated user with the informed Email!"):t.error("Error trying to associate enterprise with user, please contact the technical support.")})),t.success("Enterprise successfully saved."),l.unblockScreen(),r.hide()},function(){t.error("Error to try save domain, please contact technical support"),l.unblockScreen()}))},a.close=function(){r.cancel()},a.changeDomain=function(e){"M"===e&&(a.domain.show_audax_info=!0,n())}}]);
xPlanner.directive("awBasedWidth",[function(){return{restrict:"A",scope:{widthElementId:"@"},link:function(e,t,n){e.widthElementId&&""!=e.widthElementId&&(e=angular.element("#"+e.widthElementId)[0].getBoundingClientRect().left,t[0].style.left=e-285+"px")}}}]);
xPlanner.directive("awDateFormatter",["$filter",function(u){return{require:"ngModel",link:function(r,e,n,t){t.$parsers.push(function(r){return r=u("date")(r,"yyyy-MM-dd")}),t.$formatters.push(function(r){return r=u("date")(r,"MM/dd/yyyy")})}}}]),xPlanner.directive("awCurrencyModel",["$filter",function(u){return{require:"ngModel",link:function(r,e,n,t){t.$parsers.push(function(r){return r.replace(/[^0-9.-]/g,"")}),t.$formatters.push(function(r){return r?u("currency")(r):"$"})}}}]);
xPlanner.directive("ngRightClick",["$parse",function(i){return function(e,n,t){var r=i(t.ngRightClick);n.bind("contextmenu",function(n){e.$apply(function(){n.preventDefault(),r(e,{$event:n})})})}}]),xPlanner.directive("ngEnter",function(){return function(e,n,t){n.bind("keydown keypress",function(n){13===n.which&&(e.$apply(function(){e.$eval(t.ngEnter)}),n.preventDefault())})}}),xPlanner.directive("ngIgnoreEnter",function(){return{link:function(n,e,t){$(e).keypress(function(n){if(13==n.keyCode)return!1})}}}),xPlanner.directive("parse-style",function(r){return function(n,e){var t=r(e.html());n.$watch(function(){return t(n)},function(n){e.html(n)})}}),xPlanner.directive("capitalize",function(){return{require:"ngModel",link:function(n,t,e,r){function i(n){var e=(n=null==n?"":n).toUpperCase();return e!==n&&(n=t[0].selectionStart,r.$setViewValue(e),r.$render(),t[0].selectionStart=n,t[0].selectionEnd=n),e}r.$parsers.push(i),i(n[e.ngModel])}}});
xPlanner.directive("awAccordion",[function(){return{restrict:"E",transclude:!0,scope:{label:"@",expanded:"="},templateUrl:function(elem,attrs){return attrs.expanded&&eval(attrs.expanded)?"app/Directives/Elements/accordionExpanded.html":"app/Directives/Elements/accordion.html"}}}]);
xPlanner.directive("awAddOption",["OptionTypes","WebApiService","toastr","ProgressService","$filter","AssetOptionService","FileService","UtilsService","AuthService","AssetOptionScope",function(c,d,u,l,p,f,_,g,m,v){return{restrict:"E",transclude:!0,scope:{ctrl:"=",assetInfo:"=",option:"=?",isInventory:"=?",addedOptions:"=?"},link:function(o,t,e){{var n;(o.isInventory?o.option||(o.selected_scope=v.Catalog,l.blockScreen(),d.genericController.query({controller:"assetOptions",action:"All",domain_id:o.assetInfo.asset_domain_id,project_id:o.assetInfo.asset_id},function(t){o.availableOptions=angular.copy(t.filter(function(e){return!o.addedOptions.find(function(t){return e.asset_option_id==t.option_id})}).map(function(t){return t.assets_options=null,t.quantity=1,t})),l.unblockScreen()},function(){u.error("Error to try get the available options"),l.unblockScreen()})):o.isEdit=!1,o.fileSizeLimit=_.ImageFileSizeLimit,o.show_firefox=g.IsFirefox(),o.optionTypes=c,o.assetInfo=o.assetInfo||{},o.isEdit=o.option&&o.option!={},o.isEdit)?(o.data=a(o.option),(n=o.data).settings&&(o.settings=f.GetSettings(n.settings)),i(o.data)):s()}function i(t){t.domain_document&&(o.picturePath=f.GetPicturePath(t.domain_id,t.domain_document))}function a(t){t=angular.extend({},angular.copy(t),{unit_price:t.unit_price||t.unit_budget||0,quantity:t.quantity||1,avg_last_cost:t.avg_cost?p("currency")(t.avg_cost)+(t.last_cost?"/"+p("currency")(t.last_cost):""):null});return delete t.unit_budget,t}function s(){o.data={quantity:1,unit_price:0,asset_domain_id:o.assetInfo.asset_domain_id,asset_id:o.assetInfo.asset_id,domain_id:m.getLoggedDomain()}}function r(){return angular.extend(f.FillSettings(o.data,o.settings),{scope:o.selected_scope||o.data.scope})}o.uploadImageClick=f.UploadImageClick,o.deletePicture=function(){o.data=f.RemoveSavedPìcture(o.data)},o.changeScope=function(t){s(),o.selected_scope=t},o.changeOption=function(t){o.data=a(t),i(t)},o.ctrl=angular.extend(o.ctrl,{saveOption:function(){return new Promise(function(e,n){f.SaveOption(o.addOptionForm,r(),o.assetInfo,o.isEdit,o.show_firefox).then(function(t){e(t)},function(t){n(t)})})},validateOption:function(){return f.ValidateForm(o.addOptionForm,o.data)},getOption:function(){return new Promise(function(e,n){var t=o.show_firefox?"GetBase64FileFirefox":"GetBase64NoFileFirefox",i=o.show_firefox?"imageF":o.data.image;_[t](i).then(function(t){o.data.image=null,e(angular.extend(r(),{picture:t}))},function(t){n(t)})})}})},templateUrl:"app/Directives/Elements/AddOption.html"}}]);
xPlanner.directive("awAssetInventoryGrid",["AuthService","HttpService","$stateParams","ProgressService","toastr","DialogService","WebApiService","GridViewService","KendoAssetInventoryService","KendoGridService","$log","localStorageAwService",function(_,b,y,A,T,M,C,x,E,L,V,O){return{restrict:"E",scope:{isTemplate:"=?",isGlobalTemplate:"=?",params:"=",gridHeightSubtract:"@",emitButtons:"&",hideToolbar:"=?",linkedRoom:"=?",selectOnlyMode:"=?",selecteds:"=?",alreadyAssociated:"=?",documentLinkMode:"=?",documentLinkId:"=?",filterActionButton:"=?"},link:function(i,e,t){var a,l,n,s,o,r,d,c;function u(t){!i.hideToolbar2&&t?(t.tbody.find("tr").dblclick(function(){var e=t.dataItem(this);0==e.linked_template?i.edit(e):M.Alert("Linked Template","This asset belongs to the inventory of a room that is linked to a template and cannot be modified. To modified it you need to unlink the template in the room details page before.")}),t.tbody.find("span.link").click(function(e){v([t.dataItem(this.closest("tr"))],!0)})):i.selectOnlyMode&&t.tbody.find("tr > td > input[type=checkbox].k-checkbox").click(function(e){e.data={grid:t},L.SelectRow(e,this),i.selecteds=L.GetSelecteds(t),i.$apply()})}function p(){u(i.assetsGrid);for(var e=0;e<i.assetsGrid._data.length;e++)i.assetsGrid._data[e].resp=i.assetsGrid._data[e].resp.trimEnd();E.DataBound(i.assetsGrid,i.isTemplate,i.isGlobalTemplate,i.consolidated,i.selectOnlyMode),i.selectOnlyMode&&(i.assetsGrid.selecteds=i.assetsGrid.dataSource.data().filter(function(t){return i.alreadyAssociated.find(function(e){return e.inventory_id===t.inventory_id})}),L.AddSelectedClass(i.assetsGrid)),L.UnselectAll(i.assetsGrid),n=!0,A.unblockScreen("assetsGrid")}function m(){var e=i.assetsGrid.getOptions().columns.filter(function(e){return e.locked}).length;i.freeze_qty=0<e?e:null}function h(){L.ExportToPDF_Event(i.assetsGrid)}function f(){i.selectOnlyMode||E.SaveState(i.assetsGrid,i.isTemplate,i.isGlobalTemplate,i.consolidated)}function g(){i.assetsGrid.dataSource.read().then(function(){L.UnselectAll(i.assetsGrid),i.$emit("updateProgressBar",i.params),a=null,i.search(i.searchBoxValue)})}function G(){if("3"==_.getLoggedUserType())M.ViewersChangesModal();else{if("L"!=_.getProjectStatus(i.params.project_id))return 1;M.LockedProjectModal(i.params)}}function v(e,t){G()&&M.openModal(t?"app/Projects/Assets/Modals/EditProfile.html":i.isTemplate&&i.isGlobalTemplate?"app/Room Templates/Assets/Modals/EditAssetGlobal.html":1<e.length||1<e[0].quantity?"app/Projects/Assets/Modals/EditMulti.html":"app/Projects/Assets/Modals/EditSingle.html",!t&&i.isTemplate&&i.isGlobalTemplate?"EditAssetGlobalCtrl":"EditAssetModalCtrl",{params:i.params,assets:e,multiple:1<e.length||1<e[0].quantity,profile:t},!0).then(function(e){e&&e.profileModified?M.Confirm("Profile Modified","You have changed the options for this asset, do you want to update the options for all the assets of this type with the same profile in the project?").then(function(){A.blockScreen(),C.genericController.update({controller:"Profile",action:"EditAllAssets",domain_id:_.getLoggedDomain(),project_id:i.params.project_id},e,function(){A.unblockScreen(),T.success("Assets profile have been updated."),g()},function(e){A.unblockScreen(),T.error("Error to try update assets profile, please contact the technical support")})},function(){g()}):g()})}function k(e,t){E.SetSelecteds(i.assetsGrid,t),A.blockScreen("assetsGrid"),A.startProgressBar(),E.DeleteItems(L.GetSelecteds(i.assetsGrid)).then(function(){A.unblockScreen("assetsGrid"),T.success("Asset(s) Deleted!"),i.assetsGrid.dataSource.read()},function(e){A.unblockScreen("assetsGrid"),409==e.status?T.info("Some, or all, of the selected assets could not be deleted because purchase orders have been issued!"):T.error("Error to try delete one or more assets, please contact the technical support"),i.assetsGrid.dataSource.read()}),L.UnselectAll(i.assetsGrid)}function S(s){var e,o,t;n&&(e=a||i.assetsGrid.dataSource.data(),L.UnselectAll(i.assetsGrid),s?(s=s.toLowerCase(),a=e,o=i.assetsGrid.columns,t=e.filter(function(e){for(var t=1;t<o.length;t++)if(!o[t].hidden&&-1<String(e[o[t].field]).toLowerCase().indexOf(s))return!0}),i.assetsGrid.dataSource.data(t),0<t.length&&i.assetsGrid.dataSource.page(1)):i.assetsGrid.dataSource.data(a||e))}function w(e){var t,s,o,a=e;return(t=e)&&"("===t.charAt(0)&&")"===t.charAt(t.length-1)&&(s&&T.error("The views inside () are reserved views of the system and cannot be saved or deleted."+(o?"Please choose a name without the () to your customized view":"")),1)?null:e.includes(" (shared)")?e.substring(0,e.length-9):a}i.filterActionButton=i.filterActionButton||!1,i.selectOnlyMode&&void 0===t.selecteds?V.error("[audaxware assets grid] select-only-mode property requires a selecteds property"):i.selectOnlyMode&&void 0===t.alreadyAssociated?V.error("[audaxware assets grid] select-only-mode property requires a already-associated property"):i.documentLinkMode&&void 0===t.documentLinkId?V.error("[audaxware assets grid] document-link-mode property requires a document-link-id property"):(i.show_private_checkbox=!0,"3"==_.getLoggedUserType()&&(i.show_private_checkbox=!1),n=!(l="assetsGrid"),s=i.isGlobalTemplate?"asset-grid-view-gTemplate":i.isTemplate?"asset-grid-view-template":"asset-grid-view",r=O.get(o=[])?O.get(o):[],t="3"==_.getLoggedUserType(),d=!1,i.hideToolbar2=t||i.hideToolbar||i.selectOnlyMode,window.downloadFile=function(e,t,s){window.open(b.generic("filestream","file",t,e,s),"_self")},i.gridHeight=window.innerHeight-(i.gridHeightSubtract||200),i.viewName=null,i.is_private=!0,i.assetsGrid=$("#assetsGrid").kendoGrid({dataBinding:function(e){A.blockScreen("assetsGrid")},dataBound:function(e){A.unblockScreen("assetsGrid")}}).data("kendoGrid"),E.SetSavedState(i.assetsGrid,i.isTemplate,i.isGlobalTemplate,i.gridHeight,null,l,p,h,f,i.selectOnlyMode,i.documentLinkMode?i.documentLinkId:null).then(function(e){i.selectOnlyMode?i.assetsGrid.thead.find("tr > th > input[type=checkbox].k-checkbox").click(function(e){e.data={grid:i.assetsGrid},L.SelectAllChange(e),i.selecteds=L.GetSelecteds(i.assetsGrid),i.$apply()}):L.InitiateGridEvents(i.assetsGrid,l),m(),C.genericController.query({controller:"GridView",action:"All",domain_id:i.isTemplate?i.isGlobalTemplate?"assets_inventory_global_template":"assets_inventory_template":"assets_inventory",project_id:_.getLoggedDomain()},function(e){i.views=e,null!=O.get(s)&&(i.viewSelected=e.find(function(e){return e.name===O.get(s).name}),i.viewSelected)&&i.loadView(i.viewSelected)},function(){T.error("Error to load assets, please contact technical support"),A.unblockScreen("assetsGrid")})}),i.edit=function(e){var t;(e||L.VerifySelected("edit","asset",i.assetsGrid))&&(e=e?[e]:L.GetSelecteds(i.assetsGrid),(t=e.filter(function(e){return 0==e.linked_template})).length!=e.length?0==t.length?M.Alert("Linked Template","All the selected assets belong to the inventory of some room that is linked to a template and cannot be modified until these room(s) be unlinked from the template."):M.Confirm("Linked Template","Some of the selected assets belong to the inventory of a room that is linked to a template and it will not be modified. Do you want to continue?").then(function(){v(t)}):v(e))},i.reloadData=function(){i.assetsGrid.dataSource.transport.options.read.url=E.GetGridUrl(i.isTemplate,i.consolidated,r,i.selectOnlyMode,i.documentLinkMode?i.documentLinkId:null),i.assetsGrid.dataSource.read().then(function(){L.UnselectAll(i.assetsGrid),a=i.assetsGrid.dataSource.data(),i.searchBoxValue&&S(i.searchBoxValue)},function(){T.error("Error to retrieve data from server, please contact technical support")})},i.delete=function(){var e,t,s;G()&&L.VerifySelected("delete","asset",i.assetsGrid)&&(s=(e=L.GetSelecteds(i.assetsGrid)).filter(function(e){return null==e.target_location}),t=s.filter(function(e){return 0==e.linked_template}),0==s.length?M.Alert("Relocated asset","The selected asset(s) is linked to a relocated asset. The link must be deleted in the destination."):0==t.length?M.Alert("Linked Template","All the selected assets belong to the inventory of some room that is linked to a template and cannot be deleted until these room(s) be unlinked from the template."):(s="The assets will be deleted permanently!",0<t.filter(function(e){return null!=e.source_location}).length&&(s="One or more items are linked relocating asset. Deleting this asset(s) will delete the link as well. "+s),M.Confirm("Are you sure?",s).then(function(){t.length!=e.length?M.Confirm("Linked Template","The selected assets that belong to the inventory of a room which is linked to a template will not be deleted. Do you want to continue?").then(function(){k(0,t)}):k(0,t)})))},i.search=function(e){S(e)},i.openCheckRoomModal=function(){L.VerifySelected("check room","asset",i.assetsGrid)&&M.openModal("app/Projects/Assets/Modals/CheckRoomModal.html","CheckRoomModalCtrl",{assets:L.GetSelecteds(i.assetsGrid),params:i.params},!0)},i.reloadGrid=function(){i.assetsGrid.dataSource.read().then(function(){L.UnselectAll(i.assetsGrid),i.$emit("updateProgressBar",i.params),a=i.assetsGrid.dataSource.data(),d||(i.searchBoxValue=null),d=!1,i.search(i.searchBoxValue)})},i.openLinkModal=function(){var e,t;L.VerifySelected("link","asset",i.assetsGrid,!1)&&(e=L.GetSelecteds(i.assetsGrid),0<(t=e.filter(function(e){return null!=e.source_location&&0<e.source_location.length})).length?M.Confirm("Unlink Assets","Are you sure you want to unlink the "+t.length.toString()+" selected asset(s)").then(function(){var s=[];t.forEach(function(e,t){s.push(e.inventory_id)}),C.link_asset_from_project.delete({domain_id:_.getLoggedDomain(),project_id:i.params.project_id},s,function(){T.success("Links have been removed successfully"),i.reloadGrid()},function(){T.error("Error to remove links, please contact technical support.")})}):1<e.length?M.Alert("Relocation link","You can only link one asset at a time"):i.openAddModal(!0,e[0]))},i.openAddModal=function(t,e){G()&&(i.linkedRoom?M.Alert("Linked Room","This room is linked to a template and the inventory cannot be modified. To add a new asset you need to unlink the room in the template section before."):M.openModal("app/Projects/Assets/Modals/AddModal.html","AIAddModalCtrl",{params:i.params,isToGlobalTemplate:i.isGlobalTemplate,isLink:t,selected_asset:t?e:null,isTemplate:i.isTemplate}).then(function(e){(e||t)&&(d=!(!t||!i.searchBoxValue),i.reloadGrid())}))},i.openReplaceModal=function(){if(G()&&L.VerifySelected("replace","asset",i.assetsGrid)){for(var e=L.GetSelecteds(i.assetsGrid),t=e.filter(function(e){return 1!=e.linked_template}),s=0;s<e.length;s++)if("PO Issued"===e[s].po_status.trimStart())return void T.error("The asset "+e[s].asset_code+" can not be replaced: purchase order have been issued!");!t||t.length<1?M.Alert("Linked Template","The selected asset(s) belong to the inventory of some room that is linked to a template and cannot be modified until the room be unlinked from the template."):(t.length!=e.length&&M.Alert("Linked Template","Some of the selected asset(s) belong to the inventory of some room that is linked to a template and will not be modified."),M.openModal("app/Projects/Assets/Modals/ReplaceAsset.html","ReplaceAssetModalCtrl",{items:t,params:i.params,isTemplate:i.isTemplate},!0).then(function(){i.assetsGrid.dataSource.read().then(function(){a=i.assetsGrid.dataSource.data(),L.UnselectAll(i.assetsGrid),i.$emit("updateProgressBar",i.params),i.search(i.searchBoxValue)})},function(){L.UnselectAll(i.assetsGrid)}))}},i.openMoveModal=function(){var e,t;G()&&L.VerifySelected("replace","asset",i.assetsGrid)&&(!(t=(e=L.GetSelecteds(i.assetsGrid)).filter(function(e){return 1!=e.linked_template}))||t.length<1?M.Alert("Linked Template","The selected asset(s) belong to the inventory of some room that is linked to a template and cannot be modified until the room be unlinked from the template."):(t.length!=e.length&&M.Alert("Linked Template","Some of the selected asset(s) belong to the inventory of some room that is linked to a template and will not be modified."),M.openModal("app/Projects/Assets/Modals/MoveAsset.html","MoveAssetCtrl",{items:t,params:i.params},!0).then(function(){i.assetsGrid.dataSource.read().then(function(){a=i.assetsGrid.dataSource.data(),L.UnselectAll(i.assetsGrid),i.$emit("updateProgressBar",i.params),i.search(i.searchBoxValue)})},function(){L.UnselectAll(i.assetsGrid)})))},i.openConnectModal=function(){var e;G()&&L.VerifySelected("connect","asset",i.assetsGrid,!0)&&((e=L.GetSelecteds(i.assetsGrid))[0].ports&&e[0].it_connections>=e[0].ports?(T.error(e[0].asset_description+" does not have available ports to connect."),L.UnselectAll(i.assetsGrid)):M.openModal("app/Projects/Assets/Modals/ConnectAsset.html","ConnectAssetModalCtrl",{items:e,params:i.params,isTemplate:i.isTemplate},!0).then(function(){i.assetsGrid.dataSource.read().then(function(){a=i.assetsGrid.dataSource.data(),L.UnselectAll(i.assetsGrid),i.$emit("updateProgressBar",i.params),i.search(i.searchBoxValue)})},function(){L.UnselectAll(i.assetsGrid)}))},i.openCompareAssetsModal=function(){var e;if(G())return(e=L.GetSelecteds(i.assetsGrid)).length<2||2<e.length?(T.error("You need to select two assets to compare"),!1):void M.openModal("app/Projects/Assets/Modals/CompareAssets.html","CompareAssetsCtrl",{items:e,params:i.params,isConsolidated:i.consolidated,consolidatedColumns:r},!0).then(function(){i.assetsGrid.dataSource.read().then(function(){L.UnselectAll(i.assetsGrid),i.$emit("updateProgressBar",i.params),i.search(i.searchBoxValue)})},function(){L.UnselectAll(i.assetsGrid)})},i.closeToolbars=function(){i.showViewsOptions=!1,i.showActionButtons=!1},i.loadView=function(t){t?(i.viewSelected=t,L.UnselectAll(i.assetsGrid),E.SetSavedState(i.assetsGrid,i.isTemplate,i.isGlobalTemplate,i.gridHeight,t,l,p,h,f,i.selectOnlyMode,i.documentLinkMode?i.documentLinkId:null).then(function(e){i.consolidated=e,m(),i.viewName=w(t.name),i.is_private=t.is_private,L.InitiateGridEvents(i.assetsGrid,l),r=t.consolidated_columns?JSON.parse(t.consolidated_columns):[],i.searchBoxValue=null,O.set(s,t)})):T.error("You need to select a view to load")},i.deleteView=function(e){x.deleteView(e).then(function(){i.views.splice(i.views.indexOf(e),1),i.viewName=null,i.is_private=!0})},i.saveView=function(e){x.saveView(i.assetsGrid,i.isTemplate?i.isGlobalTemplate?"assets_inventory_global_template":"assets_inventory_template":"assets_inventory",e,i.views,r,i.is_private).then(function(e){e.updatedView?(i.views[i.views.indexOf(e.updatedView)].grid_state=e.newView.grid_state,i.viewSelected=i.views[i.views.indexOf(e.updatedView)]):(i.views.push(e.newView),i.viewSelected=e.newView),i.viewName=e.newView.name,i.is_private=e.newView.is_private,O.set(s,e.newView)})},i.clearAllFilters=function(){i.searchBoxValue=null,L.ClearFilters(i.assetsGrid),i.search()},i.openPOModal=function(){M.NotImplementAlert()},c={label:"Export to Excel",icon:"file_simple",click:{func:function(e){var t;-1<window.navigator.userAgent.indexOf("Edge")?M.Alert("Export Grid","Export to excel is not yet supported for Microsoft Edge."):(t=JSON.parse(JSON.stringify(i.assetsGrid.dataSource.options.data)),i.assetsGrid.dataSource.options.data=i.assetsGrid.dataSource.options.data.map(function(e){var t;return e.cut_sheet=e.cut_sheet?"TRUE":"FALSE",e.cad_block=e.cad_block?"TRUE":"FALSE",e.revit=e.revit?"TRUE":"FALSE",e.photo=e.asset_photo||e.photo?"TRUE":"FALSE",e.tag_photo=e.tag_photo?"TRUE":"FALSE",e.source_location&&(t=e.source_location.split("||"),e.source_location=t[t.length-1],t=e.source_room.split("||"),e.source_room=t[t.length-1]),e.target_location&&(t=e.target_location.split("||"),e.target_location=t[t.length-1],t=e.target_room.split("||"),e.target_room=t[t.length-1]),e}),L.ExportGrid(e,i.assetsGrid),i.assetsGrid.dataSource.options.data=t,i.assetsGrid.dataSource.read())},params:"excel"},show:!0},i.emitButtons&&i.emitButtons(t?{value:[c]}:{value:[{label:"Lock Cost",icon:"lock",click:{func:function(){var e;G()&&C.asset_inventory.update((e=y,{action:"LockCost",domain_id:_.getLoggedDomain(),project_id:e.project_id,phase_id:e.phase_id||null,department_id:e.department_id||null,room_id:e.room_id||null}),null,function(){T.success("Costs Locked!"),A.unblockScreen("assetsGrid")},function(){A.unblockScreen("assetsGrid"),T.error("Error to Lock Cost, please contact technical support")})}},show:!i.isTemplate},c,{label:"Import from Excel",icon:"file_upload",click:{func:function(){G()&&M.openModal("app/Projects/Assets/Modals/ImportAssets.html","ImportAssetsCtrl").then(function(e){if(null!=e.text)for(var t=e.text.split("||"),s=0;s<t.length;s++){var o=JSON.parse(t[s]);i.$emit("addItemTreeView",o)}g()})}},show:!0}]}),i.collapseExpand=L.CollapseExpand,i.chooseDisplayedColumns=function(){var s=i.assetsGrid.columns;M.openModal("app/Utils/Modals/DisplayColumns.html","DisplayColumnsCtrl",{columns:s,consolidated:r}).then(function(e){A.blockScreen("assetsGrid"),JSON.stringify(e.consolidated)!=JSON.stringify(r)&&(O.set(o,e.consolidated),r=e.consolidated,i.consolidated)&&i.reloadData(),e.display.forEach(function(e,t){e.hidden!=s[t].hidden&&(e.hidden?i.assetsGrid.hideColumn(t):i.assetsGrid.showColumn(t))}),A.unblockScreen("assetsGrid")})},i.freezeColumns=function(e){if(0<=(i.freeze_qty=e)){var s,t=i.assetsGrid.getOptions(),o=!1;if(0<e){var a=0;t.groupable=!1;for(var n=0;n<t.columns.length;n++)!t.columns[n].headerTemplate&&!t.columns[n].hidden&&a<e?t.columns[n].template?o||(T.warning("One or more columns can't be frozen and were skipped"),o=!0):(t.columns[n].locked=!0,a++):t.columns[n].headerTemplate?s={column:t.columns[n],index:n}:t.columns[n].locked=!1;t.columns.splice(s.index,1);for(n=0;n<t.columns.length;n++)if(!t.columns[n].locked){t.columns.splice(n-1,0,s.column);break}}else t.groupable||(t.groupable=!0,t.columns=t.columns.map(function(e,t){return e.locked=e.lockable=!1,e.headerTemplate&&(s={column:e,index:t}),e}),t.columns.splice(s.index,1),t.columns.unshift(s.column));i.assetsGrid.setOptions(t),L.InitiateGridEvents(i.assetsGrid,l)}},i.consolidate=function(){0==r.length&&i.consolidated&&E.GetMandatoryFields().forEach(function(e){r.includes(e)||r.push(e)}),i.reloadData()},window.showImage=function(e,t,s,o){s*=90;$(e).closest("section").children(".image_popover").children("img").attr("src")||$(e).closest("section").children(".image_popover").children("img").attr("src",b.generic("filestream","file",t,o,"photo")),$(e).closest("section").children(".image_popover").children("img")[0].style.transform="rotate("+s+"deg)",$(e).closest("section").children(".image_popover").children("img").show()},window.hideImage=function(e){$(e).closest("section").children(".image_popover").children("img").hide()})},templateUrl:"app/Directives/Elements/AssetInventoryGrid.html"}}]);
xPlanner.directive("awAssetSettingsGrid",["GridService","SettingsDropDown","AuthService","HttpService","ProgressService","ChbxAssetSettingEditor","OptionsDropDown","HertzDropDown","NumericEditor","TextEditor","CategoryDropDown","toastr","PhasesDropDown","WebApiService","ConnectionTypeDropDown","PlugTypeDropDown","NetworkTypeDropDown",function(u,e,p,m,g,_,v,b,f,h,S,k,y,w,D,x,G){return{restrict:"E",transclude:!0,scope:{asset:"=",requiredSettings:"=",updatedJsnData:"=",origin:"@"},link:function(s,e,t,a){var i,n,o,r;function l(e){switch(e.value="1"==e.value,e.editor_type){case"checkbox":return'<div align=center><md-checkbox style="margin-top: 0px; margin-bottom: 0px; margin-left: 27px;" class="checkbox" ng-checked="'+("True"===e.value||1==e.value)+'" aria-label="checkbox"></md-checkbox></div>';case"dropDown":return"<div align=center>"+("hertz"===e.asset_field||"plug_type"===e.asset_field||"connection_type"===e.asset_field||"network_type"===e.asset_field||"phases"===e.asset_field?""===e.value?"--":e.value:"category_attribute"===e.asset_field?"F"===e.value?"Fixed":"MJ"===e.value?"Major Moveable":"MN"===e.value?"Minor Moveable":"":0==e.value?"--":1==e.value?"Yes":"Optional")+"</div>";default:return"<div align=center>"+(e.value||"")+"</div>"}}function d(e){e=e.asset_field;e=s.asset[e+"_ow"]?"lock_open":"lock";return'<section layout="row" layout-align="center center" class="grid-buttons"><button class="md-icon-button md-button" ng-click="toggleLockAttributes(dataItem)"><i class="material-icons">'+e+'<md-tooltip md-direction="bottom">'+("lock"==e?"Unlock to customize the value":"Lock to pick the value from the catalog")+"</md-tooltip></button></section>"}function c(e,t){var a=t.model.asset_field+"_ow";if(!s.asset[a]&&s.origin)$("<div align=center>"+(t.model.value||"")+"</div>").appendTo(e);else switch(t.model.editor_type){case"checkbox":_(e,t,s.asset,"asset['"+t.model.asset_field+"']",25);break;case"dropDown":("hertz"===t.model.asset_field?b:"category_attribute"===t.model.asset_field?S:"phases"===t.model.asset_field?y:"connection_type"===t.model.asset_field?D:"plug_type"===t.model.asset_field?x:"network_type"===t.model.asset_field?G:v)(e,t);break;case"numeric":f(e,t);break;case"regularExpression":h(e,t,t.model.asset_field);break;default:h(e,t)}}s.asset&&(n=!0,o=null,1==s.asset.consolidated_view&&1<s.asset.inventory_ids.length&&(s.asset.inventory_id=parseInt(s.asset.inventory_ids.substring(0,7))),r={template:'<section layout="row" layout-align="end start"><button class="md-icon-button md-button" ng-click="collapseExpand(assetSettingsGrid)"><md-icon md-svg-icon="collapse_expand"></md-icon><md-tooltip md-direction="bottom">Collapse/Expand All</md-tooltip></button></section>'},s.$watch(function(){return s.updatedJsnData},function(e,t){s.asset&&e&&e!=t&&(s.assetSettingsGrid.dataSource.transport.options.read.url=m.generic("JSN","JSNUtilities",e.domain_id,e.id,s.asset.domain_id,s.asset.asset_id),s.assetSettingsGrid.dataSource.read())}),s.toggleLockAttributes=function(a){var i=(o=a).asset_field,e=i+"_ow";s.asset[e]=!s.asset[e],s.asset[e]?u.updateItems(s.assetSettingsGrid):(g.blockScreen(),w.genericController.get({controller:"assets",action:"SummarizedSingle",domain_id:s.asset.asset_domain_id,project_id:s.asset.asset_id},function(e){for(var t=0;t<s.assetSettingsGrid.dataSource._data.length;t++)s.assetSettingsGrid.dataSource._data[t].asset_field==a.asset_field&&(s.assetSettingsGrid.dataSource._data[t].value=e[i]);g.unblockScreen(),u.updateItems(s.assetSettingsGrid)},function(){k.error("Error to retrieve asset data"),g.unblockScreen()}))},s.$watch(function(){return s.asset},function(e){var t;n&&e.domain_id&&(n=!1,g.blockScreen(),e=new kendo.data.DataSource({transport:{read:{url:m.generic("assetSettings",s.origin?"InventorySettings":"Settings",e.domain_id,s.asset.inventory_id||e.asset_id,s.origin||null),headers:{Authorization:"Bearer "+p.getAccessToken()}}},sort:{field:"property_name",dir:"asc"},schema:{model:{fields:{group_name:{type:"string",editable:!1},property_name:{type:"string",editable:!1},asset_field:{type:"string"},required:{type:"boolean",editable:!1},lock:{type:"boolean",editable:!1},value:{validation:{valuevalidation:function(e){return!(e.is("[name='depth']")||e.is("[name='mounting_height']")||e.is("[name='weight']")||e.is("[name='width']")||e.is("[name='height']")||e.is("[name='volts']"))||""==e.val()||(e.attr("data-valuevalidation-msg","Only the 'Number-Number' and 'Number/Number' formats are allowed"),/^[0-9]+(\.[0-9]{1,3})?((\-|\/)[0-9]+(\.[0-9]{1,3})?){0,1}$/.test(e.val()))}}}}}},error:function(){g.unblockScreen(),k.error("Error to retrieve data from server, please contact the technical support")},change:function(e){g.unblockScreen(),e.action&&"itemchange"===e.action&&(s.asset[e.items[e.items.length-1].asset_field]=e.items[e.items.length-1].value)},group:[{field:"group_name"}]}),t=[{field:"group_name",title:"Group",width:250},{field:"property_name",title:"Setting",width:250},{field:"value",title:"Value",filterable:!1,editable:!1,attributes:{class:"editable-cell"},template:l,editor:c,width:150},{field:"required",title:"Required",template:'#= required ? \'<span layout="row" layout-align="center center"><i class="material-icons no-button" style="color: green;">check</i></span>\' : \'\' #',width:100},{field:"lock",title:"  ",editable:!1,filterable:!1,template:d,width:100}],s.origin?t.splice(3,1):t.splice(4,1),s.options=u.getStructure(e,t,r,{editable:!0,noRecords:"This asset has no settings to be set"},!1))}),s.dataBound=function(){i||(i=!0,s.assetSettingsGrid.dataSource.data().map(function(e){e.required&&s.requiredSettings.push(e.asset_field)})),u.dataBound(s.assetSettingsGrid),null!=s.origin&&null!=o&&u.expandAll(s.assetSettingsGrid)},s.collapseExpand=u.collapseExpand)},templateUrl:"app/Directives/Elements/AssetSettingsGrid.html"}}]);
xPlanner.directive("awAutocomplete",["WebApiService","$mdUtil","$log","_",function(u,e,p,s){return{restrict:"E",scope:{endpoint:"@",controllerName:"@",queryControllerAction:"@",saveControllerAction:"@",params:"=",selectedText:"=?",selectedId:"=?",selectedItem:"=?",selectedDomain:"=?",textProperty:"@",textProperty2:"@",textPropertySeparator:"@",descriptiveProperty:"@",idProperty:"@",domainProperty:"@",label:"@",max:"@",min:"@",placeholder:"@",flex:"@",addOption:"=",watchObject:"=",watchedObjectId:"="},require:["^?mdInputContainer","?ngModel"],link:function(o,r,e,t){var n,c,a,d,i;function l(e){o.selectedDomain=e[o.domainProperty],o.selectedId=e[o.idProperty],o.selectedText=e[o.textProperty],o.selectedItem=e}o._=s,o.watchObject&&void 0===e.watchedObjectId?p.error("[audaxware autocomplete] watch-object property requires a parent-object-id property"):(n=u[o.endpoint||"genericController"],void 0===o.dopmainProperty&&(o.domainProperty="domain_id"),void 0===o.idProperty&&(o.idProperty="id"),void 0===o.textProperty&&(o.textProperty="name"),o.data=[],c=angular.extend({},o.params),c.controller=o.controllerName,a=function(){c.action=o.queryControllerAction||"All",n.query(c,function(e){o.data=e,void 0!==(e=o.data.find(function(e){return e[o.idProperty]==(o.selectedItem&&o.selectedItem[o.idProperty]||o.selectedId)&&e[o.domainProperty]==(o.selectedItem&&o.selectedItem[o.domainProperty]||o.selectedDomain)}))&&l(e)},function(e){console.log('an error occurred on "autocomplete" directive')})},o.searchText=null,o.querySearch=function(e){var t,r=e?o.data.filter((t=e.toLowerCase(),function(e){return-1!==e[o.textProperty].toLowerCase().indexOf(t)||o.textProperty2&&-1!==e[o.textProperty2].toLowerCase().indexOf(t)})):[];return o.addOption||(o.selectedItem&&o.textProperty?(o.selectedItem={},o.selectedItem[o.textProperty]=e):o.selectedItem?o.selectedItem=e:o.selectedText=e),r},o.createNew=function(e){var t={};t[o.textProperty]=e,c.action=o.saveControllerAction||"Item",n.save(c,t,function(e){l(e),a()})},o.checkAdd=function(t){return!!t&&void 0===o.data.find(function(e){return e[o.textProperty].toLowerCase()===t.toLowerCase()})},d=t[1],(i=t[0])&&d&&(i.element.addClass("aw-autocomplete"),t=i.isErrorGetter||function(){return d.$invalid&&(d.$touched||d.$$parentForm&&d.$$parentForm.$submitted)},e.hasOwnProperty("checkNotSelected")&&o.$watch(function(){return o.checkAdd(o.searchText)&&(d.$touched||d.$$parentForm&&d.$$parentForm.$submitted)},function(e){d.$setValidity("autocomplete-not-selected",!e)}),o.$watch(function(){return!o.watchObject||o.watchedObjectId},function(e){e&&a()}),o.$watch(t,function(e){i.setInvalid(e)}),o.$watch(function(){return o.selectedItem||o.selectedText},function(e,t){!e!=!t&&i.element.toggleClass("md-input-has-value"),($element=angular.element(r)).val(e)}),r.focusout(function(){i&&d.$untouched&&d.$setTouched()}),o.$on("$destroy",function(){i.element.removeClass("aw-autocomplete"),i.element.removeClass("md-input-has-value")})))},templateUrl:"app/Directives/Elements/autocomplete.html"}}]);
xPlanner.directive("awAutocompleteJsn",["WebApiService","$mdUtil","$log","AuthService","DialogService",function(u,e,s,m,p){return{restrict:"E",scope:{endpoint:"@",controllerName:"@",queryControllerAction:"@",saveControllerAction:"@",params:"=",selectedText:"=?",selectedId:"=",selectedItem:"=?",selectedDomain:"=?",textProperty:"@",textProperty2:"@",textPropertySeparator:"@",idProperty:"@",domainProperty:"@",label:"@",max:"@",min:"@",placeholder:"@",flex:"@",addOption:"=",watchObject:"=",watchedObjectId:"="},require:["^?mdInputContainer","?ngModel"],link:function(o,r,e,t){var n,i,d,l,c;function a(e){o.selectedDomain=e[o.domainProperty],o.selectedId=e[o.idProperty],o.selectedText=e[o.textProperty],o.selectedItem=e}o.watchObject&&void 0===e.watchedObjectId?s.error("[audaxware autocomplete] watch-object property requires a parent-object-id property"):(n=u[o.endpoint||"genericController"],void 0===o.dopmainProperty&&(o.domainProperty="domain_id"),void 0===o.idProperty&&(o.idProperty="id"),void 0===o.textProperty&&(o.textProperty="name"),o.data=[],i=angular.extend({},o.params),i.controller=o.controllerName,d=function(){i.action=o.queryControllerAction||"All/"+m.getLoggedDomain(),n.query(i,function(e){var t;o.data=e,void 0!==(e=o.data.find(function(e){return e[o.idProperty]==(o.selectedItem&&o.selectedItem[o.idProperty]||o.selectedId)&&e[o.domainProperty]==(o.selectedItem&&o.selectedItem[o.domainProperty]||o.selectedDomain)}))&&(t=!0,t=(null==o.selectedItem||o.selectedItem.Id!=e.Id||o.selectedItem.utility1==e.utility1&&o.selectedItem.utility2==e.utility2&&o.selectedItem.utility3==e.utility3&&o.selectedItem.utility4==e.utility4&&o.selectedItem.utility5==e.utility5&&o.selectedItem.utility6==e.utility6)&&t)&&a(e)},function(e){console.log('an error occurred on "autocomplete" directive')})},o.searchText=null,o.querySearch=function(e){var t,r=e?o.data.filter((t=e.toLowerCase(),function(e){return-1!==e[o.textProperty].toLowerCase().indexOf(t)||o.textProperty2&&-1!==e[o.textProperty2].toLowerCase().indexOf(t)})):[];return o.addOption||(o.selectedItem&&o.textProperty?(o.selectedItem={},o.selectedItem[o.textProperty]=e):o.selectedItem?o.selectedItem=e:o.selectedText=e),r},o.createNew=function(e){var t={};t[o.textProperty]=e,"3"==m.getLoggedUserType()?p.ViewersChangesModal():p.openModal("app/Assets/Modals/AddJSN.html","AddJSNCtrl",t).then(function(e){a(e),d()},function(e){})},o.checkAdd=function(t){return!!t&&void 0===o.data.find(function(e){return e[o.textProperty].toLowerCase()===t.toLowerCase()})},l=t[1],(c=t[0])&&l&&(c.element.addClass("aw-autocomplete"),e=c.isErrorGetter||function(){return l.$invalid&&(l.$touched||l.$$parentForm&&l.$$parentForm.$submitted)},o.$watch(function(){return!o.watchObject||o.watchedObjectId},function(e){e&&d()}),o.$watch(e,function(e){c.setInvalid(e)}),o.$watch(function(){return o.selectedItem||o.selectedText},function(e,t){!e!=!t&&c.element.toggleClass("md-input-has-value"),($element=angular.element(r)).val(e)}),r.focusout(function(){c&&l.$untouched&&l.$setTouched()}),o.$on("$destroy",function(){c.element.removeClass("aw-autocomplete"),c.element.removeClass("md-input-has-value")})))},templateUrl:"app/Directives/Elements/autocomplete.html"}}]);
xPlanner.directive("awAvailableAssetsInventoryGrid",["CostFieldList","WebApiService","AuthService","toastr","ProgressService","AssetsService","KendoGridService","HttpService","localStorageAwService","KendoAssetInventoryService","CostFieldListWithSource",function(g,f,h,b,v,y,G,w,C,S,A){return{restrict:"E",scope:{selecteds:"=",height:"=",params:"=",replace:"=",projectAction:"=?",selectedCostField:"=?",isToGlobalTemplate:"=?",isRelocate:"=?",isLink:"=?",isTemplate:"=?",linkBudgetQty:"=?"},link:function(r,e,t,i){var s,a=r.isRelocate?"relocateGrid":"addAssetsGrid",l=!1;function o(e){r.costField=e?A:g,r.selected_costField=r.selectedCostField=r.costField[0].value}o(),r.isRelocate=!1;var n=h.getLoggedDomainFull();function d(){G.DataBound(r.assetsGrid,r.isToGlobalTemplate?"add-asset-template-grid-state":"add-asset-grid-state"),l=!0}function c(e){G.SelectRow(e,this),r.selecteds=G.GetSelecteds(r.assetsGrid),r.$apply()}function u(e){G.SelectAllChange(e),r.selecteds=G.GetSelecteds(r.assetsGrid),r.$apply()}function p(){r.assetsGrid.dataSource.bind("change",function(t){var e;"itemchange"==t.action&&"budget_qty"==t.field&&(r.selecteds?(e=r.selecteds.find(function(e){return e.id==t.items[t.items.length-1].id}),0<t.items[t.items.length-1].budget_qty?e||(r.selecteds.push(t.items[t.items.length-1]),r.$apply()):e&&(e=r.selecteds.indexOf(e),r.selecteds.splice(e,1),r.$apply())):0<t.items[t.items.length-1].budget_qty&&(r.selecteds=[t.items[t.items.length-1]],r.$apply()))}),r.assetsGrid.bind("dataBound",d)}function m(){b.error("Error to retrieve data from server, please contact the technical support."),v.unblockScreen("availableAssetInventory")}function _(e){e=2!=r.action&&(e.unit_budget||e["default"===r.selected_costField?r.default_cost_field:r.selected_costField])||0;return G.GetCurrencyTemplate(e)}r.catalogOptions=[],r.isLink||(r.catalogOptions=n.show_audax_info?[{name:"Audaxware",domain_id:1,status:"A"}]:[],1!=n.domain_id&&r.catalogOptions.push({name:n.name.charAt(0).toUpperCase()+n.name.slice(1),domain_id:n.domain_id,status:"A"})),r.actionChanged=function(){r.clearAllFilters(),r.projectAction=r.action,r.isRelocate=2==r.action,r.assetsGrid.setOptions(function(){for(var e,t,i,a=S.GetNotHiddenColumns(!1,!1,"addAssetsGrid"),s=0;s<a.length;s++)null!=a[s].headerTemplate&&(!a[s].headerTemplate.includes("checkbox")||a[s].headerTemplate.includes("checkbox")&&2!=r.action)||"total_budget_amt"===a[s].field||"current_location"===a[s].field||"po_status"===a[s].field?(a.splice(s,1),--s):"budget_qty"==a[s].field?(a[s].template="<div align=center>#: budget_qty || 0 #</div>",a[s].title="Qty",2!=r.action&&(a[s].attributes={class:"editable-cell"}),a[s].width="80px",i=a[s],a.splice(s,1)):"asset_profile"==a[s].field?a[s].template=null:"asset_code"==a[s].field?t=s:"total_unit_budget"==a[s].field&&(e=a[s],2==r.action&&(e.attributes={class:"editable-cell"}),a.splice(s,1));a.splice(t+3,0,e,i);var l,o={groupable:!0,noRecords:"No assets on inventory",reorderable:!0,editable:!0,height:r.height},n=S.GetDataSource();for(l in n.schema.model.fields.budget_qty.validation={min:0},n.schema.model.fields)n.schema.model.fields[l].editable=!1,"budget_qty"==l&&2!=r.action&&(n.schema.model.fields[l].editable=!0),"total_unit_budget"==l&&1!=r.action&&(n.schema.model.fields[l].editable=!0);{var d;null!=r.selectedCatalog.project_id&&(n.transport.read.url=w.asset_inventory_filter_relocate(r.selectedCatalog.domain_id,r.selectedCatalog.project_id,r.linkBudgetQty),d=angular.copy(n.schema.parse),n.schema.parse=function(e){return d(e).map(function(e){return 2==r.action?e.total_unit_budget=0:e.budget_qty=0,e})})}return G.GetStructure(n,a,null,o)}()),2==r.action?(r.assetsGrid.table.on("click",".k-checkbox",{grid:r.assetsGrid,grid_name:a},c),$("#select-all-"+a).on("change",{grid:r.assetsGrid},u)):r.selecteds=[],p(),l=!0},r.$watch("action",function(e,t){e!=t&&r.actionChanged()}),r.catalogOptionChanged=function(){var e;v.blockScreen("availableAssetInventory"),r.assetsGrid||(r.assetsGrid=$("#addAssetsGrid").kendoGrid().data("kendoGrid")),r.clearAllFilters(),r.selecteds=[],C.set("add-asset-inventory-catalog-option",r.selectedCatalog),r.selectedCatalog.project_id?(e=r.action,"I"!=r.selectedCatalog.status&&!r.isLink||r.selectedCatalog.project_id==r.params.project_id?r.action=1:r.action=2,e===r.action&&(p(),o(l=!0)),v.unblockScreen("availableAssetInventory")):(r.action=1,y.GetDomainAssets(!0).then(function(e){(e=r.isTemplate?e:e.filter(function(e){return e.domain_id==r.selectedCatalog.domain_id})).sort(function(e,t){return e.asset_category>t.asset_category?1:e.asset_category<t.asset_category?-1:0}),r.assetsGrid.setOptions(function(e){subcategories=(subcategories=e.map(function(e){return e.asset_subcategory}).sort()).filter(function(e,t,i){return t==i.indexOf(e)}).map(function(e){return{asset_subcategory:e}});var e=new kendo.data.DataSource({pageSize:50,data:e,schema:{model:{id:"asset_id",fields:{discontinued:{editable:!1},asset_code:{editable:!1},cut_sheet:{editable:!1},serial_number:{editable:!1},serial_name:{editable:!1},manufacturer_description:{editable:!1},asset_description:{editable:!1},min_cost:{editable:!1},max_cost:{editable:!1},last_cost:{editable:!1},avg_cost:{editable:!1},asset_category:{editable:!1},asset_subcategory:{editable:!1},jsn_code:{editable:!1},options_code:{editable:!1},vendors_model:{editable:!1},budget_qty:{type:"number",validation:{min:0}},photo:{editable:!1},phase_description:{editable:!1},department_description:{editable:!1},unit_budget:{validation:{unitbudgetvalidation:function(e){return!e.is("[name='unit_budget']")||""==e.val()||(e.attr("data-unitbudgetvalidation-msg","Only currency values are allowed"),/^\-?[0-9]+(\.[0-9]{1,2}){0,1}$/.test(e.val()))}}}}}}}),t={groupable:!0,noRecords:"No assets available",reorderable:!0,editable:!0,columnMenu:{columns:!0,sortable:!1},selectable:r.replace?"single row":null,height:r.height},i=[{field:"asset_code",title:"Code",width:110,template:function(e){return G.GetAssetCodeLinkTemplate(e)},lockable:!1},{field:"jsn_code",title:"JSN",width:150},{field:"asset_description",title:"Description",width:250},{field:"photo",title:"Photo",width:100,filterable:!1,template:function(e){return e.photo?'<section align=center><i onmouseover="showPhoto(this)" onmouseout="hidePhoto(this)" class="material-icons">visibility</i><section align=center class="image_popover grid-column"><img src="'+w.generic("filestream","file",e.domain_id,e.photo,"photo")+'" title="picture not found"></section></section>':""}},{field:"cut_sheet",title:"Spec",width:90,template:function(e){return G.GetDownloadFileWithDomainTemplate(e.asset_id,e.domain_id,"fullcutsheet",e.cut_sheet?"images/page_attach.png":"images/page.png")},filterable:!1},{field:"serial_number",title:"Model No.",width:120},{field:"serial_name",title:"Model Name",width:140},{field:"manufacturer_description",title:"Manufacturer",width:150},{field:"discontinued",title:"Disc",width:80,filterable:!1,columnMenu:!1},{field:"asset_category",title:"Category",width:130,filterable:{multi:!0}},{field:"asset_subcategory",title:"Subcategory",width:150,filterable:{multi:!0,dataSource:new kendo.data.DataSource({data:subcategories})}},{field:"options_code",title:"Avail. Options",width:250,template:"<span style='white-space: nowrap' title='#: options_code ? options_code : '' #'>#: options_code ? options_code : '' #</span>"},{field:"vendors_model",title:"Vendor's Models",width:250,template:"<span title='#: vendors_model ? vendors_model : '' #'>#: vendors_model ? vendors_model : '' #</span>"}];r.isToGlobalTemplate||i.splice(5,0,{field:"unit_budget",title:"Budget",width:100,template:_,attributes:{class:"editable-cell"},filterable:!1},{field:"default_resp",title:"Resp",width:100,editor:y.respDropDown,attributes:{class:"editable-cell"},filterable:!1});r.replace?i.splice(10,0,{field:"min_cost",title:"Min",width:130,template:function(e){return G.GetCurrencyTemplate(e.min_cost)},hidden:!0},{field:"max_cost",title:"Max",width:130,template:function(e){return G.GetCurrencyTemplate(e.max_cost)},hidden:!0},{field:"last_cost",title:"Last",width:130,template:function(e){return G.GetCurrencyTemplate(e.last_cost)},hidden:!0},{field:"avg_cost",title:"Avg",width:130,template:function(e){return G.GetCurrencyTemplate(e.avg_cost)},hidden:!0}):i.splice(6,0,{field:"budget_qty",title:"Qty",width:80,template:"<div align=center>#: data.budget_qty ? budget_qty : 0 #</div>",attributes:{class:"editable-cell"},filterable:!1});return G.GetStructure(e,i,null,t)}(e)),p(),l=!0,v.unblockScreen("availableAssetInventory"),o()})),r.actionChanged(),s=null,r.selectedCatalog.project_id==r.params.project_id&&(r.selected_costField="source")},window.showPhoto=function(e){$(e).closest("section").children(".image_popover").children("img").show()},window.hidePhoto=function(e){$(e).closest("section").children(".image_popover").children("img").hide()},v.blockScreen("availableAssetInventory"),f.genericController.get({controller:"projects",action:"CostField",domain_id:h.getLoggedDomain(),project_id:r.params.project_id},function(e){r.default_cost_field=e.cost_field,r.favProjectOptions=[],r.projectOptions=[];var a=[];f.genericController.query({controller:"Projects",action:"All",domain_id:n.domain_id},function(e){e=e.sort(function(e,t){return e.project_description>t.project_description?1:-1}),(a=(a=a.concat(e.map(function(e){if(e.name="Project: "+e.project_description,e.status=e.status,e.project_id!=r.params.project_id&&r.isLink&&"I"==e.status||!r.isLink)return e}))).filter(function(e){return null!=e})).forEach(function(e){if(0<e.user_project_mine.length)for(var t=0;t<e.user_project_mine.length;t++)if(e.user_project_mine[t].userId===n.user_id)return void r.favProjectOptions.push(e);r.projectOptions.push(e)});var t=C.get("add-asset-inventory-catalog-option"),i=null;t&&a.forEach(function(e){t.domain_id==e.domain_id&&t.project_id==e.project_id&&(i=e)}),r.isToGlobalTemplate?r.selectedCatalog=r.catalogOptions[0]:r.isLink?(r.selectedCatalog=i,r.selectedCatalog||(r.selectedCatalog=a[0])):t?(r.selectedCatalog=t,i&&(r.selectedCatalog=i)):r.selectedCatalog=r.catalogOptions[0],r.catalogOptionChanged()},function(){m()})},function(){m()}),r.collapseExpand=G.CollapseExpand,r.searchAssets=function(i){var e,a,t;l&&(e=s||r.assetsGrid.dataSource.data(),i?(i=i.toLowerCase(),s=e,a=r.assetsGrid.columns,t=e.filter(function(e){for(var t=0;t<a.length;t++)if(!a[t].hidden&&-1<String(e[a[t].field]).toLowerCase().indexOf(i))return!0}),r.assetsGrid.dataSource.data(new kendo.data.ObservableArray(t)),0<t.length&&r.assetsGrid.dataSource.page(1)):r.assetsGrid.dataSource.data(e))},r.clearAllFilters=function(){r.searchBoxValue=null,G.ClearFilters(r.assetsGrid),r.searchAssets()},r.$watch("selected_costField",function(e,t){r.assetsGrid&&r.assetsGrid.dataSource.data(r.assetsGrid.dataSource.data()),r.selectedCostField=e})},templateUrl:"app/Directives/Elements/AvailableAssetsInventoryGrid.html"}}]);
xPlanner.directive("awCategorySettingsGrid",["GridService","WebApiService","AuthService","SettingsDropDown","$parse",function(r,o,c,s,t){return{restrict:"E",transclude:!0,scope:{selectedSettings:"=?",data:"=",notEditable:"="},link:function(a,t,e,i){null!==e.subcategory&&void 0!==e.subcategory&&(a.isSubcategory=!0),a.data=a.data||{use_category_settings:!1};var e=new kendo.data.DataSource({data:[{description:"HVAC",configuration:a.data.hvac||"E"},{description:"Plumbing",configuration:a.data.plumbing||"E"},{description:"Gases",configuration:a.data.gases||"E"},{description:"IT",configuration:a.data.it||"E"},{description:"Electrical",configuration:a.data.electrical||"E"},{description:"Support",configuration:a.data.support||"E"},{description:"Physical",configuration:a.data.physical||"E"},{description:"Environmental",configuration:a.data.environmental||"E"}],schema:{model:{fields:{description:{editable:!1}}}},change:function(t){t.action&&"itemchange"===t.action&&(a.data[t.items[0].description.toLowerCase()]=t.items[0].configuration,a.selectedSettings=a.settingsGrid.dataSource.data())}}),n=[{field:"description",title:"Description",width:"55%"},{field:"configuration",title:"Configuration",template:"#: configuration === 'E' ? 'Enabled' : configuration === 'D' ? 'Disabled' : 'Required' #",editor:s,attributes:{class:"editable-cell"},width:"45%"}];a.$watch(function(){return a.settingsGrid&&a.settingsGrid.dataSource?a.settingsGrid.dataSource.data():null},function(t){a.selectedSettings=t}),a.$watch(function(){return Object.getOwnPropertyNames(a.data).length},function(t,e){0===t&&0<e&&a.settingsGrid.dataSource.cancelChanges()},!0),a.options=r.getStructure(e,n,null,{editable:!0,height:window.innerHeight-170,filterable:!1},!1),a.EnableDisableAll=function(t){if(t&&"E"===t.toUpperCase()||"D"===t.toUpperCase()){t=t.toUpperCase();var e=a.settingsGrid.dataSource.data();if(e)for(var i=0;i<e.length;i++)e[i].configuration=t;a.settingsGrid.dataSource.data(e)}},o.genericController.query({controller:"AssetCodes",action:"All",domain_id:c.getLoggedDomain(),project_id:void 0,phase_id:void 0},function(t){a.assetCodes=t},function(){toastr.error("Error to retrieve data from server, please contact technical support")})},templateUrl:"app/Directives/Elements/CategorySettingsGrid.html"}}]);
xPlanner.directive("awComboBox",["WebApiService","$filter","$log","ProgressService","$parse",function(a,l,m,u,e){return{restrict:"A",scope:{endpoint:"@",textProperty:"@",textProperty2:"@",textPropertySeparator:"@",idProperty:"@",domainProperty:"@",selectedId:"=?",selectedDomain:"=?",selectedItem:"=?",label:"@",params:"=",controllerName:"@",queryControllerAction:"@",filterName:"@",orderBy:"@",watchObject:"=",watchedObjectId:"=",name:"@",form:"="},require:["?ngModel"],link:function(o,e,n,r){var t,c,i;function d(){var e=o.data.find(function(e){var r=e[o.idProperty],t=o.selectedId||o.selectedItem&&o.selectedItem[o.idProperty];return"string"==typeof t&&(r=e[o.idProperty].trim(),t=(o.selectedId||o.selectedItem&&o.selectedItem[o.idProperty]).trim()),r===t&&(null!=n.noDomainProperty||e[o.domainProperty]===(o.selectedDomain||o.selectedItem&&o.selectedItem[o.domainProperty]))});void 0!==e&&(e=e,o.selectedDomain=e[o.domainProperty],o.selectedId=e[o.idProperty],o.selectedText=e[o.textProperty],o.selectedItem=e)}o.isRequired=n.required,o.watchObject&&void 0===n.watchedObjectId?m.error("[audaxware combobox] watch-object property requires a parent-object-id property"):o.name?o.isRequired&&!o.form?m.error("[audaxware combobox] when using required property the form property must be informed"):(o.domainProperty=null!=n.noDomainProperty?null:o.domainProperty||"domain_id",o.data=[],t=a[o.endpoint||"genericController"],(c=angular.extend({},o.params)).controller=o.controllerName,c.action=o.queryControllerAction||"All",o.change=function(){o.selectedId=o.selectedItem[o.idProperty],o.selectedDomain=o.selectedItem[o.domainProperty]},o.$watch(function(){return!o.watchObject||o.watchedObjectId},function(e){e&&(u.blockScreen(),t.query(c,function(e){o.filterName&&(e=e.map(function(e){return e[o.textProperty]=l(o.filterName)(e[o.textProperty]),e})),o.orderBy&&(e=e.sort(function(e,r){return e[o.orderBy].toString().toLowerCase()<=r[o.orderBy].toString().toLowerCase()?-1:1})),o.data=e,d(),u.unblockScreen()},function(e){u.unblockScreen(),console.log('an error occurred on "combobox" directive')}))}),(i=r[0])&&(o.$watch(function(){return i.$invalid&&(i.$touched||i.$$parentForm&&i.$$parentForm.$submitted)},function(e){o.form&&(o.form[o.name].$error={required:e})}),o.$watch(function(){return o.selectedItem},function(e,r){e&&i.$setViewValue(e)}),e.focusout(function(){i.$untouched&&(i.$setTouched(),i.$setDirty())}))):m.error("[audaxware combobox] name property is required")},templateUrl:"app/Directives/Elements/comboBox.html"}}]);
xPlanner.directive("awContactsGrid",["GridService","AuthService","HttpService","ProgressService","toastr","DialogService","WebApiService",function(i,n,l,s,p,m,u){return{restrict:"E",scope:{data:"=",canEdit:"=",contactType:"@",params:"=",domainProperty:"@",idProperty:"@",gridHeight:"@",purchaseOrder:"="},link:function(o,e,t,c){o.gridHeight=o.gridHeight||300;var a="vendor"===o.contactType,a=angular.extend({},o.data?{data:o.data}:{transport:{read:{url:l.generic(o.contactType+"Contacts","AllWithID",o.params[o.domainProperty||"domain_id"],o.params[o.idProperty||o.contactType+"_id"],n.getLoggedDomain()),headers:{Authorization:"Bearer "+n.getAccessToken()},data:{purchaseOrderId:o.purchaseOrder&&o.purchaseOrder.po_id,purchaseOrderDomainId:o.purchaseOrder&&o.purchaseOrder.domain_id,purchaseOrderProjectId:o.purchaseOrder&&o.purchaseOrder.project_id}}}},{schema:{model:{id:a?"vendor_contact_id":"id"}}}),d={noRecords:"No contacts available",height:o.gridHeight},r=[{field:"name",title:"Name",width:150},{field:"title",title:"Title",width:150},{field:"email",title:"Email",width:150},{field:"phone",title:"Phone",width:130},{field:"mobile",title:"Mobile",width:130},{field:"fax",title:"Fax",width:130},{headerTemplate:"<div align=center><button ng-style=\"{padding: '0px', bottom: canEdit ? '4px' : '-4px', left: canEdit ? '-4px' : '0px'}\" class=\"md-icon-button md-button no-button\"><i class=\"material-icons no-button\">comment</i><div class=\"md-ripple-container\"></div><md-tooltip md-direction=\"bottom\">Comment</md-tooltip></button></div>",template:'<div ng-if=" #: comment != null # " align=center><md-icon class="no-button grid-item-color">comment</md-icon><md-tooltip md-direction="bottom">#: comment #</md-tooltip></div>',width:70}];o.canEdit&&r.splice(0,0,{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(contactsGrid)" ng-checked="allPagesSelected(contactsGrid)" aria-label="checkbox" ng-click="select($event, contactsGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, contactsGrid)" ng-checked="isSelected(contactsGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"3em"}),o.options=i.getStructure(a,r,null,d),o.dataBound=function(){var t;o.canEdit&&(t=o.contactsGrid)&&t.tbody.find("tr").dblclick(function(){var e=t.dataItem(this);o.openAddEditModal(!0,e)}),i.dataBound(o.contactsGrid)},o.canEdit&&(o.isSelected=i.isSelected,o.allSelected=i.allSelected,o.select=i.select,o.allPagesSelected=i.allPagesSelected),o.openAddEditModal=function(t,e){if(t&&!e){if(!i.verifySelected("edit","contact",o.contactsGrid,!0))return;e=i.getSelecteds(o.contactsGrid)[0]}var c=e&&(e.domain_id||e.contact_domain_id);t&&c!==n.getLoggedDomain()?p.error("It is not possible to edit this contact. It does not belong to your organization"):m.openModal("app/Contact/Modals/AddEditContact.html","AddEditContactCtrl",{type:o.contactType,contact:e,purchaseOrder:o.purchaseOrder,params:o.params,POContact:o.contactsGrid._data},!0).then(function(e){t?i.updateItems(o.contactsGrid,e):o.contactsGrid.dataSource.pushCreate(e)})},o.delete=function(){var e;i.verifySelected("delete","contact",o.contactsGrid)&&(o.purchaseOrder?(e=i.getSelecteds(o.contactsGrid),u.genericController.save({controller:"PurchaseOrders",action:"RemoveVendorContacts",domain_id:o.purchaseOrder.domain_id,project_id:o.purchaseOrder.project_id,phase_id:o.purchaseOrder.po_id},e,function(){angular.forEach(e,function(e){i.RemoveItem(o.contactsGrid,e)}),s.unblockScreen(),p.success("Contact(s) removed")},function(){s.unblockScreen(),p.error("Error to remove contact(s), please contact the technical support")})):m.Confirm("Are you sure?","The contact(s) will be deleted permanently").then(function(){s.blockScreen(),i.deleteItems(u.genericController,function(e){return{controller:o.contactType+"Contacts",action:"Item",domain_id:e[o.contactType+"_domain_id"],project_id:e[o.contactType+"_id"],phase_id:n.getLoggedDomain(),department_id:e.name}},o.contactsGrid,null,!0).then(function(e){s.unblockScreen(),p.success("Contact(s) Deleted")},function(){p.error("Error to delete contact(s), please contact the technical support"),s.unblockScreen()}),i.unselectAll(o.contactsGrid)}))}},templateUrl:"app/Directives/Elements/ContactsGrid.html"}}]);
xPlanner.directive("awCurrency",["$interpolate",function(e){return{link:function(e,n,r,t,l){0!=e.value&&!e.value||(e.valueView=kendo.toString(Number(e.value),"n2"))},restrict:"E",scope:{value:"="},templateUrl:"app/Directives/Elements/currency.html"}}]);
xPlanner.directive("downloadFile",["$http",function(e){return{restrict:"E",templateUrl:"app/Directives/Elements/downloadFile.html",scope:{url:"@",filename:"@"},transclude:!0,link:function(e,t,n,i,l){l(e.$parent,function(e,n){t.find("a").append(e)})}}}]);
xPlanner.directive("awInputMoney",[function(){return{restrict:"E",scope:{ngModel:"="},link:function(n,e,l,o){n.focus=function(){n.ngModel&&"string"==typeof n.ngModel&&(n.ngModel=n.ngModel.replace(/\$\s*/g,""))},n.blur=function(){null!==n.ngModel&&void 0!==n.ngModel&&(n.ngModel="$"+n.ngModel,-1==n.ngModel.indexOf("."))&&(n.ngModel=n.ngModel+".00")}},templateUrl:"app/Directives/Elements/inputMoney.html"}}]);

xPlanner.directive("awJsnForm",["AuthService","WebApiService",function(t,c){return{restrict:"E",transclude:!0,scope:{asset:"=",new:"@",name:"=",inventoryEditing:"@"},link:function(i,e,o,d){var n=angular.copy(i.asset);i.controllerParamsCode={domain_id:t.getLoggedDomain()},i.utility1=[{code:"N/A",description:"N/A"},{code:"A",description:"Hot and cold water"},{code:"B",description:"Cold water and drain"},{code:"C",description:"Hot water and drain"},{code:"D",description:"Cold and hot water and drain"},{code:"E",description:"Treated water and drain"},{code:"F",description:"Cold, hot and treated water and drain"},{code:"G",description:"Cold and treated water and drain"},{code:"H",description:"Hot and treated water and drain"},{code:"I",description:"Drain only"},{code:"J",description:"Cold water only"}],i.utility2=[{code:"N/A",description:"N/A"},{code:"A",description:"120 volt, conventional outlet"},{code:"B",description:"120 volt, special outlet"},{code:"C",description:"208/220 volt"},{code:"D",description:"120 and 208/220 volt"},{code:"E",description:"440 volt, 3 phase"},{code:"F",description:"Special electrical requirements (includes, but is not limited to emergency power, multiple power connections, etc.)"},{code:"G",description:"208/220 volt, 3 phase"}],i.utility3=[{code:"N/A",description:"N/A"},{code:"A",description:"Oxygen"},{code:"B",description:"Vacuum"},{code:"C",description:"Air, low pressure (dental or non-medical)"},{code:"D",description:"Air, high pressure (dental or non-medical)"},{code:"E",description:"Oxygen and medical air"},{code:"H",description:"Oxygen, vacuum and medical air"},{code:"J",description:"Vacuum and HP air"},{code:"K",description:"Medical air"}],i.utility4=[{code:"N/A",description:"N/A"},{code:"A",description:"Steam"},{code:"B",description:"Nitrogen gas"},{code:"C",description:"Nitrous oxide"},{code:"D",description:"Nitrogen and nitrous oxide gas"},{code:"E",description:"Carbon dioxide gas"},{code:"F",description:"Liquid carbon dioxide"},{code:"G",description:"Liquid nitrogen"},{code:"H",description:"Instrument Air"}],i.utility5=[{code:"N/A",description:"N/A"},{code:"A",description:"Natural gas"},{code:"B",description:"Liquid propane gas"},{code:"C",description:"Methane"},{code:"D",description:"Butane"},{code:"E",description:"Propane"},{code:"F",description:"Hydrogen gas"},{code:"G",description:"Reserved"},{code:"H",description:"Acetylene gas"}],i.utility6=[{code:"N/A",description:"N/A"},{code:"A",description:"Earth ground"},{code:"B",description:"Lead lined walls"},{code:"C",description:"Remote alarm ground"},{code:"D",description:"Empty conduit with pull cord"},{code:"E",description:"Vent to atmosphere"},{code:"F",description:"Special gas requirements"},{code:"G",description:"Lead lined walls; empty conduit with pull cord"},{code:"H",description:"RF/Magnetic shielding"},{code:"J",description:"Wall/ceiling support required"},{code:"K",description:"Empty conduit/pull cord & wall/ceiling support required"},{code:"L",description:"Wall/ceiling support required; CAT 6 wire to nearest Telecommunications room"},{code:"M",description:"Earth ground and wall/ceiling support required"},{code:"P",description:"Lead lined walls and wall/ceiling support required"},{code:"T",description:"CAT 6 wire to nearest Telecommunications Room"}],c.genericController.query({controller:"jsn",action:"All",domain_id:t.getLoggedDomain()},function(e){i.anotherJSN=e.filter(function(e){return e.domain_id==t.getLoggedDomain()}).map(function(e){return e.jsn_code})}),i.inventoryEditing&&(i.new=!0),i.toggleLock=function(){i.asset.jsn.jsn_ow=!i.asset.jsn.jsn_ow,i.asset.jsn.jsn_ow||(i.jsnForm.$pristine=!0,i.asset=angular.copy(n),i.asset.jsn.jsn_ow=!1)}},templateUrl:"app/Directives/Elements/jsnForm.html"}}]);
xPlanner.directive("awLocationsGrid",["GridService","HttpService","AuthService","ProgressService","toastr","KendoGridService",function(s,p,u,m,h,g){return{restrict:"E",scope:{params:"=",selecteds:"=",height:"=",selectAll:"=",notLinkedOnly:"="},link:function(t,e,o,i){t.gridHeight=t.height||window.innerHeight-168;var r,a="locationsGrid",n=!1,l=new kendo.data.DataSource({transport:{read:{url:p.treeview_projects(t.notLinkedOnly?"notLinkedRooms":"locationsTable",u.getLoggedDomain(),t.params.project_id,t.params.phase_id,t.params.department_id,t.params.room_id),headers:{Authorization:"Bearer "+u.getAccessToken()}}},schema:{model:{id:"id"},parse:function(e){return e.map(function(e){return e.id=e.domain_id.toString()+e.project_id.toString()+e.phase_id.toString()+e.department_id.toString()+e.room_id.toString(),e})}},error:function(){m.unblockScreen(),h.error("Error to retrieve locations from server, please contact technical support")},change:function(){m.unblockScreen()}}),d=[{headerTemplate:g.GetSelectAllTemplate(a),template:function(e){return g.GetSelectRowTemplate(e.id)},width:"4em"},{field:"phase_desc",title:"Phase"},{field:"department_desc",title:"Department"},{field:"room_desc",title:"Room"}],c={reorderable:!0,groupable:!0,noRecords:t.notLinkedOnly?"No locations available (the rooms linked to any template are not displayed because the user cannot modified it inventory)":"No locations available",height:t.gridHeight};t.locationsGrid=$("#locationGrid").kendoGrid(angular.extend({},{dataBound:function(){g.DataBound(t.locationsGrid),(t.params.room_id||t.selectAll)&&(g.SelectAll(t.locationsGrid,null,!0),t.selecteds=g.GetSelecteds(t.locationsGrid),t.$apply()),n=!0}},s.getStructure(l,d,null,c,!1))).data("kendoGrid"),t.locationsGrid.table.on("click",".k-checkbox",{grid:t.locationsGrid,grid_name:a},function(e){g.SelectRow(e,this),t.selecteds=g.GetSelecteds(t.locationsGrid),t.$apply()}),$("#select-all-"+a).on("change",{grid:t.locationsGrid},function(e){g.SelectAllChange(e),t.selecteds=g.GetSelecteds(t.locationsGrid),t.$apply()}),t.collapseExpand=g.CollapseExpand,t.searchLocations=function(o){var i,e;n&&(e=r||t.locationsGrid.dataSource.data(),o?(o=o.toLowerCase(),r=e,i=t.locationsGrid.columns,e=e.filter(function(e){for(var t=1;t<i.length;t++)if(!i[t].hidden&&-1<String(e[i[t].field]).toLowerCase().indexOf(o))return!0}),t.locationsGrid.dataSource.data(e),0<e.length&&t.locationsGrid.dataSource.page(1)):t.locationsGrid.dataSource.data(r))},t.clearAllFilters=function(){t.searchBoxValue=null,g.ClearFilters(t.locationsGrid),t.searchLocations()}},templateUrl:"app/Directives/Elements/locationsGrid.html"}}]);
xPlanner.directive("awPoVendorContact",["WebApiService",function(e){return{restrict:"E",scope:{data:"="},link:function(e,t,n,r){},templateUrl:"app/Directives/Elements/POVendorContact.html"}}]);
xPlanner.directive("awProcurement",["WebApiService","ProgressService","AuthService",function(e,t,c){return{restrict:"E",transclude:!0,scope:{data:"=",columnName:"@",projectLevel:"=",title:"@",size:"@",infoMessage:"@",readonly:"@",costs:"="},link:function(s,e,t,c){s.$watch(function(){return s.data},function(e){s.size=s.size||100,s.readonly=s.readonly||!1;var t,c,r=s.data;r&&r.project_id&&-1!=r.project_id&&(r=0,null!=s.costs?(null==s.costs.actual&&(s.costs.actual="0"),null==s.costs.projected&&(s.costs.projected="0"),t=parseInt(s.costs.actual.replace("$","").replace(new RegExp(",","g"),"")),c=parseInt(s.costs.projected.replace("$","").replace(new RegExp(",","g"),"")),r=100*t/c):s.costs={actual:"$0.00",projected:"$0.00",planned:"$0.00",delta:"$0.00",budget:"$0.00"},s.progress_cost=r)})},templateUrl:"app/Directives/Elements/procurement.html"}}]);
xPlanner.directive("awAutocompleteValidate",["$mdUtil","$parse",function(e,r){return{restrict:"A",require:["^mdInputContainer","ngModel"],link:function(e,t,n,a){var o=a[1],u=a[0];u&&o&&(r(n.mdSelectedItem)(e),t.addClass("aw-autocomplete-validate"),a=u.isErrorGetter||function(){return o.$invalid&&(o.$touched||o.$$parentForm&&o.$$parentForm.$submitted)},e.$watch(a,function(e){u.setInvalid(e)}),e.$watch(function(){return r(n.mdSelectedItem)(e)},function(e,t){!e!=!t&&u.element.toggleClass("md-input-has-value"),o.$setViewValue(e)}),t.focusout(function(){u&&o.$untouched&&(o.$setTouched(),o.$setDirty())}),e.$on("$destroy",function(){u.element.removeClass("aw-autocomplete"),u.element.removeClass("md-input-has-value")}))}}}]);
xPlanner.directive("awCurrency",function(){return{link:function(r,e,n,t){var i;t&&(i=function(r){var e=!0;return r&&(1<r.length||"$"!=r)&&(e=/^[-]?[\$]?([0-9]{1,3},)*[0-9]+(\.[0-9]{1,2}){0,1}$/.test(r)),t.$setValidity("currency",e),r},t.$parsers.unshift(i),t.$formatters.push(i),n.$observe("awCurrency",function(){i(t.$viewValue)}))},restrict:"A",require:"?ngModel"}});
xPlanner.directive("awExists",["$parse",function(a){return{link:function(i,e,s,o){var r;o&&(r=function(e){var r=a(s.awExists)(i)||[];if(v=!0,e&&i.sensitivity)for(var t=0;t<r.length;t++){if(i.property&&r[t][i.property]===e){v=!1;break}if(!i.property&&r[t]===e){v=!1;break}}else if(e)for(t=0;t<r.length;t++){if(i.property&&r[t][i.property].toLowerCase()===e.toLowerCase()){v=!1;break}if(!i.property&&r[t].toLowerCase()===e.toLowerCase()){v=!1;break}}return o.$setValidity("exists",v),e},o.$parsers.unshift(r),o.$formatters.push(r),s.$observe("awExists",function(){r(o.$viewValue)}))},restrict:"A",require:"?ngModel",scope:{property:"@",sensitivity:"="}}}]);
xPlanner.directive("awLessThan",["$parse",function(t){return{link:function(n,e,s,r){var a;r&&s.awLessThan&&(a=function(e){var a=t(s.awLessThan)(n);return r.$setValidity("less-than",e<a||n.allowEqual&&e==a),e},r.$parsers.unshift(a),r.$formatters.push(a),s.$observe("awLessThan",function(){a(r.$viewValue)}))},restrict:"A",require:"?ngModel",scope:{allowEqual:"="}}}]);
xPlanner.directive("awMatch",["$parse",function(c){return{link:function(a,t,r,e){var n,i;e&&r.awMatch&&(n=c(r.awMatch),i=function(t){var r=n(a);return e.$setValidity("match",t===r),t},e.$parsers.unshift(i),e.$formatters.push(i),r.$observe("awMatch",function(){i(e.$viewValue)}))},restrict:"A",require:"?ngModel"}}]);
xPlanner.directive("awNumeric",["$parse",function(c){return{link:function(e,i,r,t){var n,u,a;t&&(r.awNumeric&&(n=(n=c(r.awNumeric))(e)),e=null!=r.positive,u=null!=r.negative?"\\-"+(e?"?":""):e?"":"\\-?",a=function(e){var i=new RegExp("^"+u+"[0-9]+(.[0-9]"+(n?"{1,"+n+"})":"+)")+"?$"),r=!0;return e&&!(r=i.test(e))&&n?(r=(i=/^[0-9]+(\.[0-9]+)?$/).test(e),t.$setValidity("numeric",r),t.$setValidity("numeric-decimal",!r)):(t.$setValidity("numeric-decimal",!0),t.$setValidity("numeric",r)),e},t.$parsers.unshift(a),t.$formatters.push(a),r.$observe("awNumeric",function(){a(t.$viewValue)}))},restrict:"A",require:"?ngModel"}}]);
xPlanner.directive("awNumericVariable",["$parse",function(u){return{link:function(e,i,r,a){var t,n,l;a&&(r.awNumeric&&(t=(t=u(r.awNumeric))(e)),e=null!=r.positive,n=null!=r.negative?"\\-"+(e?"?":""):e?"":"\\-?",l=function(e){var i=new RegExp("^"+n+"[0-9]+(.[0-9]"+(t?"{1,"+t+"})":"+)")+"?$"),r=!0;return e&&!(r=i.test(e)||"Variable"==e)&&t?(r=(i=new RegExp("^"+n+"[0-9]+(.[0-9]+)?$")).test(e),a.$setValidity("numeric-variable",r),a.$setValidity("numeric-variable-decimal",!r)):(a.$setValidity("numeric-variable-decimal",!0),a.$setValidity("numeric-variable",r)),e},a.$parsers.unshift(l),a.$formatters.push(l),r.$observe("awNumericVariable",function(){l(a.$viewValue)}))},restrict:"A",require:"?ngModel"}}]);
xPlanner.directive("awOnlyNumbers",function(){return{link:function(e,r,n,t){var i;t&&(i=function(e){var r=!0;return e&&(r=!/[^0-9]/g.test(e)),t.$setValidity("number",r),e},t.$parsers.unshift(i),t.$formatters.push(i),n.$observe("awOnlyNumbers",function(){i(t.$viewValue)}))},restrict:"A",require:"?ngModel"}});
xPlanner.directive("awOnlyNumbersAndLetters",function(){return{link:function(e,r,t,n){var i;n&&(i=function(e){var r=!0;return e&&(r=!/[^A-Za-z0-9\-\_ ]/g.test(e)),n.$setValidity("number-and-letter",r),e},n.$parsers.unshift(i),n.$formatters.push(i),t.$observe("awOnlyNumbersAndLetters",function(){i(n.$viewValue)}))},restrict:"A",require:"?ngModel"}});
xPlanner.directive("awOnlyNumbersNotZero",function(){return{link:function(e,r,t,n){var i;n&&(i=function(e){var r=!0;return e&&(r=!/[^0-9]/g.test(e)),n.$setValidity("numberNotZero",r=1==r&&0==e?!1:r),e},n.$parsers.unshift(i),n.$formatters.push(i),t.$observe("awOnlyNumbersNotZero",function(){i(n.$viewValue)}))},restrict:"A",require:"?ngModel"}});
xPlanner.directive("awPassword",["$parse",function(e){return{link:function(e,r,t,s){var n,a;s&&(n=!1,a=function(e){return n=!1,(reg=/[a-z]/).test(e)&&(reg=/[A-Z]/).test(e)&&(reg=/[0-9]/).test(e)&&(reg=/[^a-zA-Z0-9\s]/,n=reg.test(e)),s.$setValidity("password",n),e},s.$parsers.unshift(a),s.$formatters.push(a),t.$observe("awPassword",function(){a(s.$viewValue)}))},restrict:"A",require:"?ngModel"}}]);
xPlanner.directive("awUploadFileSize",["$parse",function(l){return{link:function(n,e,r,a){var t,i;a&&(t=!1,void 0!==r.firefox&&e.bind("change",function(e){e=e.target.files;0<e.length?i(e[0]):i()}),i=function(e){var i=1048576*(i=l(r.awUploadFileSize))(n);return t=!e||e.size<=(i||7340032),a.$setValidity("awUploadFileSize",t),e},a.$parsers.unshift(i),a.$formatters.push(i),r.$observe("awUploadFileSize",function(){i(a.$viewValue)}))},restrict:"A",require:"?ngModel"}}]);
xPlanner.directive("awValidDate",function(){return{link:function(t,e,n,r){var i;r&&(i=function(t){var e,n=!0;return t&&(e="string"==typeof t?t:"object"==typeof t&&t.getMonth?t.getMonth()+1+"/"+t.getDate()+"/"+t.getFullYear():null)&&(n=/(0?[1-9]|1[012])[- /.](0?[1-9]|[12][0-9]|3[01])[- /.](19|20)\d\d/.test(e.substring(0,10))),r.$setValidity("valid-date",n),t},r.$parsers.unshift(i),r.$formatters.push(i),n.$observe("awValidDate",function(){i(r.$viewValue)}))},restrict:"A",require:"?ngModel"}});
xPlanner.controller("AddManufacturerCtrl",["$scope","WebApiService","AuthService","$mdDialog","toastr","ProgressService",function(n,e,t,a,o,c){var u=[];e.genericController.query({controller:"manufacturer",action:"All",domain_id:t.getLoggedDomain()},function(e){n.anotherManufacturers=e.filter(function(e){return e.domain_id==t.getLoggedDomain()}).map(function(e){return e.manufacturer_description})}),n.add=function(r){n.addManufacturerForm.$setSubmitted(),n.addManufacturerForm.$valid?(c.blockScreen(),e.genericController.save({controller:"manufacturer",action:"Item",domain_id:t.getLoggedDomain()},n.manufacturer,function(e){o.success("Manufacturer Added"),n.manufacturer={},n.addManufacturerForm.$setUntouched(),n.addManufacturerForm.$setPristine(),u.push(e),c.unblockScreen(),r&&a.hide(u)},function(e){c.unblockScreen(),o.error("Error to try add manufacturer, please contact the technical support")})):o.error("Please make sure you enter correctly all the fields")},n.close=function(){0<u.length?a.hide(u):a.cancel()}}]);
xPlanner.controller("AddPOAsset",["$scope","GridService","AuthService","HttpService","toastr","$mdDialog","$mdMedia","WebApiService","local","ProgressService",function(a,r,e,t,d,i,s,o,l,c){a.show_unapproved=!0;e=new kendo.data.DataSource({pageSize:50,schema:{model:{id:"asset_id",fields:{asset_code:{editable:!1},asset_description:{editable:!1},jsn_code:{editable:!1},serial_number:{editable:!1},serial_name:{editable:!1},manufacturer_description:{editable:!1},budget_qty:{editable:!1},total_budget_amt:{editable:!1},po_qty:{type:"number",validation:{min:1}}}}},transport:{read:{url:t.available_po_assets(l.params.domain_id,l.params.project_id,l.params.phase_id,l.params.department_id,l.params.room_id,a.show_unapproved),headers:{Authorization:"Bearer "+e.getAccessToken()}}},error:function(){d.error("Error to retrieve data from server, please contact technical support")},requestEnd:function(e){if(e.response)for(var t=e.response,a=0;a<t.length;a++)t[a].po_qty=t[a].budget_qty}});a.gridHeight=window.innerHeight-(s("gt-sm")?125:140),a.options=r.getStructure(e,[{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(assetsGrid)" ng-checked="allPagesSelected(assetsGrid)" aria-label="checkbox" ng-click="select($event, assetsGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, assetsGrid, dataItem)" ng-checked="isSelected(assetsGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"3em"},{field:"asset_code",title:"Code",width:120},{field:"asset_description",title:"Name",width:250},{field:"jsn_code",title:"JSN",width:120},{field:"manufacturer_description",title:"Manufacturer",width:200},{field:"serial_number",title:"Model Number",width:150},{field:"serial_name",title:"Model Name",width:150},{field:"budget_qty",title:"Planned Qty",width:150,template:"<div align=center>#: budget_qty #</div>"},{field:"total_budget_amt",title:"Budget Amt",width:130,template:'<aw-currency value="#: total_budget_amt # "></aw-currency>'},{field:"po_qty",title:"PO Qty",width:80,template:"#= data.po_qty ? po_qty : 0 #",template:"<div align=center>#: po_qty || 1 #</div>",attributes:{class:"editable-cell"},filterable:!1}],null,{noRecords:"No assets available to be assigned",height:a.gridHeight,editable:!0}),a.isSelected=r.isSelected,a.allSelected=r.allSelected,a.allPagesSelected=r.allPagesSelected,a.dataBound=r.dataBound,a.select=function(e,t,a){null!=a&&1<a.room_count?d.error("It is not possible to select this item because has room count > 1"):1==a?(r.select(e,t,!0),t.selecteds=t.selecteds.filter(function(e){return 1==e.room_count})):r.select(e,t)},a.changeGrid=function(){c.blockScreen(),a.assetsGrid.dataSource.options.transport.read.url=t.available_po_assets(l.params.domain_id,l.params.project_id,l.params.phase_id,l.params.department_id,l.params.room_id,a.show_unapproved),a.assetsGrid.dataSource.read(),a.assetsGrid.refresh(),c.unblockScreen()},a.close=function(){i.cancel()},a.add=function(){if(r.verifySelected("add","asset",a.assetsGrid)){c.blockScreen();for(var e=r.getSelecteds(a.assetsGrid),t=0;t<e.length;t++){if(e[t].po_qty>e[t].budget_qty){d.error("Purchase Order qty cannot be more than Planned qty");break}e[t].po_qty=e[t].po_qty||1,e[t].po_id=l.params.po_id,e[t].domain_id=l.params.domain_id}t===e.length&&o.genericController.save({controller:"InventoryPurchaseOrder",action:"Item",domain_id:l.params.domain_id,project_id:l.params.project_id,phase_id:l.params.po_id},e,function(){d.success("Assets added"),c.unblockScreen(),i.hide()},function(){d.error("Error to add one or more assets, please contact the technical support"),c.unblockScreen()})}}}]);
xPlanner.controller("AddPOCtrl",["$scope","AuthService","$mdDialog","toastr","WebApiService","local","ProgressService",function(e,r,o,a,d,t,c){e.vendorCtrlParams={domain_id:r.getLoggedDomain()},e.data={project_id:t.params.project_id,phase_id:t.params.phase_id,department_id:t.params.department_id,room_id:t.params.room_id},e.add=function(){e.addPOForm.$setSubmitted(),e.addPOForm.$valid?(c.blockScreen(),d.genericController.save({controller:"PurchaseOrders",action:"Item",domain_id:r.getLoggedDomain(),project_id:t.params.project_id},e.data,function(e){a.success("Purchase Order Added"),c.unblockScreen(),o.hide(e)},function(){a.error("Error to add purchase order, please contact the technical support"),c.unblockScreen()})):a.error("Please make sure you enter all the required fields")},e.close=function(){o.cancel()}}]);
xPlanner.controller("ExpiratedQuotePOsCtr",["$scope","$mdDialog","local","GridService","$mdMedia",function(e,t,i,d,o){e.largeMedia=o("gt-sm"),e.gridHeight=440;o={data:i.pos};e.options=d.getStructure(o,[{field:"project_description",title:"Project",width:"120px"},{field:"phase_description",title:"Phase",width:"120px"},{field:"department_description",title:"Department",width:"120px"},{field:"room_description",title:"Room",width:"120px"},{field:"po_description",title:"PO Description",width:"120px"},{field:"expiration_date",title:"Expiration Date",width:"120px",template:"#: expiration_date ? kendo.toString(kendo.parseDate(expiration_date), \"yyyy/MM/dd\") : '' #"},{field:"vendor_name",title:"Vendor",width:"120px"}],null,{reorderable:!0,groupable:!0,height:e.gridHeight}),e.dataBound=d.dataBound,e.close=function(){t.hide()}}]);
xPlanner.controller("ReceivePOCtrl",["$scope","$mdDialog","ProgressService","WebApiService","toastr","local",function(e,r,o,c,i,t){e.po={po_requested_date:t.po.po_requested_date},e.save=function(){e.receivePOForm.$setSubmitted(),e.receivePOForm.po_received_date.$setTouched(),e.receivePOForm.$valid?(o.blockScreen(),c.genericController.update({controller:"PurchaseOrders",action:"ReceivePO",domain_id:t.po.domain_id,project_id:t.po.project_id,phase_id:t.po.po_id},e.po,function(e){i.success("PO Received"),o.unblockScreen(),r.hide(e)},function(){i.error("Error to try receive PO, please contact the technical support"),o.unblockScreen()})):i.error("Please make sure you entered all the required fields")},e.close=function(){r.cancel()}}]);
xPlanner.controller("ReceiveQuoteCtrl",["$scope","$mdDialog","local","WebApiService","ProgressService","toastr",function(e,o,r,t,c,i){e.po={quote_requested_date:new Date(r.po.quote_requested_date),quote_amount:0},e.save=function(){e.receiveQuoteForm.$setSubmitted(),e.receiveQuoteForm.quote_received_date.$setTouched(),e.receiveQuoteForm.$valid?(c.blockScreen(),t.genericController.update({controller:"PurchaseOrders",action:"ReceiveQuote",domain_id:r.po.domain_id,project_id:r.po.project_id,phase_id:r.po.po_id},e.po,function(e){i.success("Quote received"),c.unblockScreen(),o.hide(e)},function(){i.error("Error to try receive quote, please contact the technical support"),c.unblockScreen()})):i.error("Please make sure you entered correctly all the fields")},e.close=function(){o.cancel()}}]);
xPlanner.controller("RequestPOQuoteCtrl",["$scope","$mdDialog","toastr","local","ProgressService","WebApiService",function(e,t,o,r,c,n){e.type=r.type.toLowerCase(),e.po={date:null},e.minDate="po"===e.type&&r.po.quote_received_date?new Date(r.po.quote_received_date):new Date(0,0,0),e.save=function(){e.requestPOForm.$setSubmitted(),e.requestPOForm.requested_date.$setTouched(),e.requestPOForm.$valid?(c.blockScreen(),e.po[e.type+"_requested_date"]=e.po.date,n.genericController.update({controller:"PurchaseOrders",action:"Request"+r.type,domain_id:r.po.domain_id,project_id:r.po.project_id,phase_id:r.po.po_id},e.po,function(e){o.success(r.type+" requested"),c.unblockScreen(),t.hide(e)},function(){o.error("Error to try request PO, please contact the technical support"),c.unblockScreen()})):o.error("Please make sure you enter all the required fields")},e.close=function(){t.cancel()}}]);
xPlanner.controller("UploadPOFilesCtrl",["$scope","$mdDialog","toastr","$q","AuthService","HttpService","Upload","ProgressService","local","WebApiService",function($scope,$mdDialog,toastr,$q,AuthService,HttpService,Upload,ProgressService,local,WebApiService){$scope.files={},$scope.show_firefox=!1,-1!=navigator.userAgent.indexOf("Firefox")&&($scope.show_firefox=!0),WebApiService.genericController.get({controller:"filestream",action:"MaxFileSize",domain_id:1},function(e){$scope.fileSizeLimit=e.text},function(){$scope.fileSizeLimit=4}),$scope.save=function(){if($scope.uploadForm.$setSubmitted(),$scope.uploadForm.$valid){var validated=!0,quote=document.getElementById("quoteF").files,po=document.getElementById("poF").files;if($scope.show_firefox?0==quote.length&&0==po.length?(validated=!1,toastr.error("Choose at least one file to upload")):!local.params.po_number&&0<po.length?(validated=!1,toastr.error("In order to upload a PO file you need to Receive PO first.")):!local.params.quote_number&&0<quote.length&&(validated=!1,toastr.error("In order to upload a Quote file you need to Receive Quote first.")):$scope.files.quote||$scope.files.po?!local.params.po_number&&$scope.files.po?(validated=!1,toastr.error("In order to upload a PO file you need to Receive PO first.")):!local.params.quote_number&&$scope.files.quote&&(validated=!1,toastr.error("In order to upload a Quote file you need to Receive Quote first.")):(validated=!1,toastr.error("Choose at least one file to upload")),validated){$scope.uploadForm.$setSubmitted();for(var file_names=[],file_names_msg=[],database_names=[],extensions=[],file_names_full=["quote","po"],database_names_full=["quote","po"],extensions_full=["pdf","pdf"],i=0,arr_extension,extension,arr_extension,extension;i<file_names_full.length;i++){$scope.show_firefox?0<eval(file_names_full[i]+".length")&&(arr_extension=eval(file_names_full[i]+'[0].name.split(".")'),extension=arr_extension[arr_extension.length-1].toLowerCase(),0<=extensions_full[i].indexOf(extension,0))&&(file_names.push(file_names_full[i]),file_names_msg.push(file_names_full[i]),database_names.push(database_names_full[i]),extensions.push(extension)):null!=eval("$scope.files."+file_names_full[i])&&(arr_extension=eval("$scope.files."+file_names_full[i]+'.name.split(".")'),extension=arr_extension[arr_extension.length-1].toLowerCase(),0<=extensions_full[i].indexOf(extension,0))&&(file_names.push("$scope.files."+file_names_full[i]),file_names_msg.push(file_names_full[i]),database_names.push(database_names_full[i]),extensions.push(extension))}0<file_names.length&&(ProgressService.blockScreen(),Upload.upload({url:HttpService.file_stream("upload",local.params.domain_id,local.params.project_id,local.params.po_id+"."+extensions[0],database_names[0],file_names_msg[0]),data:{file:eval(file_names[0])}}).then(function(data){toastr.success(file_names_msg[0]+" file Added"),1<file_names.length?Upload.upload({url:HttpService.file_stream("upload",local.params.domain_id,local.params.project_id,local.params.po_id+"."+extensions[1],database_names[1],file_names_msg[1]),data:{file:eval(file_names[1])}}).then(function(e){toastr.success(file_names_msg[1]+" file Added"),ProgressService.unblockScreen(),$mdDialog.hide($scope.files)},function(e){e=e&&e.data&&e.data.errorMessage;ProgressService.unblockScreen(),toastr.error("Error trying to add "+file_names_msg[1]+" file, "+(e||"please contact technical support"))}):($mdDialog.hide($scope.files),ProgressService.unblockScreen())},function(e){e=e&&e.data&&e.data.errorMessage;toastr.error("Error trying to add "+file_names_msg[0]+" file, "+(e||"please contact technical support"))}))}}else toastr.error("Please make sure no file exceeds the limit size")},$scope.close=function(){$mdDialog.cancel()}}]);
xPlanner.controller("AddressesGridCtrl",["$scope","AuthService","HttpService","WebApiService","GridService","DialogService","ProgressService","toastr",function(a,o,e,c,l,n,d,u){a.isNotViewer="3"!=o.getLoggedUserType();var t={template:'<section layout="row" ng-cloak ng-if="'+a.isNotViewer+'"><section layout="row" layout-align="start center"  class="gray-color"><button class="md-icon-button md-button" ng-click="openAddEditModal()"><i class="material-icons">add</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Add New Address</md-tooltip></button><button class="md-icon-button md-button" ng-click="openAddEditModal(true)"><i class="material-icons">edit</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Edit Address</md-tooltip></button><button class="md-icon-button md-button" ng-click="delete()"><i class="material-icons">delete</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Delete Addresses</md-tooltip></button></section></section>'},e={transport:{read:{url:e.project_addresses("All",o.getLoggedDomain(),a.params.project_id),headers:{Authorization:"Bearer "+o.getAccessToken()}}},schema:{model:{id:"id"}}};function s(d){d&&d.tbody.find("tr").dblclick(function(){var e=d.dataItem(this);a.openAddEditModal(!0,e)})}function p(){if("3"==o.getLoggedUserType())n.ViewersChangesModal();else{if("L"!=o.getProjectStatus(a.params.project_id))return 1;n.LockedProjectModal()}}a.options=l.getStructure(e,[{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(addressesGrid)" ng-checked="allPagesSelected(addressesGrid)" aria-label="checkbox" ng-click="select($event, addressesGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, addressesGrid)" ng-checked="isSelected(addressesGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"3em"},{field:"nickname",title:"Nickname",width:120},{field:"description",title:"Description",width:150},{field:"address1",title:"Address1",width:200},{field:"address2",title:"Address2",width:120},{field:"city",title:"City",width:100},{field:"state",title:"State",width:95},{field:"zip",title:"Zip",width:100},{field:"is_default",title:"Default",template:'#= is_default ?  \'<span layout="row" layout-align="center center"><i class="material-icons no-button" style="color: green;">check</i></span>\' : \'\' #',filterable:!1,width:75}],t,{groupable:!0,noRecords:"No addresses available",height:370}),a.dataBound=function(){s(a.addressesGrid),l.dataBound(a.addressesGrid)},a.$on("kendoWidgetCreated",function(e,d){d===a.addressesGrid&&s(a.addressesGrid)}),a.isSelected=l.isSelected,a.allSelected=l.allSelected,a.select=l.select,a.allPagesSelected=l.allPagesSelected,a.openAddEditModal=function(e,t){if(p()){var d,s="save";if(e){if(!t&&!l.verifySelected("edit","address",a.addressesGrid,!0))return;s="update",t=t||l.getSelecteds(a.addressesGrid)[0]}"update"===s&&(d=t.id);var i={action:"Item",project_id:a.params.project_id,domain_id:o.getLoggedDomain(),id:d},r=angular.copy(a.addressesGrid.dataSource.data());n.openModal("app/Projects/Addresses/Modals/AddEditAddress.html","AddEditAddressCtrl",{items:r,params:i,address:t},!0).then(function(d){c.project_address[s](i,d,function(e){d.is_default&&0<r.length&&a.addressesGrid.dataSource.data(r.map(function(e){return e.id==d.id?e.is_default=!0:e.is_default=!1,e})),t?(l.updateItems(a.addressesGrid,d),u.success("Address Updated")):(0==r.length&&(e.is_default=!0),l.addItem(a.addressesGrid,JSON.parse(JSON.stringify(e))),u.success("Address Saved"))},function(){u.error("Erro to save address, please contact technical support")})})}},a.delete=function(){p()&&l.verifySelected("delete","address",a.addressesGrid)&&n.Confirm("Are you sure?","The addresses will be deleted permanently!").then(function(){d.blockScreen(),l.deleteItems(c.project_address,function(e){return{action:"Item",domain_id:e.domain_id,project_id:e.project_id,id:e.id}},a.addressesGrid).then(function(){d.unblockScreen(),u.success("Addresses Deleted!")},function(e){d.unblockScreen(),409===e.status?u.info("Some, or all, of the selected addresses could not be deleted because it's assigned to purchase orders"):u.error("Error to try delete addresses, please contact the technical support")}),l.unselectAll(a.addressesGrid)})}}]);
xPlanner.controller("AssetsMainCtrl",["$scope","$stateParams","WebApiService","AuthService",function(o,e,t,n){o.$emit("detailsParams",angular.copy(e)),o.params=e,o.emitButtons=function(e){o.buttons=e},o.params.room_id?t.genericController.get(angular.extend({controller:"rooms",action:"Item",domain_id:n.getLoggedDomain()},o.params),function(e){o.linked_room=1==e.linked_template}):o.linked_room=!1}]);
xPlanner.controller("ConnectivityTabCtrl",["$scope","GridService","AuthService","HttpService","WebApiService","ProgressService","DialogService","toastr","$stateParams",function(t,n,i,e,o,c,d,l,r){t.gridHeight=350;var s=angular.copy(r),r=(t.$emit("detailsParams",s),t.isNotViewer="3"!=i.getLoggedUserType(),{transport:{read:{url:e.generic("ITConnectivity","AllConnections",i.getLoggedDomain(),s.project_id),headers:{Authorization:"Bearer "+i.getAccessToken()}}}});function a(){if("3"==i.getLoggedUserType())d.ViewersChangesModal();else{if("L"!=i.getProjectStatus(s.project_id))return 1;d.LockedProjectModal(s)}}t.options=n.getStructure(r,[{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(connectedAssetGrid)" ng-checked="allPagesSelected(connectedAssetGrid)" aria-label="checkbox" ng-click="select($event, connectedAssetGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, connectedAssetGrid)" ng-checked="isSelected(connectedAssetGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"3em"},{field:"conn.connectivity_id",title:"ID",width:2,hidden:!0},{field:"conn.inventory_id_in",title:"IN",width:2,hidden:!0},{field:"room_name_in",title:"Room Name In",width:160},{field:"room_number_in",title:"Room No In",width:150},{field:"asset_in_description",title:"Asset Description IN",width:200},{field:"conn.port_number",title:"Port No In",width:150},{field:"conn.inventory_id_out",title:"OUT",width:2,hidden:!0},{field:"room_name_out",title:"Room Name Out",width:170},{field:"room_number_out",title:"Room No Out",width:150},{field:"asset_out_description",title:"Asset Description OUT",width:210},{field:"conn.port_number_out",title:"Port No Out",width:150},{field:"conn.connection_type",title:"Connection Type",width:170},{headerTemplate:'<div align=center style="padding-top: 17px" class="comment-header"><i class="material-icons no-button" title="Comment">comment</i></div>',width:70,field:"conn.comment",filterable:!1,sortable:!1,template:'<div align=center class="comment-header"><i class="material-icons no-button" title="#: conn.comment #">comment</i></div>'}],null,{noRecords:"No connected assets available",groupable:!0,height:t.gridHeight},null,null),t.dataBound=n.dataBound,t.isSelected=n.isSelected,t.allSelected=n.allSelected,t.select=n.select,t.allPagesSelected=n.allPagesSelected,t.exportGrid=n.exportGrid,t.delete=function(){a()&&n.verifySelected("delete","connected asset",t.connectedAssetGrid)&&d.Confirm("Are you sure?","The connected asset(s) will be deleted permanently!").then(function(){c.blockScreen(),n.deleteItems(o.genericController,function(e){return{controller:"ITConnectivity",action:"Item",domain_id:e.conn.domain_id,project_id:e.conn.project_id,phase_id:e.conn.connectivity_id}},t.connectedAssetGrid).then(function(){c.unblockScreen(),l.success("Connected Asset(s) Deleted")},function(){c.unblockScreen()}),n.unselectAll(t.connectedAssetGrid)})},t.addAsset=function(){a()&&d.openModal("app/Projects/Assets/Modals/ConnectAssetConnTab.html","ConnectAssetModalCtrl",{items:null,params:s},!0).then(function(){t.connectedAssetGrid.dataSource.read()},function(){})},t.editAsset=function(e){a()&&n.verifySelected("edit","connectivity",t.connectedAssetGrid,!0)&&(e=n.getSelecteds(t.connectedAssetGrid)[0],d.openModal("app/Projects/Connectivity/Modals/EditConnectivity.html","EditConnectivityCtrl",{data:e},!0).then(function(e){c.blockScreen(),o.genericController.update({controller:"ITConnectivity",action:"Item",domain_id:i.getLoggedDomain(),project_id:e.project_id,phase_id:e.connectivity_id},e,function(e){t.connectedAssetGrid.dataSource.read(),c.unblockScreen(),l.success("Asset IT Connectivity Updated")},function(){c.unblockScreen(),l.error("Erro to save connectivity, please contact technical support")})}))}}]);
xPlanner.controller("CostCenterGridCtrl",["$scope","HttpService","AuthService","GridService","toastr","WebApiService","DialogService","ProgressService",function(d,e,n,s,l,a,u,t){d.isNotViewer="3"!=n.getLoggedUserType();var o={template:'<section layout="row" ng-cloack ng-if="'+d.isNotViewer+'"><section layout="row" layout-align="start center" class="gray-color"><button class="md-icon-button md-button" ng-click="openAddEditModal()"><i class="material-icons">add</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Add New Cost Center</md-tooltip></button><button class="md-icon-button md-button" ng-click="openAddEditModal(true)"><i class="material-icons">edit</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Edit Cost Center</md-tooltip></button><button class="md-icon-button md-button" ng-click="delete()"><i class="material-icons">delete</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Delete Cost Center</md-tooltip></button></section></section>'},e={transport:{read:{url:e.cost_center("All",n.getLoggedDomain(),d.params.project_id),headers:{Authorization:"Bearer "+n.getAccessToken()}}},schema:{model:{id:"id"}}};function c(t){t&&t.tbody.find("tr").dblclick(function(){var e=t.dataItem(this);d.openAddEditModal(!0,e)})}function p(){if("3"==n.getLoggedUserType())u.ViewersChangesModal();else{if("L"!=n.getProjectStatus(d.params.project_id))return 1;u.LockedProjectModal()}}d.options=s.getStructure(e,[{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(costCenterGrid)" ng-checked="allPagesSelected(costCenterGrid)" aria-label="checkbox" ng-click="select($event, costCenterGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, costCenterGrid)" ng-checked="isSelected(costCenterGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"3em"},{field:"code",title:"Code",width:200},{field:"description",title:"Description",width:650},{field:"is_default",title:"Default",template:'#= is_default ?  \'<span layout="row" layout-align="center center"><i class="material-icons no-button" style="color: green;">check</i></span>\' : \'\' #',filterable:!1,width:75}],o,{reorderable:!0,groupable:!0,noRecords:"No cost centers available",height:370}),d.dataBound=function(){c(d.costCenterGrid),s.dataBound(d.costCenterGrid)},d.$on("kendoWidgetCreated",function(e,t){t===d.costCenterGrid&&c(d.costCenterGrid)}),d.isSelected=s.isSelected,d.allSelected=s.allSelected,d.select=s.select,d.allPagesSelected=s.allPagesSelected,d.openAddEditModal=function(e,o){if(p()){var t,c="save";if(e){if(!o&&!s.verifySelected("edit","cost center",d.costCenterGrid,!0))return;c="update",o=o||s.getSelecteds(d.costCenterGrid)[0]}"update"===c&&(t=o.id);var i=angular.copy(d.costCenterGrid.dataSource.data()),r={controller:"costCenters",action:"Item",domain_id:n.getLoggedDomain(),project_id:d.params.project_id,id:t};u.openModal("app/Projects/Cost Center/Modals/AddCostCenter.html","AddCostCenterCtrl",{items:i,params:r,costCenter:o},!0).then(function(t){r.phase_id=t.updateAll?1:null,a.cost_center[c](r,t,function(e){t.is_default&&0<i.length&&d.costCenterGrid.dataSource.data(i.map(function(e){return e.id==t.id?e.is_default=!0:e.is_default=!1,e})),o?(s.updateItems(d.costCenterGrid,t),l.success("Cost center Updated")):(s.addItem(d.costCenterGrid,JSON.parse(JSON.stringify(e))),l.success("Cost center Saved"))},function(){l.error("Erro to save cost center, please contact technical support")})})}},d.delete=function(){p()&&s.verifySelected("delete","cost center",d.costCenterGrid)&&u.Confirm("Are you sure?","The cost center(s) will be deleted permanently").then(function(){t.blockScreen(),s.deleteItems(a.cost_center,function(e){return{action:"Item",domain_id:e.domain_id,project_id:e.project_id,id:e.id}},d.costCenterGrid).then(function(e){t.unblockScreen(),l.success("Cost Centers Deleted")},function(){l.error("Error to delete cost center(s), please contact the technical support"),t.unblockScreen()}),s.unselectAll(d.costCenterGrid)})}}]);
xPlanner.controller("DetailsCtrl",["$scope","WebApiService","$stateParams","StatusListProject","CostFieldList","StatesList","CostListProject","$state","toastr","AuthService","ProgressService","$mdDialog","DialogService","$q",function(o,a,t,e,r,n,i,d,l,c,s,m,p,u){o.canChangeStatus=function(){return c.isAdmin()||!c.isProjectLocked()},o.$emit("detailsParams",angular.copy(t)),o.params=t,o.update_budget=0,o.project_default_changed=!1,o.isNotViewer="3"!=c.getLoggedUserType();var _=!1;function f(e){return{controller:e.serverController,project_id:e.project_id,phase_id:e.phase_id,department_id:e.department_id,room_id:e.room_id,domain_id:c.getLoggedDomain()}}o.params.project_id&&-1!=o.params.project_id&&(o.financialCosts={},a.genericController.get(function(e,t,a,o,r,n,i){return{controller:e,action:t,domain_id:a||c.getLoggedDomain(),project_id:o,phase_id:r,department_id:n,room_id:i}}("financials","All",c.getLoggedDomain(),o.params.project_id,o.params.phase_id,o.params.department_id,o.params.room_id),function(e){o.financialCosts=e},function(e){l.error("Error to retrieve financial data from server, please contact technical support")}));var g=a.detailsController,h=f(t);function v(){s.blockScreen(),s.startProgressBar(),g.get(h,function(t){s.completeProgressBar(),!h.department_id&&h.phase_id&&(t.start_date=new Date(t.start_date.valueOf()),t.end_date=new Date(t.end_date.valueOf()),t.equip_move_in_date=t.equip_move_in_date?new Date(t.equip_move_in_date.valueOf()):null,t.occupancy_date=t.occupancy_date?new Date(t.occupancy_date.valueOf()):null,t.ofci_delivery=t.ofci_delivery?new Date(t.ofci_delivery.valueOf()):null),h.room_id&&(t.applied_id_template?a.genericController.get({controller:"templateRoom",action:"ItemById",domain_id:t.project_domain_id_template||t.domain_id,project_id:t.applied_id_template},function(e){t.linked_template?o.linked_template_info="Linked to "+e.drawing_room_name:o.linked_template_info=e.drawing_room_name+" has been applied to this room"}):o.linked_template_info="No template has been applied to this room"),t.locked_date&&(t.locked_date=new Date(t.locked_date).toLocaleDateString()),o.data=t,o.room_count=t.room_quantity,j(),(null==o.data.phase_id?o.data:(null==o.data.department_id?o.data:(null==o.data.room_id?o.data:o.data.project_department).project_phase).project).status,o.isInFavorites=t.user_project_mine&&0<t.user_project_mine.length,s.unblockScreen(),o.$emit("getBreadcrumb",t)},function(){s.unblockScreen(),s.completeProgressBar(),l.error("Error to retrieve data from server, please contact technical support")})}function j(){o.data.asset_budget=k(o.data.medial_budget)-(k(o.data.warehouse_budget)+k(o.data.freight_budget)+k(o.data.tax_budget)+k(o.data.warranty_budget)+k(o.data.misc_budget)+k(o.data.markup_budget)+k(o.data.escalation_budget)+k(o.data.install_budget))}function k(e){var t=0;return t=null!=e&&"NaN"!=e&&""!=e?parseFloat(e):t}function y(){return c.isViewer()&&(p.ViewersChangesModal(),1)}function C(){if(!y()){if(!(!o.canChangeStatus()||c.isProjectLocked()&&o.data.phase_id||c.isProjectLocked()&&"L"===o.data.status))return 1;p.LockedProjectModal(o.data)}}function b(){var a;if(C())return o.detailsForm.$setSubmitted(),o.detailsForm.$valid?o.data.start_date&&o.data.start_date>o.data.end_date?void l.error("End date cannot be before start date"):(o.params.add?(s.blockScreen(),a=(a=(a=t.serverController).slice(0,a.length-1)).toLowerCase(),g.save(h,o.data,function(e){s.unblockScreen();var t=f(e);o.room_count=e.room_quantity,o.addItemTreeView(e),o.$emit("updateProgressBar",o.params),d.go("index."+a,t),l.success("Add completed")},function(){s.unblockScreen(),l.error("Error to create "+a+", please contact the technical support")})):u(function(e,t){h.phase_id||!o.project_default_changed?e():p.Confirm("Project Defaults","Do you want to override asset amounts already in the project?").then(function(){h.phase_id=1,e()},function(){e()})}).then(function(){s.blockScreen(),g.update(h,o.data,function(e){o.$emit("updateProgressBar",o.params),o.room_count=e.room_quantity,o.updateItemTreeView(o.data),s.unblockScreen(),l.success("Save completed")},function(){s.unblockScreen(),l.error("Error to save")})}),o.$emit("dataSaved"),!0):(l.error("Please make sure you enter all the required fields"),!1)}o.controllerParams=h,o.data={status:e[0].id},o.inventory={},o.statusList=e,o.costs=i,o.states=n,o.params.add&&(o.data.default_cost_field="avg_cost",o.data.room_quantity="1"),o.params.add||v(),o.toggleFavorite=function(){o.isInFavorites=!o.isInFavorites,o.isInFavorites?o.addToMine(o.data):o.removeFromMine(o.data)},o.$on("AddRemoveFavorites",function(e,t,a){t.domain_id==o.data.domain_id&&(t.id||t.project_id)==o.data.project_id&&(o.isInFavorites=a)}),o.$on("saveData",function(e,t){b()&&o.$emit("dataSaved",t)}),o.splitRooms=function(){C()&&(1<parseInt(o.data.room_quantity)?(t.room_quantity=o.data.room_quantity,t.room_name=o.data.drawing_room_name,t.room_number=o.data.drawing_room_number,m.show({controller:"SplitRoomCtrl",templateUrl:"app/Projects/Details/Modals/SplitRoom.html",fullscreen:!0,clickOutsideToClose:!0,locals:{local:{params:t}}}).then(function(){_=!0,o.reloadTreeview(),v()})):l.info("In order to split Room Count, the count must be higher than 1"))},o.applyTemplate=function(){C()&&m.show({controller:"ApplyTemplateCtrl",templateUrl:"app/Projects/Details/Modals/ApplyTemplate.html",fullscreen:!0,clickOutsideToClose:!0,locals:{local:{params:t,department_type_id:o.data.room_id&&o.data.project_department?o.data.project_department.department_type_id:null,room:o.data}}}).then(function(){v()})},o.unlinkTemplate=function(){var e;C()&&t.room_id&&o.data.linked_template&&((e=angular.copy(o.data)).template_id=o.data.applied_id_template,a.template_room.save({action:"Unlink",controller:t.serverController,project_id:t.project_id,phase_id:t.phase_id,department_id:t.department_id,room_id:t.room_id,domain_id:c.getLoggedDomain()},e,function(e){v(),l.success("Template Unlinked")},function(e){409==e.status&&l.info("Error trying to unlink template")}))};var e={label:"Save",icon:"save",click:b},i={label:"Cancel",icon:"cancel",click:function(){o.goToUpLevel(h)}},n={label:"Copy From",icon:"copy_from",click:function(){C()&&m.show({controller:"CopyFromCtrl",templateUrl:"app/Projects/Details/Modals/CopyFrom.html",fullscreen:!0,clickOutsideToClose:!0,locals:{local:{params:t}}}).then(function(){o.reloadTreeview()})}},w={label:"Delete",icon:"delete",click:function(e){C()&&p.Confirm("Are you sure?","The "+e+" will be deleted permanently!").then(function(){a.genericController.remove(angular.extend({controller:e+"s",action:"Item",domain_id:c.getLoggedDomain()},o.params),function(){l.success(e+" deleted"),o.$emit("removeFromTreeView",o.params)})})}};o.buttons={state:!0,project:{edit:[e,n,{label:"Copy Project",icon:"content_copy",click:function(){y()||m.show({controller:"CopyProjectCtrl",templateUrl:"app/Projects/Details/Modals/CopyProject.html",fullscreen:!0,clickOutsideToClose:!0,locals:{local:{params:t,project_description:o.data.project_description}}}).then(function(){})}},w],add:[e,i]},phase:{edit:[e,n,w],add:[e,i]},department:{edit:[e,n,w],add:[e,i]},room:{edit:[e,n,{label:"Copy/Move to",icon:"move",click:function(){C()&&m.show({controller:"CopyRoomToCtrl",templateUrl:"app/Projects/Details/Modals/CopyRoomTo.html",fullscreen:!0,clickOutsideToClose:!0,locals:{local:{params:o.data,tree:o.tree,copy:!0,move:!0}}}).then(function(e){e={project_id:e.project_id.toString(),phase_id:e.phase_id.toString(),department_id:e.department_id.toString(),room_id:e.room_id.toString()};o.reloadTreeview(),d.go("index.room",e,{reload:!0})})}},{label:"Save as Template",icon:"note_add",click:function(){C()&&m.show({controller:"SaveAsTemplateCtrl",templateUrl:"app/Projects/Details/Modals/SaveAsTemplate.html",fullscreen:!0,clickOutsideToClose:!0,locals:{local:{params:t}}})}},w],add:[e,i]}},o.$watch("data",function(e,t){o.detailsForm.$dirty&&!angular.equals(e,t)&&(_?_=!1:o.$emit("itemHasChanges"),j())},!0),o.$watch("data.markup",function(e,t){o.detailsForm.$dirty&&e!=t&&(o.project_default_changed=!0)},!0),o.$watch("data.escalation",function(e,t){o.detailsForm.$dirty&&e!=t&&(o.project_default_changed=!0)},!0),o.$watch("data.tax",function(e,t){o.detailsForm.$dirty&&e!=t&&(o.project_default_changed=!0)},!0),o.$watch("data.freight_markup",function(e,t){o.detailsForm.$dirty&&e!=t&&(o.project_default_changed=!0)},!0),o.$watch("data.install_markup",function(e,t){o.detailsForm.$dirty&&e!=t&&(o.project_default_changed=!0)},!0),o.changeProjectStatus=function(){"L"===o.data.status?p.openModal("app/Projects/Details/Modals/LockProjectModal.html","LockProjectModalCtrl",{data:o.data}).then(function(e){o.data.locked_comment=e.locked_comment,o.data.locked_date=e.locked_date}):(o.data.locked_comment=null,o.data.locked_date=null)}}]);
xPlanner.controller("LevelBelowListCtrl",["$scope","GridService","HttpService","AuthService","$state","DialogService","ProgressService","WebApiService","toastr",function(d,e,t,i,o,a,c,l,n){d.type=d.params.department_id?"room":d.params.phase_id?"department":"phase",d.isNotViewer="3"!=i.getLoggedUserType();var m=d.type+"s",r=d.type.charAt(0).toUpperCase()+d.type.slice(1),s={template:'<section layout="row" ng-cloak ng-if="'+d.isNotViewer+'"><section layout="row" layout-align="start center" class="gray-color"><button class="md-icon-button md-button" ng-click="openAddModal()"><i class="material-icons">add</i><md-tooltip md-direction="bottom">Add {{type | capitalize}}</md-tooltip></button><button class="md-icon-button md-button" ng-click="edit()"><i class="material-icons">edit</i><md-tooltip md-direction="bottom">Edit {{type | capitalize}}</md-tooltip></button><button class="md-icon-button md-button" ng-click="delete()"><i class="material-icons">delete</i><md-tooltip md-direction="bottom">Delete {{type | capitalize }}(s)</md-tooltip></button><button class="md-icon-button md-button" ng-click="reload()"><i class="material-icons">refresh</i><md-tooltip md-direction="bottom">Reload {{type | capitalize}}s</md-tooltip></button></section></section>'},t={transport:{read:{url:t.generic(m,"phase"===d.type?"All":"AllIventoryPO",i.getLoggedDomain(),d.params.project_id,d.params.phase_id,d.params.department_id,d.params.room_id),headers:{Authorization:"Bearer "+i.getAccessToken()}}},schema:{model:{id:d.type+"_id",fields:{equip_move_in_date:{type:"date"},ofci_delivery:{type:"date"},occupancy_date:{type:"date"}}}}},p={noRecords:"No "+m+" available",height:370};function u(){if("3"==i.getLoggedUserType())a.ViewersChangesModal();else{if("L"!=i.getProjectStatus(d.params.project_id))return 1;a.LockedProjectModal()}}d.options=e.getStructure(t,function(){switch(d.type){case"room":columns=[{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(itemsGrid)" ng-checked="allPagesSelected(itemsGrid)" aria-label="checkbox" ng-click="select($event, itemsGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, itemsGrid)" ng-checked="isSelected(itemsGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"3em"},{field:"drawing_room_name",title:"Room Name",width:130},{field:"drawing_room_number",title:"Room No",width:120},{field:"final_room_name",title:"Wayfinding Name",width:170},{field:"final_room_number",title:"Wayfinding No",width:150},{field:"room_quantity",title:"Room Count",width:100},{field:"total_budget_amt",title:"Tot Bgt",width:120,template:'<aw-currency value="#: total_budget_amt # "></aw-currency>'},{field:"total_po_amt",title:"PO Amt",width:120,template:'<aw-currency value="#: total_po_amt # "></aw-currency>'},{field:"buyout_delta",title:"+/-",width:120,template:'<aw-currency value="#: buyout_delta # "></aw-currency>'},{headerTemplate:'<button style="margin-left: -0.85em; padding-bottom: 0.2em;" class="md-icon-button md-button no-button"><i class="material-icons no-button">comment</i><md-tooltip md-direction="bottom">Comment</md-tooltip></button>',template:'<div ng-if=" #: comment != null # " align=center><md-icon class="no-button grid-item-color">comment</md-icon><md-tooltip md-direction="bottom">#: comment #</md-tooltip></div>',width:70}];break;case"department":columns=[{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(itemsGrid)" ng-checked="allPagesSelected(itemsGrid)" aria-label="checkbox" ng-click="select($event, itemsGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, itemsGrid)" ng-checked="isSelected(itemsGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"3em"},{field:"description",title:"Name",width:170},{field:"type",title:"Type",width:150},{field:"area",title:"Area",width:100},{field:"num_rooms",title:"# Rooms",width:120},{field:"total_budget_amt",title:"Tot Bgt",width:120,template:'<aw-currency value="#: total_budget_amt # "></aw-currency>'},{field:"total_po_amt",title:"PO Amt",width:120,template:'<aw-currency value="#: total_po_amt # "></aw-currency>'},{field:"buyout_delta",title:"+/-",width:120,template:'<aw-currency value="#: buyout_delta # "></aw-currency>'},{headerTemplate:'<button style="margin-left: -0.85em; padding-bottom: 0.2em;" class="md-icon-button md-button no-button"><i class="material-icons no-button">comment</i><md-tooltip md-direction="bottom">Comment</md-tooltip></button>',template:'<div ng-if=" #: comment != null # " align=center><md-icon class="no-button grid-item-color">comment</md-icon><md-tooltip md-direction="bottom">#: comment #</md-tooltip></div>',width:70}];break;case"phase":columns=[{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(itemsGrid)" ng-checked="allPagesSelected(itemsGrid)" aria-label="checkbox" ng-click="select($event, itemsGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, itemsGrid)" ng-checked="isSelected(itemsGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"3em"},{field:"description",title:"Name",width:270},{field:"equip_move_in_date",title:"Asset Date",width:130,template:"#: equip_move_in_date ? kendo.toString(kendo.parseDate(equip_move_in_date), \"MM-dd-yyyy\") : '' #"},{field:"ofci_delivery",title:"OFCI Delivery",width:150,template:"#: ofci_delivery ? kendo.toString(kendo.parseDate(ofci_delivery), \"MM-dd-yyyy\") : '' #"},{field:"occupancy_date",title:"Go Live",width:130,template:"#: occupancy_date ? kendo.toString(kendo.parseDate(occupancy_date), \"MM-dd-yyyy\") : '' #"},{headerTemplate:'<div align=center><button  style="padding-bottom: 0.2em;" class="md-icon-button md-button no-button"><i class="material-icons no-button">comment</i><md-tooltip md-direction="bottom">Comment</md-tooltip></button></div>',template:'<div ng-if=" #: comment != null # " align=center><md-icon class="no-button grid-item-color">comment</md-icon><md-tooltip md-direction="bottom">#: comment #</md-tooltip></div>',width:100}]}return columns}(),s,p),d.dataBound=function(){var t;(t=d.itemsGrid)&&t.tbody.find("tr").dblclick(function(){var e=t.dataItem(this);o.go("index."+d.type,e)}),e.dataBound(d.itemsGrid)},d.isSelected=e.isSelected,d.allSelected=e.allSelected,d.select=e.select,d.allPagesSelected=e.allPagesSelected,d.edit=function(){u()&&e.verifySelected("edit",d.type,d.itemsGrid,!0)&&o.go("index."+d.type,e.getSelecteds(d.itemsGrid)[0])},d.openAddModal=function(){if(u()){var e,t="LevelBelowAddCtrl";switch(d.type){case"room":e="app/Projects/Details/Modals/AddRoom.html",t="AddRoomCtrl",d.params.department_type_id=d.data.department_type.department_type_id;break;case"department":e="app/Projects/Details/Modals/AddDepartment.html";break;case"phase":e="app/Projects/Details/Modals/AddPhase.html"}a.openModal(e,t,{params:d.params,type:d.type},!0).then(function(e){if("room"==d.type)for(var t=e.text.split("||"),i=0;i<t.length;i++){var o=JSON.parse(t[i]);d.addItemTreeView(o)}else d.addItemTreeView(e),"phase"!==d.type?d.itemsGrid.dataSource.read():d.itemsGrid.dataSource.pushCreate({domain_id:e.domain_id,project_id:e.project_id,phase_id:e.phase_id,description:e.description,equip_move_in_date:e.equip_move_in_date,ofci_delivery:e.ofci_delivery,occupancy_date:e.occupancy_date,comment:e.comment})})}},d.delete=function(){u()&&e.verifySelected("delete",d.type,d.itemsGrid)&&a.Confirm("Are you sure?","The "+d.type+"(s) will be deleted permanently!").then(function(){c.blockScreen(),e.deleteItems(l.genericController,function(e){return{domain_id:e.domain_id,project_id:e.project_id,phase_id:e.phase_id,department_id:e.department_id,room_id:e.room_id,controller:m,action:"Item"}},d.itemsGrid).then(function(){c.unblockScreen(),n.success(r+"(s) Deleted"),d.reloadTreeview()},function(e){409==e.status?n.info("Some, or all, of the "+m+" could not be deleted. "+e.data):n.error("Error to delete "+d.type+"(s), please contact the technical support"),d.reloadTreeview(),c.unblockScreen()}),e.unselectAll(d.itemsGrid)})},d.reload=function(){d.itemsGrid.dataSource.read()}}]);
xPlanner.controller("GenerateReportCtrl",["$scope","$mdMedia","$mdStepper","$mdDialog","$timeout","WebApiService","toastr","$stateParams","AuthService","ProgressService","POStatusList",function(o,e,r,t,n,c,i,a,s,p,l){var u;o.poStatuses=l,n(function(){u=r("stepper-generating-report")},!1);var d=["name","type","description","private"];function g(){o.currentStep++,u.clearError(),u.next(),3===o.currentStep&&m()&&c.genericController.query({controller:"Projects",action:"CopiedProjects",domain_id:s.getLoggedDomain(),project_id:a.project_id},function(e){o.projects=e},function(){i.error("Error to retrieve the copied projects, please contact the technical support")})}function m(){return"copied project inventory comparison"==o.report.report_type.name.toLowerCase()}o.mobileStep=e("xs"),o.currentStep=1,o.report={po_status:"All",isPrivate:!0,include_budgets:!0},o.locations={params:angular.copy(a),height:window.innerHeight-320,selecteds:[]},c.genericController.query({controller:"CostCenters",action:"All",domain_id:s.getLoggedDomain(),project_id:a.project_id},function(e){o.costCenters=e,o.report.cost_center1=-1},function(){i.error("Error to retrieve the cost centers, please contact the technical support")}),o.next=function(){switch(o.currentStep){case 1:!function(){if(o.generateReportForm.$setSubmitted(),o.generateReportForm.$valid)g();else for(var e=!1,r=0;r<d.length;r++){for(var t in o.generateReportForm[d[r]].$error){e=!0;break}if(e)return u.error("Missing required fields");e=!1}}();break;case 2:0<o.locations.selecteds.length?g():u.error("At least one location must be selected");break;case 3:o.generateReportForm.$setSubmitted(),o.generateReportForm.$valid?(p.blockScreen(),c.genericController.save({controller:"Report",action:"Item",domain_id:s.getLoggedDomain(),project_id:a.project_id},angular.extend(o.report,a,{report_location:o.locations.selecteds,project_domain_id:s.getLoggedDomain()}),function(){i.success("The report is being generated. You'll receive a notification when it's ready."),p.unblockScreen(),t.hide()},function(){i.error("Error to generate report, please contact the technical support"),p.unblockScreen()})):m()&&i.error("You must to select a project")}},o.back=function(){u.back(),o.currentStep--},o.cancel=function(){t.cancel()}}]);
xPlanner.controller("DocumentsTabCtrl",["$scope","AuthService","HttpService","WebApiService","GridService","DialogService","ProgressService","toastr","$mdDialog",function(t,d,o,e,c,i,a,n,l){t.isNotViewer="3"!=d.getLoggedUserType();var r={template:'<section layout="row" ng-cloak ng-if="'+t.isNotViewer+'"><section layout="row" layout-align="start center"  class="gray-color"><button class="md-icon-button md-button" ng-click="openAddModal()"><i class="material-icons">add</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Add Document(s)</md-tooltip></button><button class="md-icon-button md-button" ng-click="delete()"><i class="material-icons">delete</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Delete Document(s)</md-tooltip></button></section></section>'},s={transport:{read:{url:o.phase_documents("All",d.getLoggedDomain(),t.params.project_id,t.params.phase_id),headers:{Authorization:"Bearer "+d.getAccessToken()}}},schema:{model:{id:"drawing_id",fields:{date_added:{type:"date"}}}}};t.downloadFile=function(e){window.open(o.phase_documents("download",d.getLoggedDomain(),t.params.project_id,t.params.phase_id,e),"_self")},t.options=c.getStructure(s,[{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(documentsGrid)" ng-checked="allPagesSelected(documentsGrid)" aria-label="checkbox" ng-click="select($event, documentsGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, documentsGrid)" ng-checked="isSelected(documentsGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"3em"},{field:"filename",title:"File Name",width:"65%",template:'<section><a href="" ng-click="downloadFile(#: drawing_id #)">#: filename #</a></section>'},{field:"date_added",title:"Date Added",width:"30%",format:"{0:MM-dd-yyyy}",filterable:{ui:"datepicker"}}],r,{groupable:!0,noRecords:"No documents available",height:300}),t.anySelected=c.anySelected,t.isSelected=c.isSelected,t.allSelected=c.allSelected,t.dataBound=c.dataBound,t.select=c.select,t.allPagesSelected=c.allPagesSelected,t.openAddModal=function(){var e;"3"==d.getLoggedUserType()?i.ViewersChangesModal():(e={action:"Item",project_id:t.params.project_id,phase_id:t.params.phase_id,domain_id:d.getLoggedDomain()},i.openModal("app/Projects/Documents/Modals/AddDocument.html","AddDocumentCtrl",{params:e},!0).then(function(){t.documentsGrid.dataSource.read()}))},t.delete=function(){"3"==d.getLoggedUserType()?i.ViewersChangesModal():c.verifySelected("delete","document",t.documentsGrid)&&i.Confirm("Are you sure?","The document(s) will be deleted permanently!").then(function(){a.blockScreen(),c.deleteItems(e.phase_documents,function(e){return{action:"Item",domain_id:e.domain_id,project_id:e.project_id,phase_id:e.phase_id,drawing_id:e.drawing_id}},t.documentsGrid).then(function(){a.unblockScreen(),n.success("Document(s) Deleted!")},function(){n.error("Error to try to delete document(s), please contact technical support"),a.unblockScreen()}),c.unselectAll(t.documentsGrid)})}}]);
xPlanner.controller("ProjectDocumentsTabCtrl",["$scope","AuthService","HttpService","WebApiService","GridService","DialogService","ProgressService","toastr","$mdDialog","$stateParams","FileService",function(i,n,o,t,d,c,a,r,e,s,l){i.params=angular.copy(s),i.$emit("detailsParams",i.params),i.isNotViewer="3"!=n.getLoggedUserType();var s={template:'<section layout="row" ng-cloak ng-if="'+i.isNotViewer+'"><section layout="row" layout-align="start center"  class="gray-color"><button class="md-icon-button md-button" ng-click="openAddModal()"><i class="material-icons">add</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Add Document(s)</md-tooltip></button><button class="md-icon-button md-button" ng-click="delete()"><i class="material-icons">delete</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Delete Document(s)</md-tooltip></button><button class="md-icon-button md-button" ng-click="openAssociation()"><md-icon md-svg-icon="link"></md-icon><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Establish association(s) to the document(s)</md-tooltip></button></section></section>'},m={transport:{read:{url:o.generic("projectDocuments","All",n.getLoggedDomain(),i.params.project_id),headers:{Authorization:"Bearer "+n.getAccessToken()}}},schema:{model:{id:"id",fields:{date_added:{type:"date"}}}}},u=(i.gridHeight=window.innerHeight-200,{noRecords:"No documents available",height:i.gridHeight});function p(o){o&&o.tbody.find("tr").dblclick(function(){var e,t=o.dataItem(this);t=t,g()&&(e={project_id:i.params.project_id,domain_id:n.getLoggedDomain()},c.openModal("app/Projects/Documents/Modals/AddProjectDocument.html","AddProjectDocumentCtrl",{params:e,document:t,edit:!0}).then(function(e){i.documentsGrid.dataSource.read()}))})}function g(){if("3"==n.getLoggedUserType())c.ViewersChangesModal();else{if("L"!=n.getProjectStatus(i.params.project_id))return 1;c.LockedProjectModal()}}i.options=d.getStructure(m,[{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(documentsGrid)" ng-checked="allPagesSelected(documentsGrid)" aria-label="checkbox" ng-click="select($event, documentsGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, documentsGrid)" ng-checked="isSelected(documentsGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"3em"},{field:"filename",title:"File Name",template:'<section><a href="" ng-click="downloadFile(dataItem)">#: filename #</a></section>'},{field:"document_types.name",title:"Type"},{field:"status",title:"Status"},{field:"version",title:"Version"},{field:"date_added",title:"Date Added",format:"{0:MM-dd-yyyy}",filterable:{ui:"datepicker"}}],s,u),i.dataBound=function(e){p(e),d.dataBound(e)},i.anySelected=d.anySelected,i.isSelected=d.isSelected,i.allSelected=d.allSelected,i.select=d.select,i.allPagesSelected=d.allPagesSelected,i.downloadFile=function(e){l.downloadFile(o.generic("projectDocuments","Download",e.project_domain_id,e.project_id,e.id),e.filename+(e.file_extension?"."+e.file_extension:""))},i.openAssociation=function(){g()&&d.verifySelected("do the association","document",i.documentsGrid,!0)&&c.openModal("app/Projects/Documents/Modals/AddDocAssociation.html","AddDocAssociationCtrl",{params:{project_id:i.params.project_id,domain_id:n.getLoggedDomain()},documents:d.getSelecteds(i.documentsGrid)}).then(function(){i.documentsGrid.dataSource.read()})},i.openAddModal=function(){var e;g()&&(e={project_id:i.params.project_id,domain_id:n.getLoggedDomain()},c.openModal("app/Projects/Documents/Modals/AddProjectDocument.html","AddProjectDocumentCtrl",{params:e}).then(function(e){i.documentsGrid.dataSource.read()}))},i.delete=function(){g()&&d.verifySelected("delete","document",i.documentsGrid)&&c.Confirm("Are you sure?","The document(s) will be deleted permanently!").then(function(){a.blockScreen(),d.deleteItems(t.genericController,function(e){return{controller:"projectDocuments",action:"Item",domain_id:e.project_domain_id,project_id:e.project_id,phase_id:e.id}},i.documentsGrid).then(function(){a.unblockScreen(),r.success("Document(s) Deleted!")},function(){r.error("Error to try to delete document(s), please contact technical support"),a.unblockScreen()}),d.unselectAll(i.documentsGrid)})},i.nestedGridHeight=400,i.deleteAssociation=function(e){g()&&c.Confirm("Are you sure?","If you remove the association the asset will be removed from the association list. <br/>You will have to use the association button in the top should you need to reestablish the association.").then(function(){a.blockScreen(),t.genericController.remove({controller:"assetsInventory",action:"LinkedToDoc",domain_id:e.domain_id,project_id:e.inventory_id},function(){r.success("Asset association has been removed!"),i.documentsGrid.dataSource.read(),a.unblockScreen()},function(){r.error("Error to remove association with asset, please contact the technical support."),a.unblockScreen()})})},i.getDocAssociations=function(e){var e={transport:{read:{url:o.generic("assetsInventory","linkedToDoc",e.project_domain_id,e.project_id,e.id),headers:{Authorization:"Bearer "+n.getAccessToken()}}}},t=[{width:60,template:'<button class="md-icon-button md-button" ng-click="deleteAssociation(this.dataItem)" ng-if="'+i.isNotViewer+'"><i class="material-icons">delete</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Delete Association</md-tooltip></button>'},{field:"phase_description",title:"Phase"},{field:"department_description",title:"Department"},{field:"room_number",title:"Room Number"},{field:"room_name",title:"Room Name"},{field:"asset_code",title:"Asset"}];return d.getStructure(e,t,null,{noRecords:"No associations established",height:i.nestedGridHeight},{pageSizes:[10,20,30],pageSizeDefault:10})}}]);
xPlanner.controller("RoomDocumentsTabCtrl",["$scope","AuthService","HttpService","WebApiService","ProgressService","toastr","FileService","$stateParams","DialogService",function(t,i,n,o,r,c,e,a,d){function l(){o.genericController.query({controller:"rooms",action:"pictures",domain_id:i.getLoggedDomain(),project_id:a.project_id,phase_id:a.phase_id,department_id:a.department_id,room_id:a.room_id},function(e){var r;t.photosFileMatrix=[],e&&0<e.length&&(r=-1,e.forEach(function(e,o){o%4==0&&(t.photosFileMatrix.push([]),r++),t.photosFileMatrix[r].push({id:e.id,file:n.generic("filestream","file",i.getLoggedDomain(),e.blobFilename,"photo")})}))},function(){c.error("Error to try get images files from room")})}t.$emit("detailsParams",angular.copy(a)),t.photosFileMatrix=[],t.addPicture=function(){d.openModal("app/Projects/Documents/Modals/UploadRoomPicture.html","UploadRoomPictureCtrl",{params:a}).then(function(){l()})},l(),t.deletePicture=function(e){d.Confirm("Delete Picture","The picture will be deleted permanently. Are you sure?").then(function(){o.remove_room_picture.remove({domain_id:i.getLoggedDomain(),project_id:a.project_id,phase_id:a.phase_id,department_id:a.department_id,room_id:a.room_id,filename:e.id},function(){l(),c.success("Photo Deleted!"),r.unblockScreen()},function(e){console.error(e),c.error("Error to try delete picture"),r.unblockScreen()})})}}]);
xPlanner.controller("AddTemplateCtrl",["$scope","AuthService","$mdDialog","toastr","WebApiService","ProgressService",function(t,e,r,a,n,l){var c;t.controllerParams={domain_id:e.getLoggedDomain()},n.genericController.query({controller:"projects",action:"All",domain_id:e.getLoggedDomain()},function(e){t.projects=e}),t.save=function(o){t.addTemplateForm.$setSubmitted(),t.addTemplateForm.$valid?(t.room_template.is_template=!0,l.blockScreen(),n.genericController.save({controller:"templateRoom",action:"Item",domain_id:e.getLoggedDomain()},t.room_template,function(e){a.success("Template Added"),l.unblockScreen(),o?r.hide(e):c=e},function(e){409===e.status?a.error(e.data+" Please choose a different name."):a.error("Error to try add template, please contact the technical support"),l.unblockScreen()})):a.error("Please make sure you enter all the required fields")},t.close=function(){c?r.hide(c):r.cancel()}}]);
xPlanner.controller("CloneTemplateCtrl",["$scope","$mdDialog","toastr","WebApiService","AuthService","local","ProgressService",function(o,r,t,e,n,l,a){o.projectParams={domain_id:n.getLoggedDomain()},o.save=function(){o.cloneTemplateForm.$setSubmitted(),o.cloneTemplateForm.$valid?(a.blockScreen(),e.genericController.save(angular.extend(l.params,{controller:"templateRoom",action:"Clone",domain_id:n.getLoggedDomain()}),o.room_template,function(e){t.success("Template cloned"),a.unblockScreen(),r.hide(e)},function(e){a.unblockScreen(),409===e.status?t.error(e.data+" Please choose a different name."):(t.error("Error to try clone template, please contact the technical support"),o.close())})):t.error("Please make sure you enter all the required fields")},o.close=function(){r.cancel()}}]);
xPlanner.controller("ChangePasswordCtrl",["$scope","$mdDialog","WebApiService","toastr","ProgressService",function(e,r,o,c,n){e.change=function(){e.changePasswordForm.$setSubmitted(),e.changePasswordForm.$valid?(n.blockScreen(),o.genericController.save({controller:"account",action:"ChangePassword"},e.data,function(){c.success("Password changed"),n.unblockScreen(),r.hide()},function(e){n.unblockScreen(),"Incorrect password."===e.data.modelState[""][0]?c.error("The currenct password is incorrect."):c.error("Error to change password, please contact the technical support.")})):c.error("Make sure you entered correctly all the fields")},e.close=function(){r.cancel()}}]);
xPlanner.controller("LoginCtrl",["$scope","AuthService","$state","toastr","$mdDialog","WebApiService","ProgressService","DialogService","$q","UtilsService",function(a,s,l,n,d,u,g,e,m,p){s.isAuthenticated()?l.go("index",{domain_id:s.getLoggedDomain()},{reload:!0}):(a.user={},a.login=function(){var e,o;a.loginForm.$setSubmitted(),a.loginForm.$valid&&(g.blockScreen(),e={username:a.user.username,password:a.user.password},s.setLoggedUserEmail(a.user.username),s.getAccessToken(e).then(function(){s.isAuthenticated()?u.genericController.query({controller:"domains",action:"Available"},function(n){g.unblockScreen(),s.setAvailableDomains(0<n.length?n:null);var e,t,r,o=n[0].accept_user_license,i=n[0].user_id,c=n[0].domain_id;e=o,t=i,r=c,m(function(o,n){e?o():d.show({templateUrl:"app/Security/Login/LicenseAgreement.html",controller:["$mdDialog","toastr",function(e,o){this.accept=function(){e.hide("accept")},this.reject=function(){e.hide()}}],controllerAs:"ctrl",fullscreen:!0}).then(function(e){"accept"==e?u.genericController.update({controller:"AspNetUsers",action:"AcceptLicenseAgreement",domain_id:r,project_id:t},null,function(){o()}):(a.logoff(),n())})}).then(function(){1<n.length?d.show({templateUrl:"app/Security/Login/DomainsModal.html",controller:["$mdDialog","toastr",function(e,o){this.domains=n,this.select=function(){this.selected&&e.hide(this.selected)}}],controllerAs:"ctrl",fullscreen:!0}).then(function(e){u.genericController.save({controller:"account",action:"AddLoggedDomain"},e,function(){s.setLoggedDomain(e),a.$emit("logged",e),p.ShowExpiratedPOs(),s.isManufacturerDomain()?l.go("assetsWorkspace.assets"):l.go("index",{domain_id:e.domain_id})})},function(){a.logoff()}):1==n.length?u.genericController.save({controller:"account",action:"AddLoggedDomain"},n[0],function(){s.setLoggedDomain(n[0]),a.$emit("logged",n[0]),s.isManufacturerDomain()?l.go("assetsWorkspace"):l.go("index",{domain_id:n[0].domain_id})}):(s.removeToken(),s.clearLocalStorage(),l.go("no-domain"))})},function(){g.unblockScreen(),n.error("Error to retrieve data from server, please contact technical support")}):n.error("We could not store the token, are you using https?")},(o=n,function(e){e&&e.data&&e.data.error_description?o.error(e.data.error_description):o.error("Error to login"),g.unblockScreen()})))},a.requestSubscription=function(){l.go("subscription")},a.forgotPassword=function(){e.openModal("app/Security/Login/Modals/ForgotPassword.html","ForgotPasswordCtrl",null,!0)})}]);
xPlanner.controller("ThirdPartyCopyrightCtrl",["$scope","$mdDialog","WebApiService","toastr","ProgressService",function(r,e,o,c,i){r.close=function(){e.cancel()}}]);
xPlanner.controller("ResetPasswordCtrl",["$scope","$stateParams","AuthService","$state","WebApiService","toastr","$timeout","ProgressService",function(e,r,t,s,o,a,n,c){t.isAuthenticated()?s.go("index"):(e.data={email:r.email,token:r.token},e.reset=function(){e.resetPasswordForm.$setSubmitted(),e.resetPasswordForm.$valid?(c.blockScreen(),o.genericController.save({controller:"account",action:"ResetPassword"},e.data,function(){a.success("Your password has been reset successfully! You will be redirected to the login page in 2 seconds."),n(function(){c.unblockScreen(),s.go("login")},2e3)},function(e){c.unblockScreen(),404===e.status||400===e.status&&"Invalid token."===e.data.message?a.error("Error to reset password. The link has expired."):a.error("Error to reset password. Please contact the technical support.")})):a.error("Please make sure you entered all the required fields")})}]);
xPlanner.factory("AuthService",["OAuth","localStorageService","OAuthToken",function(o,i,t){function e(e){return r.get(parseInt(e))}var n=[,"theme"],r=new Map;function u(){var e;return i.isSupported?e=i.get("domain"):i.cookie.isSupported&&(e=i.cookie.get("domain")),e?e.domain_id:null}function a(){return i.isSupported?i.get("domain"):i.cookie.isSupported?i.cookie.get("domain"):void 0}function c(){var e=a();return e?e.role_id:null}function s(){return i.isSupported?i.get("user_email"):i.cookie.isSupported?i.cookie.get("user_email"):void 0}return{isAuthenticated:function(){return o.isAuthenticated()},getAccessToken:function(e){return e?o.getAccessToken(e):t.getAccessToken()},getRefreshToken:function(){return o.getRefreshToken()},removeToken:function(){return t.removeToken()},setProjectStatus:function(e){e.forEach(({id:e,status:o})=>{r.set(e,o)})},getProjectStatus:e,setLoggedDomain:function(e){if(i.isSupported)i.set("domain",e);else{if(!i.cookie.isSupported)return!1;i.cookie.set("domain",e)}return!0},getLoggedDomain:u,getLoggedDomainName:function(){var e;return i.isSupported?e=i.get("domain"):i.cookie.isSupported&&(e=i.cookie.get("domain")),e?e.name:null},getLoggedDomainFull:a,getLoggedUserType:c,setLoggedUserEmail:function(e){if(i.isSupported)i.set("user_email",e);else{if(!i.cookie.isSupported)return!1;i.cookie.set("user_email",e)}return!0},getLoggedUserEmail:s,getAvailableDomains:function(){return i.isSupported?i.get("availableDomains"):i.cookie.isSupported?i.cookie.get("availableDomains"):void 0},setAvailableDomains:function(e){if(i.isSupported)i.set("availableDomains",e);else{if(!i.cookie.isSupported)return!1;i.cookie.set("availableDomains",e)}return!0},removeLoggedDomain:function(){if(i.isSupported)i.remove("domain_id");else{if(!i.cookie.isSupported)return!1;i.cookie.remove("domain_id")}return!0},clearLocalStorage:function(){var o={};if(i.isSupported)angular.forEach(n,function(e){o[e]=i.get(e)}),i.clearAll(),angular.forEach(o,function(e,o){i.set(o,e)});else{if(!i.cookie.isSupported)return!1;angular.forEach(n,function(e){o[e]=i.cookie.get(e)}),i.cookie.clearAll(),angular.forEach(o,function(e,o){i.cookie.set(o,e)})}return!0},clearLocalStorageCompletely:function(){return i.isSupported?(i.clearAll(),!0):i.cookie.isSupported?(i.cookie.clearAll(),!0):void 0},isAdmin:function(){return 1===c()},isViewer:function(){return 3===c()},isManufacturerDomain:function(){var e=a();return e?"M"===e.type:null},isProjectLocked:function(){return"L"===e()},isAudaxwareDomainAndEmail:function(){return 1===u()&&"audaxware.com"===s().split("@")[1]}}}]);
xPlanner.factory("RouteService",["AuthService","$q",function(e,t){function r(){return e.isAuthenticated()&&"number"==typeof e.getLoggedDomain()}return{isNotManufaturerDomainType:function(){return r()?e.isManufacturerDomain()?t.reject("FORBIDDEN_MANUFACTURER"):t.resolve():t.reject("UNAUTHENTICATED")},isAuthenticated:function(){return r()?t.resolve():t.reject("UNAUTHENTICATED")},isAdminUser:function(){return r()?e.isAdmin()?t.resolve():t.reject("FORBIDDEN"):t.reject("UNAUTHENTICATED")}}}]);
xPlanner.controller("SubscriptionCtrl",["$scope","$state","$mdDialog","WebApiService","toastr","ProgressService",function(e,r,t,n,o,c){e.send=function(){e.requestSubscriptionForm.$setSubmitted(),e.requestSubscriptionForm.$valid?(c.blockScreen(),n.genericController.save({controller:"Subscription",action:"Item"},e.data,function(){c.unblockScreen(),o.success("Email sent successfully"),r.go("notice")},function(){c.unblockScreen(),o.error("Error sending email, please try again. If the error persist, please contact the technical support.")})):o.error("Please make sure you entered all the required fields")},e.close=function(){t.cancel()}}]);
xPlanner.controller("EditUserCtrl",["$scope","$mdDialog","GridService","local","AuthService","HttpService","WebApiService","toastr","ProgressService","StatusListProject",function(s,t,o,c,r,e,i,l,a,n){s.style_height=window.innerHeight-120,s.user=angular.copy(c.user),s.edit=c.edit,s.selectedIndex=0;var d=null,u=null;s.statusList=n,s.showProjects=!r.isManufacturerDomain(),s.gridHeight=450,i.genericController.query({controller:"AspNetRoles",action:"All"},function(e){s.roles=e}),c.edit?i.genericController.get({controller:"users",action:"Item",domain_id:r.getLoggedDomain(),project_id:c.user.id},function(e){s.user=e,u=angular.copy(e.email),e.aspNetUserRoles&&0<e.aspNetUserRoles.length&&(s.user.role_id=e.aspNetUserRoles[0].roleId)}):s.user={};n={transport:{read:{url:e.generic("projects","Summarized",r.getLoggedDomain()),headers:{Authorization:"Bearer "+r.getAccessToken()}}},schema:{model:{id:"project_id",fields:{project_description:{type:"string"}}}},error:function(){l.error("Error to retrieve projects from server, please contact technical support")},sort:{field:"project_description",dir:"asc"}},e={noRecords:"This enterprise has no projects",height:s.gridHeight};s.options=s.showProjects?o.getStructure(n,angular.copy([{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(userProjectsGrid)" ng-checked="allPagesSelected(userProjectsGrid)" aria-label="checkbox" ng-click="select($event, userProjectsGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, userProjectsGrid)" ng-checked="isSelected(userProjectsGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"3em"},{field:"project_description",title:"Project Name",width:400}]),null,e,!1):null,s.isSelected=o.isSelected,s.allSelected=o.allSelected,s.select=function(e,r,t){"1"==s.user.role_id?l.error("Administrators have access to all projects"):o.select(e,r,t)},s.allPagesSelected=o.allPagesSelected,s.verifyRole=function(){s.showProjects&&null==s.user.role_id&&(l.warning("Please select a Role before go to projects tab."),s.selectedIndex=0)},s.dataBound=function(){o.dataBound(s.userProjectsGrid),null!=c.user&&("Administrators"==c.user.role?s.userProjectsGrid.selecteds=s.userProjectsGrid.dataSource.data():c.user&&c.user.aspNetUser.project_user&&(s.userProjectsGrid.selecteds=s.userProjectsGrid.dataSource.data().filter(function(r){return c.user.aspNetUser.project_user.find(function(e){return e.project_id===r.project_id})})))},s.updateProjects=function(){s.showProjects&&null!=s.user.role_id&&("1"==s.user.role_id?s.userProjectsGrid.selecteds=s.userProjectsGrid.dataSource.data():s.userProjectsGrid.selecteds="")},s.$watch("project_status",function(e,r){e!=r&&(d=null==d||0==d.length?s.userProjectsGrid.dataSource.data():d,s.userProjectsGrid.dataSource.data(d),"0"!=s.project_status)&&s.userProjectsGrid.dataSource.data(s.userProjectsGrid.dataSource.data().filter(function(e){return s.project_status===e.status}))}),s.save=function(){var e;s.EditUserForm.$setSubmitted(),s.EditUserForm.$valid?(a.blockScreen(),s.user.project_user=o.getSelecteds(s.userProjectsGrid),s.user.aspNetUserRoles=null,s.user.AspNetUserRoles=[{userId:c.edit?s.user.id:null,roleId:s.user.role_id,domain_id:r.getLoggedDomain()}],c.edit||(e={user:s.user,enterprise:r.getLoggedDomainFull()}),i.genericController[c.edit?"update":"save"]({controller:"Users",action:c.edit?"Item":"InviteUser",domain_id:r.getLoggedDomain(),project_id:c.edit?s.user.id:null},c.edit?s.user:e,function(e){l.success("User successfully saved."),a.unblockScreen(),s.close(!0,e)},function(e){409===e.status?l.error("The enterprise already has an associated user with the informed Email!"):l.error("Error trying to save user, please contact the technical support."),a.unblockScreen()})):l.error("Please make sure you've entered all required fields")},s.resetPassword=function(){a.blockScreen(),i.genericController.save({controller:"account",action:"forgotPassword"},{email:u},function(){a.unblockScreen(),l.success("An email have been sent to the user with the instructions"),s.close()},function(e){a.unblockScreen(),l.error("Error sending email, please try again. If the error persist, please contact the technical support.")})},s.close=function(e,r){e?t.hide(r):t.cancel()}}]);
xPlanner.controller("DisplayColumnsCtrl",["$scope","$mdDialog","local","GridService","CheckboxEditor","ProgressService","AssetColumnsType","KendoAssetInventoryService","toastr",function(n,l,a,e,o,i,t,c,d){n.groups=t.distinctTypes,a.columns=angular.copy(a.columns),a.consolidated=angular.copy(a.consolidated);var s=t.fieldsMap,r=["Phase","Department","Room No.","Room Name","Resp","Type","Code","Description","Status","PO Status","Lease qty","DNP qty","Net New","PO qty","PO amt","PO delta","Unit Budget","Total Budget","PO Number","Delivered Date","Photo","CAD ID","Model No.","Model Name","Manufacturer","Room Count","Planned qty","Shop Drawing","Flag","Lead Time","Install Date","Profile","Cost Center"],u=["Inventory ID","JSN","Code","Source Location","Target Location"],m={display:[],consolidated:[]},p={clearance_top:"Clearance, Top(in)",clearance_bottom:"Clearance, Bottom(in)",clearance_right:"Clearance, Right(in)",clearance_left:"Clearance, Left(in)",clearance_front:"Clearance, Front(in)",clearance_back:"Clearance, Back(in)",loaded_weight:"Weight, Loaded(lb)",ship_weight:"Weight, Shipping (lb)",depth:"Dimension, Depth(in)",height:"Dimension, Height(in)",width:"Dimension, Width(in)",mounting_height:"Dimension, Mounting Height(in)"},t=[{field:"column",title:"Field"},{field:"type",title:"Group"},{field:"display",title:"Display",template:'<section layout="column" layout-align="none center"><md-checkbox style="margin-top: 0px; margin-bottom: 0px" class="checkbox" ng-checked="dataItem.display" aria-label="checkbox"></md-checkbox></section>',editor:o},{field:"consolidate",title:"Consolidate",template:'<section layout="column" layout-align="none center"><md-checkbox style="margin-top: 0px; margin-bottom: 0px" class="checkbox" ng-checked="CheckRequiredConsolidatedColumns(dataItem)" ng-disabled=lockConsolidatedCheckBox(dataItem) aria-label="checkbox"></md-checkbox></section>',editor:o}],o={data:a.columns.map(function(e){return{column:p[e.field]||e.title,type:s[e.field],display:!e.hidden,consolidate:a.consolidated.includes(e.field)}}).filter(function(e){return e.column}),sort:{field:"column",dir:"asc"},group:[{field:"type"}],schema:{model:{fields:{display:{type:"boolean"},type:{editable:!1},column:{editable:!1}}}}};function f(o,t){o&&"boolean"==typeof t&&-1!==n.groups.indexOf(o)&&n.displayColumnsGrid.dataSource.data(n.displayColumnsGrid.dataSource.data().map(function(e){return e.type===o&&(e.display=t),e}))}n.gridHeight=window.innerHeight-210,n.options=e.getStructure(o,t,null,{height:n.gridHeight,groupable:!0,editable:!0},{pageSizeDefault:100}),n.collapseExpand=e.collapseExpand,n.dataBound=function(){i.unblockScreen(),e.dataBound(n.displayColumnsGrid)},n.lockConsolidatedCheckBox=function(e){return 1==u.includes(e.column)},n.CheckRequiredConsolidatedColumns=function(e){return 1==u.includes(e.column)||e.consolidate},n.save=function(){for(var e=n.displayColumnsGrid.dataSource.data(),o=0;o<a.columns.length;o++){var t=e.find(function(e){return e.column==(p[a.columns[o].field]||a.columns[o].title)});t&&(a.columns[o].hidden=!t.display,t.consolidate)&&m.consolidated.push(a.columns[o].field)}m.display=a.columns,i.blockScreen(),l.hide(m)},n.resetDefaultColumns=function(){n.displayColumnsGrid.dataSource.data().forEach(function(e){e.display=1==r.includes(e.column)})},n.resetDefaultConsolidation=function(){var t=c.GetNotConsolidatedFields();n.displayColumnsGrid.dataSource.data().forEach(function(o){var e=a.columns.find(e=>e.title==o.column).field;o.consolidate=1!=t.includes(e)})},n.selectAllToConsolidate=function(o){o||d.error("You must select a group to consolidate."),n.displayColumnsGrid.dataSource.data().forEach(function(e){e.type==o&&(e.consolidate=!0)})},n.unselectAllToConsolidate=function(o){o||d.error("You must select a group to unconsolidate."),n.displayColumnsGrid.dataSource.data().forEach(function(e){e.type==o&&(e.consolidate=!1)})},n.selectAllToDisplay=function(e){e||d.error("You must select a group to display."),f(e,!0)},n.unselectAllToDisplay=function(e){e||d.error("You must select a group to hide."),f(e,!1)},n.close=function(){l.cancel()}}]);
xPlanner.controller("ProgressBarCtrl",["$scope","$mdDialog","local",function(e,o,r){e.progress=r.percentage,e.close=function(){o.cancel()}}]);
xPlanner.controller("SaveChangesCtrl",["$scope","$mdDialog",function(n,c){n.confirm=function(n){c.hide(n)},n.cancel=function(){c.cancel()}}]);
xPlanner.controller("ThirdPartyCopyrightCtrl",["$scope","$mdDialog",function(n,o){n.close=function(){o.cancel()}}]);
xPlanner.controller("ViewersChangesCtrl",["$scope","$mdDialog",function(n,c){n.cancel=function(){c.cancel()}}]);
xPlanner.controller("AddVendorCtrl",["$scope","WebApiService","$mdDialog","toastr","AuthService","ProgressService",function(r,e,n,d,t,c){var i=[];e.genericController.query({controller:"vendor",action:"All",domain_id:t.getLoggedDomain()},function(e){r.anotherVendors=e.filter(function(e){return e.domain_id==t.getLoggedDomain()}).map(function(e){return e.name})}),r.add=function(o){r.addVendorForm.$setSubmitted(),r.addVendorForm.$valid?(c.blockScreen(),e.genericController.save({controller:"vendor",action:"Item",domain_id:t.getLoggedDomain()},r.vendor,function(e){d.success("vendor Added"),r.vendor={},r.addVendorForm.$setUntouched(),r.addVendorForm.$setPristine(),i.push(e),c.unblockScreen(),o&&n.hide(i)},function(e){c.unblockScreen(),d.error("Error to try add vendor, please contact the technical support")})):d.error("Please make sure you enter correctly all the fields")},r.close=function(){0<i.length?n.hide(i):n.cancel()}}]);
xPlanner.controller("AddEditAddressCtrl",["$scope","StatesList","toastr","$mdDialog","local",function(e,d,s,r,t){e.statesList=d,e.saveButtonText=t.address?"Update":"Add",e.address=angular.copy(t.address)||{},e.anotherAddresses=t.items.filter(function(d){return d.id!=e.address.id||d.domain_id!=t.params.domain_id||d.project_id!=t.params.project_id}),e.add=function(){e.addAddressForm.$setSubmitted(),e.addAddressForm.$valid?r.hide(e.address):s.error("Please make sure you entered correctly all the fields")},e.close=function(){r.cancel()}}]);
xPlanner.controller("AIAddModalCtrl",["$scope","AuthService","$mdDialog","local","WebApiService","$q","toastr","ProgressService","$timeout","$mdStepper",function(r,i,e,t,d,a,o,c,s,n){var l,_;i.isAuthenticated()?(r.isTemplate=t.isTemplate,r.isToGlobalTemplate=t.isToGlobalTemplate,r.isLink=t.isLink,t.selected_asset?(r.linkBudgetQty=t.selected_asset.budget_qty,o.warning("Only asset entries with matching quantities will appear when linking")):r.linkBudgetQty=null,r.currentStep=1,r.wizardData={selectedAssets:[],projectAction:1,isRelocate:!1},r.modalTitle=t.isLink?"Link Asset":"Add New Asset",r.confirmMessage=t.isLink?"linking the asset":"adding the assets",s(function(){l=n("stepper-add-asset")},!1),r.wizardData.params=t.isLink?t.selected_asset:t.params,r.wizardData.style_height=window.innerHeight-(t.isLink?340:310),_=[],r.isLink&&t.selected_asset&&(r.sourceDescription=t.selected_asset.phase_description+" > "+t.selected_asset.department_description+" > "+t.selected_asset.room_name+" - "+t.selected_asset.room_number+" > ",t.selected_asset.jsn_code&&(r.sourceDescription+=t.selected_asset.jsn_code+" > "),r.sourceDescription+=t.selected_asset.asset_code+" - "+t.selected_asset.asset_description),r.add=function(){var s;!r.wizardData.selectedAssets||r.wizardData.selectedAssets.length<1?l.error("Please modify the qty to select at least one element to add"):r.wizardData.params.room_id||r.wizardData.selecteds&&0!=r.wizardData.selecteds.length?(r.wizardData.params.room_id&&(r.wizardData.selecteds=[r.wizardData.params]),c.blockScreen(),s=[],r.wizardData.selectedAssets[0].inventory_id?s.push((r.isLink?d.link_asset_from_project.save({domain_id:i.getLoggedDomain(),project_id:r.wizardData.params.project_id,target_inventory_id:t.selected_asset.inventory_id},r.wizardData.selectedAssets[0],function(e){_.push(e),r.$emit("updateProgressBar",r.params)}):d.add_asset_from_project_multiple_rooms.save({domain_id:i.getLoggedDomain(),project_id:r.wizardData.params.project_id,action:r.wizardData.projectAction,withBudgets:"source"==r.wizardData.selected_costField},{items:r.wizardData.selectedAssets,locations:r.wizardData.selecteds},function(e){_=_.concat(e),r.$emit("updateProgressBar",r.params)})).$promise):angular.forEach(r.wizardData.selectedAssets,function(a){angular.forEach(r.wizardData.selecteds,function(e){var t;s.push(d.asset_inventory_consolidated_save.save({domain_id:i.getLoggedDomain(),project_id:e.project_id,cost_field:r.wizardData.selected_costField||"default"},(t=a,e=e,(t=angular.copy(t)).project_id=r.wizardData.params.project_id,t.phase_id=e.phase_id||r.wizardData.params.phase_id,t.department_id=e.department_id||r.wizardData.params.department_id,t.room_id=e.room_id||r.wizardData.params.room_id,t.asset_domain_id=t.domain_id,t.domain_id=i.getLoggedDomain(),t.resp=t.default_resp,t.comment=1,t.current_location="Plan",t.unit_budget=t.unit_budget||0,t),function(e){_.push(e),r.$emit("updateProgressBar",r.params)}).$promise)})}),a.all(s).then(function(){c.unblockScreen(),r.isLink?o.success("The selected asset has been linked!"):o.success("All the selected assets have been added!"),r.close()},function(){c.unblockScreen(),o.error("Error to try add one, or all, the selected assets. Please contact technical support")})):l.error("Please select at least one room")},r.confirm=function(){if(r.wizardData.selecteds&&0!=r.wizardData.selecteds.length)if(!r.wizardData.params.room_id&&r.wizardData.isRelocate&&1<r.wizardData.selecteds.length)l.error('When selecting "relocate" mode only one room can be selected');else{var e;if(r.wizardData.params.room_id)for(t=0;t<r.wizardData.selectedAssets.length;++t)e?e+=', "'+r.wizardData.selectedAssets[t].asset_code+" - "+r.wizardData.selectedAssets[t].asset_description+'"':e='"'+r.wizardData.selectedAssets[t].asset_code+" - "+r.wizardData.selectedAssets[t].asset_description+'"';else for(var t=0;t<r.wizardData.selecteds.length;++t){var a=r.wizardData.selecteds[t];e?e+=', "'+a.room_desc+'"':e='"'+a.room_desc+'"'}r.wizardData.addingRooms=e,r.currentStep=3,l.next()}else l.error("Please select "+(r.wizardData.isRelocate?"":"at last")+" one room")},r.close=function(){c.blockScreen(),_.length?e.hide(_):e.cancel(),c.unblockScreen()},r.next=function(){switch(l.clearError(),r.currentStep){case 1:c.blockScreen(),(!r.wizardData.selectedAssets||1<r.wizardData.selectedAssets.length)&&r.isLink?(l.error("Please select only one asset to be linked"),c.unblockScreen()):(!r.wizardData.selectedAssets||r.wizardData.selectedAssets.length<1?r.wizardData.isRelocate?l.error("Please select at least one asset to be relocated"):l.error("Please modify the qty to select at least one element to add"):!r.isLink&&1==r.projectAction&&r.wizardData.selectedAssets.find(function(e){return!(e.avg_cost||e.min_cost||e.max_cost||e.last_cost||e.unit_budget&&0!=e.unit_budget)})?l.error("The asset(s) to be added must have a budget different from 0"):(l.next(),r.currentStep=2),c.unblockScreen());break;case 2:r.confirm();break;case 3:r.add()}},r.back=function(){1<r.currentStep&&(r.wizardData.selecteds=[],1===r.currentStep&&(r.wizardData.selectedAssets=[]),l.clearError(),l.back(),--r.currentStep)}):$state.go("login")}]);
xPlanner.controller("CheckRoomModalCtrl",["$scope","HttpService","AuthService","local","$mdDialog","$mdMedia","GridService",function(e,t,i,a,d,r,l){e.params=a.params,e.largeMedia=r("gt-sm"),e.gridHeight=440;var o,t={transport:{read:{url:t.search_room_asset(i.getLoggedDomain(),e.params.project_id,(r=a.assets,o="",r.forEach(function(e){o+=e.asset_id+e.asset_domain_id.toString()+","}),o.slice(0,-1)),e.params.phase_id||-1,e.params.department_id||-1,e.params.room_id||-1),headers:{Authorization:"Bearer "+i.getAccessToken()}}},schema:{model:{fields:{dnp_qty:{type:"number"}}}}},a={reorderable:!0,groupable:!0,height:e.gridHeight};e.options=l.getStructure(t,[{field:"asset_code",title:"Code",width:"110px"},{field:"asset_description",title:"Description",width:"200px",template:'#: asset_description +  (tag ? "(" + tag + ")" : "") #'},{field:"serial_number",title:"Model No.",width:"120px"},{field:"serial_name",title:"Model Name",width:"140px"},{field:"drawing_room_name",title:"Room",width:"170px",template:'<a ng-click="close()" ui-sref="index.room({project_id: #: project_id #, phase_id: #: phase_id #, department_id: #: department_id #, room_id: #: room_id #})">#: drawing_room_name #</a>'},{field:"dept_desc",title:"Department",width:"200px"},{field:"phase_desc",title:"Phase",width:"200px"},{field:"budget_qty",title:"Planned Qty",width:"120px",template:"<center>#: budget_qty#</center>"},{field:"lease_qty",title:"Lease Qty",width:"120px",template:"<center>#: lease_qty#</center>"},{field:"dnp_qty",title:"DNP Qty",width:"120px",template:"<center>#: dnp_qty || 0 #</center>"},{field:"resp",title:"Resp",width:"100px"},{field:"current_location",title:"EQ Status",width:"120px"},{field:"po_status",title:"PO Status",width:"130px"},{field:"total_budget_amt",title:"Budget",width:"130px",template:'<aw-currency value="#: total_budget_amt # "></aw-currency>'}],null,a),e.dataBound=l.dataBound,e.close=function(){d.cancel()}}]);
xPlanner.controller("CompareAssetsCtrl",["$scope","$mdDialog","local","GridService","ProgressService","toastr","AssetInventoryColumns",function(e,t,i,s,n,o,r){var d=function(e,t,i,s){var n,o=["uid","inventory_ids","date_modified","unit_budget","id","total_assets_options","departments_qty","phases_qty","rooms_qty","pdoc_filename","mounting_height","po_status","quantity"],d=new Array,a="";for(n in e)e[n]!=t[n]&&"object"!=typeof e[n]&&o.indexOf(n)<0&&"_ow"!=n.slice(-3)&&"_id"!=n.slice(-3)&&(a=r.hasOwnProperty(n)?r[n]:n,d.push({column:a,asset1:e[n],asset2:t[n],group:i.indexOf(n)<0||!s?"unconsolidated":"consolidated"}));return d}(i.items[0],i.items[1],i.consolidatedColumns,i.isConsolidated),a=(e.asset1Content=i.items[0].asset_code+" (IDs: "+l(i.items[0].inventory_id,i.items[0].inventory_ids)+")",e.asset2Content=i.items[1].asset_code+" (IDs: "+l(i.items[1].inventory_id,i.items[1].inventory_ids)+")",[{field:"column",title:"Column Name",width:"100px"},{field:"asset1",title:"Asset 1",width:"110px"},{field:"asset2",title:"Asset 2",width:"110px"},{field:"group",title:"Group",width:"80px",hidden:!i.isConsolidated,template:function(e){return"consolidated"==e.group?'<section align=center ><i class="material-icons no-button" style="color: green">check</i></section>':""}}]),d={data:d,group:i.isConsolidated?[{field:"group"}]:[]};function l(e,t){t=0==e?t:e;return 25<t.length?t.substring(1,25)+"...":t}e.gridHeight=window.innerHeight-210,e.options=s.getStructure(d,a,null,{height:e.gridHeight,groupable:!0,editable:!1,noRecords:"The assets selected are equal"},{pageSizeDefault:100}),e.collapseExpand=s.collapseExpand,e.dataBound=function(){n.unblockScreen(),s.dataBound(e.compareAssetsGrid)},e.close=function(){t.cancel()}}]);
xPlanner.controller("ConnectAssetModalCtrl",["$scope","AuthService","local","WebApiService","$mdDialog","toastr","AssetsService","GridService","$timeout","$mdStepper","KendoGridService","ConnectionTypeList",function(a,i,t,n,o,r,e,s,l,d,c,p){var u,m,w;function h(e,t){a.assetIn=e,u=a.assetOut=null,a.newConnection={project_id:t,domain_id:i.getLoggedDomain(),inventory_id_in:a.assetIn.inventory_id,inventory_id_out:null,connection_type:null},a.wizardData.options=(e=a.wizardData.gridHeight,t=new kendo.data.DataSource({pageSize:50,data:[],schema:{model:{id:"inventory_id",fields:{phase_description:{editable:!1},department_description:{editable:!1},room_name:{editable:!1},room_number:{editable:!1},asset_code:{editable:!1},asset_description:{editable:!1},connection_type:{editable:!0},manufacturer_description:{editable:!1},network_option:{editable:!1},bluetooth:{editable:!1},cat6:{editable:!1},displayport:{editable:!1},dvi:{editable:!1},hdmi:{editable:!1},ports:{editable:!1},wireless:{editable:!1}}}}}),e={groupable:!0,noRecords:"No assets available",reorderable:!0,editable:!0,columnMenu:{columns:!0,sortable:!1},selectable:"single row",height:e},s.getStructure(t,[{field:"phase_description",title:"Phase",width:150},{field:"department_description",title:"Department",width:150},{field:"room_name",title:"Room Name",width:150},{field:"room_number",title:"Room Number",width:150},{field:"asset_code",title:"Code",width:120},{field:"asset_description",title:"Description",width:200},{field:"manufacturer_description",title:"Manufacturer",width:150},{field:"network_option",title:"Network Required",width:150,template:"<div align=center>#: network_option ? 'Yes' : '' #</div>"},{field:"bluetooth",title:"Bluetooth",width:150,template:"<div align=center>#: bluetooth ? 'Yes' : '--' #</div>"},{field:"cat6",title:"Cat 6",width:100,template:"<div align=center>#: cat6 ? 'Yes' : '--' #</div>"},{field:"displayport",title:"Displayport",width:150,template:"<div align=center>#: displayport ? 'Yes' : '--' #</div>"},{field:"dvi",title:"DVI",width:100,template:"<div align=center>#: dvi ? 'Yes' : '--' #</div>"},{field:"hdmi",title:"HDMI",width:100,template:"<div align=center>#: hdmi ? 'Yes' : '--' #</div>"},{field:"ports",title:"Ports",width:100},{field:"wireless",title:"Wireless",width:150,template:"<div align=center>#: wireless ? 'Yes' : '--' #</div>"}],{template:'<section layout="row" class="grid-toolbar" layout-align="space-between center" style="margin-top: 20px"><section flex="30" flex-order="1"><md-input-container class="md-block no-md-errors-spacer" style="margin: 0px" ><label>Connection Type</label><md-select ng-model= "newConnection.connection_type" ng-change="changeConnectionType()" required><md-option><em>None</em></md-option><md-option ng-repeat="connection in connectionTypeList" value="{{connection.value}}" >{{connection.name}}</md-option></md-select></md-input-container></section><section flex="35" flex-order="2" layout= "row"><md-input-container class="md-block no-md-errors-spacer" style="margin: 0px;" flex="90"><label>Search</label><input name="search" ng-model="searchBoxValue" ng-enter="search(searchBoxValue)"></md-input-container><button class="md-icon-button md-button gray-color" style="bottom: -0.5em; padding-left 0px; margin-left 0px" ng-click="clearAllFilters()"><i class="material-icons">delete_sweep</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Clear all filters</md-tooltip></button></section><section layout= "row" layout-align="end start" class="grid-toolbar" flex-order="3"><button class="md-icon-button md-button" ng-click="collapseExpand(assetsGrid)"><md-icon md-svg-icon="collapse_expand"></md-icon><md-tooltip md-direction="bottom">Collapse/Expand All</md-tooltip></button></section></section>'},e))}function f(){a.searchBoxValue=null,e.GetNetworkAssetToGrid(a.newConnection.project_id,a.newConnection.inventory_id_in).then(function(e){a.wizardData.assetsGrid.dataSource.data(e.map(function(e){return e.network_option=1,e})),u=e},function(){r.error("Error to retrieve assets from server, please contact technical support")})}i.isAuthenticated()?(a.showAssetSourceStep=null==t.items,a.connectionTypeList=p,a.wizardData={gridHeight:window.innerHeight-230},a.changeConnectionType=function(){var e=u,t=a.newConnection.connection_type.toLowerCase();"none"===t?a.wizardData.assetsGrid.dataSource.data(u):(console.log("--------------------------"),console.log(e),e=e.filter(e=>!0===e[t]||"1"===e[t]),a.wizardData.assetsGrid.dataSource.data(e))},a.showAssetSourceStep?(a.searchBoxInValue=null,a.wizardData.optionsIn=(p=a.wizardData.gridHeight,m=new kendo.data.DataSource({pageSize:50,data:[],schema:{model:{id:"inventory_id",fields:{phase_description:{editable:!1},department_description:{editable:!1},room_name:{editable:!1},room_number:{editable:!1},asset_code:{editable:!1},asset_description:{editable:!1},manufacturer_description:{editable:!1},ports:{editable:!1},it_connections:{editable:!1}}}}}),p={groupable:!0,noRecords:"No assets available",reorderable:!0,editable:!0,columnMenu:{columns:!0,sortable:!1},selectable:"single row",height:p},s.getStructure(m,[{field:"phase_description",title:"Phase",width:150},{field:"department_description",title:"Department",width:150},{field:"room_name",title:"Room Name",width:150},{field:"room_number",title:"Room Number",width:150},{field:"asset_code",title:"Code",width:120},{field:"asset_description",title:"Description",width:200},{field:"manufacturer_description",title:"Manufacturer",width:150},{field:"ports",title:"Ports",width:90},{field:"it_connections",title:"IT Connections",width:140}],{template:'<section layout="row"><section layout="row" layout-align="center center" flex-offset="40" flex="40" style="margin-top: 10px;"><md-input-container class="md-block no-md-errors-spacer" style="margin: 0px;" flex="90"><label>Search</label><input name="search" ng-model="searchBoxInValue" ng-enter="searchIn(searchBoxInValue)"></md-input-container><button class="md-icon-button md-button gray-color" style="bottom: -0.5em; padding-left 0px; margin-left 0px" ng-click="clearAllFiltersIn()"><i class="material-icons">delete_sweep</i><div class="md-ripple-container"></div><md-tooltip md-direction="bottom">Clear all filters</md-tooltip></button></section><section layout="row" flex="40" layout-align="end start"><button class="md-icon-button md-button" ng-click="collapseExpand(assetsInGrid)" style="bottom: -18px"><md-icon md-svg-icon="collapse_expand"></md-icon><md-tooltip md-direction="bottom">Collapse/Expand All</md-tooltip></button></section></section>'},p)),e.GetNetworkAssetInToGrid(t.params.project_id).then(function(e){a.wizardData.assetsInGrid.dataSource.data(e)},function(){r.error("Error to retrieve assets from server, please contact technical support")})):(h(t.items[0],t.params.project_id),a.searchBoxValue=null,f()),l(function(){w=d("stepper-connect-asset"),a.currentStep=1},!1),a.dataBound=s.dataBound,a.collapseExpand=s.collapseExpand,a.removeItem=s.RemoveItem,a.updateItems=s.updateItems,a.next=function(){if(w.clearError(),1==a.currentStep&&a.showAssetSourceStep){if(!a.wizardData.assetsInGrid.select().length)return void w.error("Please select the source asset. ");var e=a.wizardData.assetsInGrid.dataItem(a.wizardData.assetsInGrid.select());h(e,e.project_id),f()}if(2==a.currentStep&&a.showAssetSourceStep||1==a.currentStep&&!a.showAssetSourceStep){if(!a.wizardData.assetsGrid.select().length)return void w.error("Please select the target asset. The assets you selected in the inventory will be connected to the selected target.");if(a.assetOut=a.wizardData.assetsGrid.dataItem(a.wizardData.assetsGrid.select()),a.assetOut.connection_type=a.newConnection.connection_type,!a.assetOut.connection_type||"none"===a.newConnection.connection_type.toLowerCase())return void w.error("Please select a connection type.");if(a.assetOut.ports&&a.assetOut.it_connections>=a.assetOut.ports)return void w.error("There are no ports available for this connection.")}3==a.currentStep&&a.showAssetSourceStep||2==a.currentStep&&!a.showAssetSourceStep?(a.newConnection.inventory_id_out=a.assetOut.inventory_id,a.newConnection.connection_type=a.assetOut.connection_type,n.genericController.save({controller:"ITConnectivity",action:"Item",domain_id:i.getLoggedDomain(),project_id:t.params.project_id},a.newConnection,function(){r.info("Assets Connected!"),o.hide()},function(e){400==e.status?r.error(e.data):r.error("Error to connect assets, please contact technical suport")})):(a.currentStep++,w.next())},a.search=function(i){var n,e,t=u||a.wizardData.assetsGrid.dataSource.data();c.UnselectAll(a.wizardData.assetsGrid),i?(i=i.toLowerCase(),u=t,n=a.wizardData.assetsGrid.columns,e=t.filter(function(e){for(var t=0;t<n.length;t++)if(!n[t].hidden&&-1<String(e[n[t].field]).toLowerCase().indexOf(i))return!0}),a.wizardData.assetsGrid.dataSource.data(e),0<e.length&&a.wizardData.assetsGrid.dataSource.page(1)):a.wizardData.assetsGrid.dataSource.data(t)},a.searchIn=function(i){var n,e,t=u||a.wizardData.assetsInGrid.dataSource.data();c.UnselectAll(a.wizardData.assetsInGrid),i?(i=i.toLowerCase(),u=t,n=a.wizardData.assetsInGrid.columns,e=t.filter(function(e){for(var t=0;t<n.length;t++)if(!n[t].hidden&&-1<String(e[n[t].field]).toLowerCase().indexOf(i))return!0}),a.wizardData.assetsInGrid.dataSource.data(e),0<e.length&&a.wizardData.assetsInGrid.dataSource.page(1)):a.wizardData.assetsInGrid.dataSource.data(t)},a.clearAllFilters=function(){a.searchBoxValue=null,c.ClearFilters(a.wizardData.assetsGrid),a.search()},a.clearAllFiltersIn=function(){a.searchBoxInValue=null,c.ClearFilters(a.wizardData.assetsInGrid),a.searchIn()},a.back=function(){a.assetOut=null,w.clearError(),w.back(),a.currentStep--,a.showAssetSourceStep&&1==a.currentStep&&(a.assetIn=null)},a.cancel=function(){o.cancel()}):$state.go("login")}]);
xPlanner.controller("EditAssetModalCtrl",["$scope","StatusListeditMulti","$mdMedia","$mdDialog","AuthService","local","toastr","ProgressService","WebApiService","GridService","HttpService","$q","CostFieldListWithNone","PlacementList","UtilsService","FileService","OptionTypes","AssetOptionScope","DialogService","DocumentTypes","FormService","AssetClassList","KendoGridService",function(r,t,e,a,n,l,u,d,s,i,c,p,o,_,B,m,E,M,g,f,I,h,b){r.costField=o,r.selected_costField="default",r.image=C(l.assets[0].photo,l.assets[0].photo_domain_id),r.style_height=window.innerHeight-120,r.grid_height=window.innerHeight-300,r.statusList=t,r.largeMedia=e("gt-sm"),r.data={},r.showDocumentsTab=!1,r.placementList=_,r.classes=h,r.showZoomPicture=!1,r.newOptionCtrl={};var y,N,j,v,w,D,k,P=!(r.imgData=[]),S=!1,x=!1,T={profile_text:l.assets[0].profile_text,profile_budget:l.assets[0].profile_budget,detailed_budget:l.assets[0].detailed_budget};function A(t,e){t&&(r.imgData=[]);t={type:"",label:"",file:{},idx:e};e?r.imgData.length>e&&(r.imgData[e]=t):(t.idx=r.imgData.length,r.imgData.push(t))}function C(t,e){return c.generic("filestream","file",e,t,"photo")}function U(t){var e=angular.copy(l.params);return e.domain_id=n.getLoggedDomain(),e.project_id=l.params.project_id,e.action=t||(l.multiple?"All":"EditSingle"),e}function q(){return r.data.tags&&(r.data.tag=r.data.tags.join()),r.data.empty_cad_id&&(r.data.cad_id=-1),r.data.resp&&"object"==typeof r.data.resp&&(r.data.resp=r.data.resp.name),"number"!=typeof r.data.unit_budget&&null!=r.data.unit_budget&&(r.data.unit_budget=r.data.unit_budget.toString().replace("$","")),r.data.temporary_location=r.selectedTemporaryLocation&&r.selectedTemporaryLocation.name,r.data.final_disposition=r.selectedFinalDisposition&&r.selectedFinalDisposition.name,l.multiple&&r.data.unit_budget<0&&(r.data.unit_budget=null),l.multiple?{edited_data:r.data,inventories:w}:r.data}function z(){var t;return r.optionsAdded=(t=r.optionsAdded)&&!r.data.detailed_budget?t.map(function(t){return t.unit_price=0,t}):t,l.multiple?{inventories_id:w,options:r.multipleProfiles?null:r.optionsAdded}:{inventories_id:[r.data.inventory_id],options:r.optionsAdded}}l.multiple&&l.assets[0].consolidated_view,l.assets.some(function(t){return e=l.assets[0],t=t,e.budget_qty!==t.budget_qty||e.lease_qty!==t.lease_qty||e.dnp_qty!==t.dnp_qty||e.unit_budget!==t.unit_budget;var e})&&u.warning("The selected assets have different quantities / budget, if you change them using edit multiple, the values changed will apply to all assets, making them the same"),A(),l.multiple?(v=!0,w=[],D=l.assets[0].asset_id,k=l.assets[0].asset_profile,1==l.assets[0].consolidated_view?(1==l.assets.length&&(r.data=angular.copy(l.assets[0]),r.data.budget_qty=null,r.data.unit_budget=null,r.data.dnp_qty=null,r.data.lease_qty=null),angular.forEach(l.assets,function(t){w=t.inventory_ids.split(","),t.asset_id!==D&&(v=!1),t.asset_profile!=k&&(r.multipleProfiles=!0)})):w=l.assets.map(function(t){return t.asset_id!==D&&(v=!1),t.asset_profile!=k&&(r.multipleProfiles=!0),t.inventory_id}),r.oneType=v,y=w[0],v&&(r.data.asset_code=l.assets[0].asset_code,r.data.asset_id=l.assets[0].asset_id,r.data.asset_domain_id=l.assets[0].asset_domain_id)):(r.showDocumentsTab=!0,r.data=angular.copy(l.assets[0]),r.data.bluetooth="1"==r.data.bluetooth||"True"==r.data.bluetooth,r.data.cat6="1"==r.data.cat6||"True"==r.data.cat6,r.data.displayport="1"==r.data.displayport||"True"==r.data.displayport,r.data.dvi="1"==r.data.dvi||"True"==r.data.dvi,r.data.hdmi="1"==r.data.hdmi||"True"==r.data.hdmi,r.data.wireless="1"==r.data.wireless||"True"==r.data.wireless,r.data.network_option=1==r.data.network_option||"Yes"==r.data.network_option?1:"--"==r.data.network_option||0==r.data.network_option?0:2,r.data.temporary_location&&(r.selectedTemporaryLocation={name:r.data.temporary_location}),r.data.final_disposition&&(r.selectedFinalDisposition={name:r.data.final_disposition}),y=r.data.inventory_id,1==l.assets[0].consolidated_view&&(r.data.unit_budget=r.data.unit_budget||r.data.total_unit_budget),1<r.data.room_count&&(r.data.budget_qty=r.data.budget_qty/r.data.room_count,r.data.dnp_qty=r.data.dnp_qty/r.data.room_count,r.data.lease_qty=r.data.lease_qty/r.data.room_count)),r.data.class=null,!l.multiple&&l.assets[0].class&&(o=r.classes.find(function(t){return t.name==l.assets[0].class}))&&(l.assets[0].class=r.data.class=o.id),r.assetInfo={asset_domain_id:l.assets[0].asset_domain_id,asset_id:l.assets[0].asset_id},r.data&&(r.jsn_asset={jsn:{}},r.jsn_asset.jsn.jsn_code=r.data.jsn_code,r.jsn_asset.jsn_suffix="",(t=r.data.jsn_code)&&"string"==typeof t&&0<=(e=t.indexOf("."))&&(r.jsn_asset.jsn.jsn_code=t.substring(0,e),r.jsn_asset.jsn_suffix=t.substring(e+1)),r.jsn_asset.jsn.utility1=r.data.jsn_utility1,r.jsn_asset.jsn.utility2=r.data.jsn_utility2,r.jsn_asset.jsn.utility3=r.data.jsn_utility3,r.jsn_asset.jsn.utility4=r.data.jsn_utility4,r.jsn_asset.jsn.utility5=r.data.jsn_utility5,r.jsn_asset.jsn.utility6=r.data.jsn_utility6,r.jsn_asset.jsn.jsn_ow=r.data.jsn_ow),l.profile&&s.genericController.get({controller:"assetsInventory",action:"profile",domain_id:n.getLoggedDomain(),project_id:l.params.project_id,phase_id:y},function(t){x=l.multiple&&t.qty_assets_project>w||!l.multiple&&1<t.qty_assets_project}),l.multiple&&!v||s.genericController.query({controller:"profile",action:"AllNotProject",domain_id:n.getLoggedDomain(),project_id:l.params.project_id,phase_id:l.assets[0].asset_domain_id,department_id:l.assets[0].asset_id},function(t){t.sort(),r.globalProfiles=t.map(function(t){return t.domain_id=t.asset_domain_id,t}),r.globalProfiles.unshift({profile_text:"None"}),s.genericController.query({controller:"profile",action:"AllProject",domain_id:n.getLoggedDomain(),project_id:l.params.project_id,phase_id:l.assets[0].asset_domain_id,department_id:l.assets[0].asset_id},function(t){r.profiles=t},function(){u.error("Error to retrieve data from server. Please contact the technical support.")})},function(){u.error("Error to retrieve data from server. Please contact the technical support.")}),l.multiple&&r.multipleProfiles||s.genericController.query({controller:"inventoryOptions",action:"All",domain_id:n.getLoggedDomain(),project_id:y},function(t){l.profile&&0<t.length&&t.find(function(t){return 0<t.unit_price})&&(r.data.detailed_budget=!0),r.optionsAdded=t,r.optionsGrid.dataSource.data(t)}),"Yes"===r.data.biomed_check_required&&(r.data.biomed_check_required=!0),r.data.estimated_delivery_date&&(r.data.estimated_delivery_date=new Date(r.data.estimated_delivery_date)),r.data.delivered_date&&(r.data.delivered_date=new Date(r.data.delivered_date)),r.data.received_date&&(r.data.received_date=new Date(r.data.received_date)),r.data.tags=r.data.tag?r.data.tag.split(","):[],r.controllerParams={domain_id:n.getLoggedDomain()},r.projectControllerParams={domain_id:n.getLoggedDomain(),project_id:l.params.project_id},r.ccControllerParams={domain_id:n.getLoggedDomain(),project_id:l.params.project_id},s.genericController.get({controller:"projects",action:"CostField",domain_id:n.getLoggedDomain(),project_id:l.params.project_id},function(t){r.default_cost_field=t.cost_field},function(){u.error("Error to retrieve data from server, please contact the technical support.")});_={data:!r.multipleProfiles&&r.optionsAdded||[],schema:{model:{fields:{data_type:{editable:!1},code:{editable:!1},description:{editable:!1},unit_price:{type:"number",validation:{min:0}},unit_budget:{type:"number",validation:{min:0}},quantity:{type:"number",validation:{min:1},defaultValue:1},assets_options:{type:"object",editable:!1},"assets_options.scope":{editable:!1},"assets_options.settings":{editable:!1}}}},change:function(t){!r.addOp&&t.action&&"itemchange"===t.action&&(r.optionsAdded=r.optionsGrid.dataSource.data(),S=!0)}};var F,O,h=[{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(optionsGrid)" ng-checked="allPagesSelected(optionsGrid)" aria-label="checkbox" ng-click="select($event, optionsGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, optionsGrid)" ng-checked="isSelected(optionsGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"2.8em"},{field:"assets_options.scope",title:"Scope",template:"#: assets_options.scope == 2 ? 'Custom' : 'Catalog' #"},{field:"data_type",title:"Type",template:"{{getOptionType(dataItem.assets_options ? dataItem.assets_options.data_type : dataItem.data_type)}}"},{field:"code",title:"Code",template:"#: assets_options ? (assets_options.code || '') : (code || '') #"},{field:"description",title:"Description",template:"#: assets_options ? assets_options.description : description  #"},{field:"unit_price",title:"Unit Price",attributes:{class:"editable-cell"},template:"<div align=right>{{ dataItem.unit_price || dataItem[selected_costField === 'default' ? default_cost_field : selected_costField] || dataItem.unit_budget || 0 | currency}}</div>",hidden:!r.data.detailed_budget},{field:"quantity",title:"Quantity per Asset",type:"number",attributes:{class:"editable-cell"},template:l.multiple?"{{addOp ? #: quantity || 1 # : #: quantity #}}":"#: quantity || 1 #"},{field:"assets_options.settings",title:"Settings",attributes:{class:"no-multilines"}}];function $(){"Delivered"==(t=r.data.current_location)?r.data.received_date=null:"Received"!=t&&"Completed"!=t&&(r.data.delivered_date=null,r.data.received_date=null);var t,e=r.data.delivered_date,a=r.data.received_date;if(null!=e&&null!=a){if(a<=e)return void u.error("Received Date must be higher than Delivered Date")}else if(l.multiple&&(null!=e||null!=a))for(var i=0;i<l.assets.length;i++){var o=new Date(l.assets[i].delivered_date),n=new Date(l.assets[i].received_date),d=l.assets[i].asset_code,s=!1;if(s=!isNaN(o)&&a<=o||!isNaN(n)&&n<=e?!0:s)return void u.error("Received Date must be higher than Delivered Date for asset: "+d)}if(l.multiple&&(0<=r.data.budget_qty||0<=r.data.lease_qty||0<=r.data.dnp_qty)&&!l.assets.every(function(t){var e=(null!=r.data.budget_qty?r.data:t).budget_qty,a=(null!=r.data.lease_qty?r.data:t).lease_qty;return(null!=r.data.dnp_qty?r.data:t).dnp_qty<=e-a}))return void u.error("The quantity values provided are not valid. DNP Qty cannot be greater than planned qty - po qty");return 1}function R(){return{old_profile:l.profile?T.profile_text:r.selectedProfile.profile_text||r.selectedProfile.profile,old_profile_budget:(l.profile?T:r.selectedProfile).profile_budget,old_detailed_budget:l.profile?T.detailed_budget:j}}function Y(t){return!r.data[t+"_ow"]}function G(){F=[],A(!0),r.uploadForm&&I.ResetForm(r.uploadForm)}function H(){s.genericController.save({controller:"assetsInventory",action:"pictures",domain_id:n.getLoggedDomain(),project_id:l.params.project_id,phase_id:y},F,function(){u.success("Pictures successfully uploaded"),d.unblockScreen(),r.editPhotosMode=!1,G(),r.selectDocumentsTab()},function(t){u.error("Error to upload one or more pictures. "+t.data),d.unblockScreen()})}function Q(){var e=[];return r.photosFileMatrix.concat(r.artworkFileMatrix).forEach(function(t){t.forEach(function(t){t.isChecked&&e.push(t)})}),e}function L(){var t=Q();if(!t||t.length<1)u.error("You need to select one document");else{if(!(1<t.length))return t[0];u.error("Only one document can be selected")}return null}function V(a,i){return p(function(t,e){a?(d.blockScreen(),s.genericController.patch({controller:"projectDocuments",action:"type",domain_id:n.getLoggedDomain(),project_id:l.params.project_id,phase_id:a.id},{type_id:i},function(){d.unblockScreen(),r.selectDocumentsTab(),t(a)},function(t){d.unblockScreen(),e(t)})):e("No document")})}function Z(){d.blockScreen(),s.genericController.get({controller:"BudgetCopilot",action:"All",domain_id:n.getLoggedDomain(),project_id:r.sourceProject,phase_id:r.monthPeriod,department_id:r.searchBoxValue},function(t){null==t.budgets&&(t.budgets=[]),r.budgetOptionsGrid.dataSource.data(t.budgets),r.sourceAssetsGrid.dataSource.data(t.assets),d.unblockScreen()})}r.options=i.getStructure(_,h,null,{noRecords:"No options",groupable:!0,editable:!0,height:r.grid_height}),r.toggleEditOption=function(){var t;i.verifySelected("edit","option",r.optionsGrid,!0)&&(t=i.getSelecteds(r.optionsGrid)[0],"Catalog"==M[(t=t).assets_options.scope]?u.info("You can only edit custom options"):(r.optionToEdit=angular.extend({},t.assets_options,{quantity:t.quantity,unit_price:t.unit_price,domain_document:t.domain_document}),r.toggleAddOption()))},r.isSelected=i.isSelected,r.allSelected=i.allSelected,r.select=i.select,r.allPagesSelected=i.allPagesSelected,r.dataBound=function(){i.dataBound(r.optionsGrid)},r.changeProfile=function(){var t;S=(x="None"!=r.selectedProfile.profile_text?(s.genericController.query((t=r.selectedProfile).inventory_id?{controller:"InventoryOptions",action:"All",domain_id:n.getLoggedDomain(),project_id:t.inventory_id}:{controller:"Profile",action:"options",domain_id:n.getLoggedDomain(),project_id:l.params.project_id,phase_id:t.profile_id},function(t){r.optionsGrid.dataSource.data(t),r.optionsAdded=t,j=r.selectedProfile.detailed_budget,r.toggleDetailedBudget(j)}),P=!0,l.profile?x:1<r.selectedProfile.qty_assets_project?!l.multiple||r.selectedProfile.qty_assets_project>w:1===r.selectedProfile.qty_assets_project&&(r.selectedProfile.detailed_budget!=T.detailed_budget||r.selectedProfile.profile_text!=T.profile_text||r.selectedProfile.profile_budget!=T.profile_budget)):(r.optionsGrid.dataSource.data([]),r.optionsAdded=[],P=!1,l.profile&&x),l.profile&&T.profile_text&&""!=T.profile_text),r.multipleProfiles=!1},r.changeQty=function(){r.data.net_new=(r.data.budget_qty||0)-(r.data.dnp_qty||0),r.calculateBudgets()},r.canChangeBudgetQty=function(){return l.multiple?!l.assets.some(function(t){return!!t.source_location}):!r.data.source_location},r.calculateBudgets=function(){s.asset_inventory.update({action:"InventoryBudget",domain_id:n.getLoggedDomain(),project_id:l.params.project_id},{type_resp:r.data.type_resp,unit_markup_calc:r.data.unit_markup_calc,unit_escalation_calc:r.data.unit_escalation_calc,unit_budget_adjusted:r.data.unit_budget_adjusted,unit_tax_calc:r.data.unit_tax_calc,unit_install:r.data.unit_install,unit_freight:r.data.unit_freight,unit_budget_total:r.data.unit_budget_total,total_install_net:r.data.total_install_net,total_budget_adjusted:r.data.total_budget_adjusted,total_tax:r.data.total_tax,total_install:r.data.total_install,total_freight_net:r.data.total_freight_net,total_freight:r.data.total_freight,total_budget:r.data.total_budget,unit_markup:r.data.unit_markup,total_unit_budget:r.data.total_unit_budget,unit_escalation:r.data.unit_escalation,unit_tax:r.data.unit_tax,unit_install_net:r.data.unit_install_net,unit_install_markup:r.data.unit_install_markup,unit_freight_net:r.data.unit_freight_net,unit_freight_markup:r.data.unit_freight_markup,net_new:r.data.net_new},function(t){t=t,r.data.total_unit_budget=t.total_unit_budget,r.data.unit_budget_adjusted=t.unit_budget_adjusted,r.data.unit_budget_total=t.unit_budget_total,r.data.unit_markup_calc=t.unit_markup_calc,r.data.unit_freight=t.unit_freight,r.data.unit_escalation_calc=t.unit_escalation_calc,r.data.unit_install=t.unit_install,r.data.unit_tax_calc=t.unit_tax_calc,r.data.total_budget_adjusted=t.total_budget_adjusted,r.data.total_tax=t.total_tax,r.data.total_install_net=t.total_install_net,r.data.total_install=t.total_install,r.data.total_freight_net=t.total_freight_net,r.data.total_freight=t.total_freight,r.data.total_budget=t.total_budget},function(){u.error("Error to update budgetary values, please contact technical support")})},r.getOptionType=function(e){var t=E.find(function(t){return t.id==e});return t?t.name:""},r.addNewOptionToGrid=function(){r.newOptionCtrl.validateOption()&&r.newOptionCtrl.getOption().then(function(t){var e,a;r.optionToEdit&&(e=t,a=r.optionsAdded.find(function(t){return t.assets_options.asset_option_id==e.asset_option_id}))&&r.optionsAdded.splice(r.optionsAdded.indexOf(a),1),r.optionsAdded.push(angular.extend({},r.assetInfo,{option_id:t.asset_option_id,domain_id:t.domain_id,unit_price:t.unit_price||0,quantity:t.quantity||1,assets_options:t,code:t.code,data_type:t.data_type,description:t.description,picture:t.picture,min_cost:t.min_cost,max_cost:t.max_cost,scope:t.scope,settings:t.settings})),S=!0,r.toggleAddOption(),r.optionToEdit=null})},r.toggleAddOption=function(){r.addOp&&(r.optionsGrid.dataSource.data(r.optionsAdded),r.optionToEdit=null),r.addOp=!r.addOp},r.deleteOptions=function(){i.anySelected(r.optionsGrid)?(i.getSelecteds(r.optionsGrid).forEach(function(t){r.optionsGrid.dataSource.remove(t)}),r.optionsAdded=r.optionsGrid.dataSource.data(),i.unselectAll(r.optionsGrid),S=!0):u.error("You need to select at least one option to delete")},r.confirmSynchronization=function(i,o){return p(function(e,t){var a;i?(a=0,s.genericController.get({controller:"assetsInventory",action:"GetSynchronizedCount",domain_id:o.domain_id,project_id:o.project_id,phase_id:o.inventory_id,department_id:o.jsn_code,room_id:o.resp.trim()},function(t){a=t,d.unblockScreen();t="Are you sure you want all the assets with JSN "+o.jsn_code+"  and Responsibility "+o.resp+" to be updated with this asset information? A total of "+a.text+" item(s) are going to be updated.";g.Confirm("Asset update",t,null,null,!0).then(function(){e(!0)},function(){e(!1)})},function(){d.unblockScreen(),u.error("Error when trying to get total synchronized assets. Assets were not updated.")})):e(!1)})},r.save=function(t){var e;$()&&(r.data&&(r.data.jsn_code=(e=r.jsn_asset).jsn.jsn_code,e.jsn_suffix=e.jsn_suffix.trim(),0<e.jsn_suffix.length&&(r.data.jsn_code+="."+e.jsn_suffix),r.data.jsn_utility1=e.jsn.utility1,r.data.jsn_utility2=e.jsn.utility2,r.data.jsn_utility3=e.jsn.utility3,r.data.jsn_utility4=e.jsn.utility4,r.data.jsn_utility5=e.jsn.utility5,r.data.jsn_utility6=e.jsn.utility6,r.data.jsn_ow=e.jsn.jsn_ow),l.profile||r.editAssetForm.$setSubmitted(),l.profile||r.editAssetForm.$valid?(d.blockScreen(),e=q(),r.confirmSynchronization(t,e).then(function(e){d.blockScreen(),s.asset_inventory.update(U(),q(),function(t){s.asset_inventory.update({domain_id:n.getLoggedDomain(),project_id:l.params.project_id,action:"Options"},z(),function(){e?s.asset_inventory.update(U("Synchronize"),q(),function(){u.success("Asset updated and synchronized. The grid will be reloaded."),d.unblockScreen(),r.close(!0)},function(){u.info("Asset updated but not synchronized. The grid will be reloaded."),d.unblockScreen(),r.close(!0)}):(u.success("Asset(s) updated. The grid will be reloaded."),d.unblockScreen(),r.close(!0))},function(){d.unblockScreen(),r.close(!0),u.info("It was not possible to update asset's options")})},function(t){d.unblockScreen(),null!=t?u.error("Error to save asset(s): "+t.data):u.error("Error to save asset(s), please contact technical support")})})):u.error("Please make sure you enter correctly all the fields"))},r.toggleDetailedBudget=function(t){r.data.detailed_budget=null!=t?!!t:r.data.detailed_budget,r.data.detailed_budget?r.optionsGrid.showColumn("unit_price"):r.optionsGrid.hideColumn("unit_price")},r.$watch("data.unit_budget",function(t,e){(t=t||0)!=(e=e||0)&&(r.data.total_unit_budget=r.data.total_unit_budget-Number(e)+Number(t),r.calculateBudgets())}),r.selectDetailsTab=function(){var t,e;r.optionsTab=!1,N&&r.data.detailed_budget&&(t=r.optionsGrid.dataSource.data(),e=0,t.forEach(function(t){e+=t.unit_price*t.quantity}),r.data.total_unit_budget=Number(r.data.unit_budget||0)+Number(e),r.data.options=e),N=!0},r.selectBudgetTab=function(){r.optionsTab=!1,r.data.options=(r.data.total_unit_budget||0)-(r.data.unit_budget||0)},r.selectGovernmentTab=function(){r.optionsTab=!1},r.close=function(t){t?a.hide(r.selectedProfile?angular.extend({profileModified:(l.profile||P)&&(S||r.selectedProfile.detailed_budget!=r.data.detailed_budget)&&x,inventory_id_new_profile:y},R()):l.profile?angular.extend({profileModified:(S||T.detailed_budget!=r.data.detailed_budget)&&x,new_detailed_budget:r.data.detailed_budget,inventory_id_new_profile:y},R()):{profileModified:!1}):a.cancel()},r.selectDocumentsTab=function(){r.photosFileMatrix=[],r.artworkFileMatrix=[],r.optionsTab=!1,s.genericController.query({controller:"assetsInventory",action:"pictures",domain_id:n.getLoggedDomain(),project_id:l.params.project_id,phase_id:r.data.inventory_id},function(t){var e,a,i,o;t&&0<t.length&&(a=e=-1,o=i=0,t.forEach(function(t){t.isArtwork?(o%3==0&&(r.artworkFileMatrix.push([]),a++),r.artworkFileMatrix[a].push({id:t.id,isAssetPhoto:t.isAssetPhoto,isTagPhoto:t.isTagPhoto,isArtwork:t.isArtwork,rotate:t.rotate,file:c.generic("filestream","file",n.getLoggedDomain(),t.blobFilename,"photo"),blobFilename:t.blobFilename,isChecked:!1}),o++):(i%3==0&&(r.photosFileMatrix.push([]),e++),r.photosFileMatrix[e].push({id:t.id,isAssetPhoto:t.isAssetPhoto,isTagPhoto:t.isTagPhoto,rotate:t.rotate,file:c.generic("filestream","file",n.getLoggedDomain(),t.blobFilename,"photo"),blobFilename:t.blobFilename,isChecked:!1}),i++)}))},function(){u.error("Error to try get images files from room")})},r.getLockIcon=function(t){return Y(t)?"lock":"lock_open"},r.getLockTooltip=function(t){return Y(t)?"Unlock to customize the value":"Lock to pick the value from the catalog"},r.toggleLock=function(e){var a=r.data;function i(t){a.assetData.hasOwnProperty(t)?a[t]=a.assetData[t]:u.error("Error to retrieve property from catalog, please contact tecnical support")}var t=e+"_ow";a[t]=!a[t],a[t]||(void 0!==a.assetData||l.multiple&&!r.oneType?void 0!==a.assetData&&i(e):(d.blockScreen(),s.genericController.get({controller:"assets",action:"item",domain_id:a.asset_domain_id,project_id:a.asset_id},function(t){t.manufacturer_description=t.manufacturer.manufacturer_description,a.assetData=t,i(e),d.unblockScreen()},function(){u.error("Error to retrieve asset data"),d.unblockScreen()})))},l.multiple||(r.show_firefox=B.IsFirefox(),r.fileSizeLimit=m.ImageFileSizeLimit,F=[],G(),r.toggleEditPicturesMode=function(){r.editPhotosMode=!r.editPhotosMode,r.editPhotosMode||G()},r.addDocument=function(t){A(),t++;for(var e=r.imgData.length-1;t<e;e--)r.imgData[e]=r.imgData[e-1],r.imgData[e].idx=e;A(!1,e)},r.deleteDocument=function(t){1<r.imgData.length&&r.imgData.splice(t,1);for(var e=t;e<r.imgData.length;e++)r.imgData[e].idx=e},r.zoomPicture=function(t){r.showZoomPicture=!0,r.selectedImg=t},r.closeZoomPicture=function(){r.showZoomPicture=!1},r.savePictures=function(){var i,t,a,e;r.uploadForm.$setSubmitted(),r.uploadForm.$valid?!(e=r.show_firefox?r.imgData.filter(function(t){t=document.getElementById("photoFx"+t.idx);return t&&t.files&&0<t.files.length}):r.imgData.filter(function(t){return t.file.picture}))||e.length<=0?(validated=!1,u.error("Choose at least one file to upload")):(d.blockScreen(),r.show_firefox?(a=(t=e).length-1,F=[],t.forEach(function(e){m.GetBase64FileFirefox("photoFx"+e.idx).then(function(t){t.label=e.label,t.fileType=e.type,F.push(t),e.idx===a&&H()})})):(i=(t=e).length-1,F=[],t.forEach(function(e,a){m.GetBase64NoFileFirefox(e.file.picture).then(function(t){t.label=e.label,t.fileType=e.type,F.push(t),a===i&&H()})}))):u.error("Please make sure you entered all the required fields")},r.deleteDocuments=function(){d.blockScreen("deleteDocuments"),d.startProgressBar(),p.all(Q().map(function(t){return s.genericController.remove({controller:"assetsInventory",action:"picture",domain_id:n.getLoggedDomain(),project_id:l.params.project_id,phase_id:r.data.inventory_id,department_id:t.id}).$promise})).then(function(){d.unblockScreen("deleteDocuments"),d.completeProgressBar(),u.success("Photo(s) Deleted!"),r.selectDocumentsTab()},function(){d.unblockScreen("deleteDocuments"),d.completeProgressBar(),u.error("Error to try delete one or more photos, please contact the technical support")})},r.setAsTagPhoto=function(){var t=L();t&&V(t,f.TagPhoto).then(function(){u.success("Tag Photo Updated!")},function(){u.error('Error to try set picture to "Tag Photo"')})},r.setAsAssetPhoto=function(){var t=L();t&&V(t,f.AssetPhoto).then(function(){u.success("Asset Photo Updated!"),r.image=C(t.blobFilename,l.assets[0].domain_id)},function(){u.error('Error to try set picture to "Asset Photo"')})},r.rotatePhoto=function(t){var a,i,e=L(),t=e.rotate+t;e&&(a=e,i=t,p(function(t,e){a?(d.blockScreen(),s.genericController.patch({controller:"projectDocuments",action:"rotate",domain_id:n.getLoggedDomain(),project_id:l.params.project_id,phase_id:a.id},{rotate:i},function(){d.unblockScreen(),r.selectDocumentsTab(),t(a)},function(t){d.unblockScreen(),e(t)})):e("No document")}).then(function(){u.success("Photo Rotated"),r.image=C(e.blobFilename,l.asset[0].domain_id)},function(){u.error("Error to try rotate photo")}))},r.favProjectOptions=[],r.projectOptions=[],r.catalogOptions=[],r.searchBoxValue=l.assets[0].asset_code,r.sourceProject=l.params.project_id,r.showBudgetCopilot=!1,O=n.getLoggedDomainFull(),r.catalogOptions=O.show_audax_info?[{name:"Audaxware",domain_id:1,status:"A"}]:[],1!=O.domain_id&&r.catalogOptions.push({name:O.name.charAt(0).toUpperCase()+O.name.slice(1),domain_id:O.domain_id,status:"A"}),r.budgetOptions=i.getStructure({data:[],pageSize:4,height:304,schema:{model:{model:{id:"aggregate_type"}}}},[{headerTemplate:"",width:100,filterable:!(o=[{headerTemplate:"",width:100,filterable:!1,sortable:!1,template:'<md-button class="md-primary" style="min-width:0;padding:0;border:0" ng-click="applyBudget(dataItem)">Apply</md-button>'},{field:"asset_code",title:"Code",width:120},{field:"jsn_code",title:"JSN",width:110},{field:"asset_description",title:"Asset Description",width:180},{field:"project_description",title:"Project",width:200},{field:"phase_description",title:"Phase",width:120},{field:"department_description",title:"Department",width:150},{field:"room_name",title:"Room Name",width:150},{field:"serial_number",title:"Model No.",width:150},{field:"serial_name",title:"Model Name",width:150},{field:"manufacturer_description",title:"Manufacturer",width:150},{field:"unit_budget",title:"Unit Budget",width:130,template:function(t){return b.GetCurrencyTemplate(t.unit_budget)}},{field:"unit_install",title:"Unit Install",width:130,template:function(t){return b.GetCurrencyTemplate(t.unit_install)}},{field:"unit_freight",title:"Unit Freight",width:130,template:function(t){return b.GetCurrencyTemplate(t.unit_freight)}},{field:"unit_tax",title:"Unit Tax(%)",width:150,template:function(t){return b.GetCurrencyTemplate(t.unit_tax)}},{field:"unit_markup",title:"Unit Markup(%)",width:160,template:function(t){return b.GetCurrencyTemplate(t.unit_markup)}},{field:"unit_escalation",title:"Unit Escalation(%)",width:180,template:function(t){return b.GetCurrencyTemplate(t.unit_escalation)}},{field:"date_modified",title:"Date",width:110,template:"#: date_modified ? kendo.toString(kendo.parseDate(date_modified), \"MM-dd-yyyy\") : '' #"}]),sortable:!1,template:'<md-button class="md-primary" style="min-width:0;padding:0;border:0" ng-click="applyBudget(dataItem)">Apply</md-button>'},{field:"aggregate_type",title:"Budget",width:200},{field:"unit_budget",title:"Unit Budget",width:190,template:function(t){return b.GetCurrencyTemplate(t.unit_budget)}},{field:"unit_install",title:"Unit Install",width:180,template:function(t){return b.GetCurrencyTemplate(t.unit_install)}},{field:"unit_freight",title:"Unit Freight",width:190,template:function(t){return b.GetCurrencyTemplate(t.unit_freight)}},{field:"unit_tax",title:"Unit Tax(%)",width:180,template:function(t){return b.GetCurrencyTemplate(t.unit_tax)}},{field:"unit_markup",title:"Unit Markup(%)",width:180,template:function(t){return b.GetCurrencyTemplate(t.unit_markup)}},{field:"unit_escalation",title:"Unit Escalation(%)",width:180,template:function(t){return b.GetCurrencyTemplate(t.unit_escalation)}}],null,{pageSize:4,filterable:!0,reorderable:!1,groupable:!1,height:304,noRecords:{template:"No budgets available."},columnMenu:{columns:!0,sortable:!1,messages:{columns:"Columns",filter:"Filter"}}}),r.sourceOptions=i.getStructure({data:[],pageSize:5,height:600,schema:{model:{model:{id:"inventory_id"}}}},o,null,{pageSize:10,filterable:!0,reorderable:!0,groupable:!0,height:600,noRecords:{template:"No source assets available."},columnMenu:{columns:!0,sortable:!1,messages:{columns:"Columns",filter:"Filter"}}}),r.budgetDataBound=function(){i.dataBound(r.budgetOptionsGrid)},r.sourceDataBound=function(){i.dataBound(r.sourceAssetsGrid)},r.searchAssets=function(){Z()},r.clearAllFilters=function(){r.searchBoxValue="",b.ClearFilters(r.sourceAssetsGrid),r.searchAssets()},r.applyBudget=function(t){g.Confirm("Asset update","The selected budget values will be applied to the current asset. Are you sure?",null,null,!0).then(function(){r.data.unit_budget=t.unit_budget,r.data.unit_freight_net=t.unit_freight,r.data.unit_install_net=t.unit_install,r.data.unit_tax=t.unit_tax,r.data.unit_markup=t.unit_markup,r.data.unit_escalation=t.unit_escalation,u.info("Unit Budget value will be applied after hit save button.")},function(){})},s.genericController.query({controller:"Projects",action:"All",domain_id:O.domain_id},function(t){t=t.sort(function(t,e){return t.project_description>e.project_description?1:-1}),r.projectOptions=r.projectOptions.concat(t.map(function(t){return t.name="Project: "+t.project_description,t.status=t.status,t})),r.projectOptions=r.projectOptions.filter(function(t){return null!=t}),r.projectOptions.forEach(function(t){if(0<t.user_project_mine.length)for(var e=0;e<t.user_project_mine.length;e++)t.user_project_mine[e].userId===O.user_id&&r.favProjectOptions.push(t)}),r.favProjectOptions.forEach(function(t){r.projectOptions.splice(r.projectOptions.indexOf(t),1)}),r.selectedCatalog=r.catalogOptions[0]},function(){errorToRetrieveData()}),r.projectOptionChanged=function(){Z()},r.showHideBudgetCopilot=function(){1==r.showBudgetCopilot?r.showBudgetCopilot=!1:r.showBudgetCopilot=!0})}]);
xPlanner.controller("ImportAssetsCtrl",["$scope","$mdMedia","$mdStepper","$mdDialog","$timeout","toastr","$stateParams","AuthService","ProgressService","HttpService","GridService","Upload","WebApiService","$sce","KendoGridService",function(u,e,t,a,r,c,i,l,m,o,p,h,n,f,g){var w;r(function(){w=t("stepper-import")},!1);var b=["file"];function S(e){return'<input class="codeClassForTemplate"/>'}u.wizardData={},u.mobileStep=e("xs"),u.currentStep=1,u.show_firefox=!1,u.file={},u.totalChanged=0,u.totalErrors=0,u.totalNew=0,u.totalNewCatalog=0,-1!=navigator.userAgent.indexOf("Firefox")&&(u.show_firefox=!0),u.isSelected=p.isSelected,u.allSelected=p.allSelected,u.select=p.select,u.allPagesSelected=p.allPagesSelected,u.gridHeight=window.innerHeight-320;var v={reorderable:!0,groupable:!0,noRecords:"No import data available",height:u.gridHeight};function k(){u.currentStep++,w.clearError(),w.next()}function s(e){var t=e.sender.element.closest("tr"),t=u.wizardData.importGrid.dataItem(t),e=e.sender.value();t.set("code",e),t.set("status",1),void 0===t.oldCode&&(t.oldCode=""),e!=t.oldCode&&(""!=(t.oldCode=e)?(t.set("statusLabel","New"),++u.data.totalNew,--u.data.totalErrors):(t.set("statusLabel","Error"),--u.data.totalNew,++u.data.totalErrors),u.$apply())}u.fireFileUpload=function(){$("#file").trigger("click")},u.next=function(){switch(u.currentStep){case 1:!function(){u.importAssetsForm.$setSubmitted();var n=[],s=[],d=[];if(u.importAssetsForm.$valid)m.blockScreen(),null==u.file.arrangeColumnsType&&(u.file.arrangeColumnsType=0),h.upload({url:o.generic("AssetsInventoryImporter","Analyze",l.getLoggedDomain(),i.project_id,u.file.arrangeColumnsType),data:{file:u.file.asset}}).then(function(e){u.data=e.data;for(var t=0;t<e.data.length;t++)if(0==(o=e.data[t]).status&&null==o.errorMessage){for(var r=0;r<o.items.length;r++){var a=o.items[r];n.push(a)}u.totalChanged+=o.totalChanged,u.totalErrors+=o.totalErrors,u.totalNew+=o.totalNew,u.totalNewCatalog+=o.totalNewCatalog;for(r=0;r<o.unusedColumns.length;r++){var i=o.unusedColumns[r];d.includes(i)||d.push(i)}}else s.push(o.workSheetName+" : "+o.errorMessage);0<s.length&&(u.hasUnusedSheets=!0),u.wizardData.options=p.getStructure(function(e){for(var t=u.data[0].statusLabels,r=0;r<e.length;++r)e[r].statusLabel=t[e[r].status];return _dataSource=new kendo.data.DataSource({data:e,pageSize:20,schema:{model:{id:"id"}},error:function(){m.unblockScreen(),c.error("Error to retrieve data from server, please contact technical support")}})}(n),[{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(wizardData.importGrid)" ng-checked="allPagesSelected(wizardData.importGrid)" aria-label="checkbox" ng-click="select($event, wizardData.importGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, wizardData.importGrid)" ng-checked="isSelected(wizardData.importGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"3em"},{field:"id",title:"ID",width:90},{field:"statusLabel",title:"Status",width:120,filterable:{multi:!0}},{field:"statusComment",title:"Comment",width:250,attributes:{class:"no-multilines"},template:function(e){e=e.statusComment||"";return'<span title="'+e+'"> '+e+"</span>"}},{field:"Code",title:"Code",width:120,template:S},{field:"jsn",title:"JSN",width:100},{field:"resp",title:"Resp",width:100},{field:"jsnNomenclature",title:"JSN Nomenclature",width:140,hidden:!0},{field:"manufacturer",title:"Manufacturer",width:200},{field:"modelNumber",title:"Model No.",width:200},{field:"modelName",title:"Model Name",width:200},{field:"phase",title:"Phase",width:150},{field:"department",title:"Department",width:240},{field:"roomNumber",title:"Room No.",width:180},{field:"roomName",title:"Room Name",width:200},{field:"worksheet",title:"Worksheet",width:200},{field:"u1",title:"U1",width:80},{field:"u2",title:"U2",width:80},{field:"u3",title:"U3",width:80},{field:"u4",title:"U4",width:80},{field:"u5",title:"U5",width:80},{field:"u6",title:"U6",width:80},{field:"plannedQty",title:"Budget Qty",width:150},{field:"unitBudget",title:"Unit Budget (Net)",width:150,template:function(e){return g.GetCurrencyTemplate(e.unitBudget)}},{field:"unitMarkup",title:"Unit Markup (%)",width:150,template:function(e){return g.GetCurrencyTemplate(e.unitMarkup)}},{field:"unitTax",title:"Unit Tax (%)",width:150,template:function(e){return g.GetCurrencyTemplate(e.unitTax)}},{field:"unitInstallNet",title:"Unit Install (Net)",width:150,template:function(e){return g.GetCurrencyTemplate(e.unitInstallNet)}},{field:"unitInstallMarkup",title:"Unit Install Markup (%)",width:150,template:function(e){return g.GetCurrencyTemplate(e.unitInstallMarkup)}},{field:"unitFreightNet",title:"Unit Freight (Net)",width:150,template:function(e){return g.GetCurrencyTemplate(e.unitFreightNet)}},{field:"unitFreightMarkup",title:"Unit Freight Markup (%)",width:150,template:function(e){return g.GetCurrencyTemplate(e.unitFreightMarkup)}}],null,v,{pageSizes:[5,10,20,50],pageSizeDeafult:20,buttonCount:5}),u.wizardData.options.dataBound=u.dataBound;for(t=0;t<n.length;t++)n[t].matchingCodes&&n[t].matchingCodes.push("");m.unblockScreen();for(var l='<div layout="row" layout-align-gt-sm="space-between start" class="md-block layout-align-gt-sm-space-between-end layout-row">';d.length%5!=0;)d.push("");for(t=0;t<d.length;t++)t%5==0&&(l+='</div><div layout="row" layout-align-gt-sm="space-between start" class="md-block layout-align-gt-sm-space-between-end layout-row">'),l=l+'<label flex="20" class="flex-20">'+d[t]+"</label>";if(u.fieldsList=f.trustAsHtml(l+="</div>"),k(),0==d.length&&k(),0<s.length){for(var o='<div class="list-group-item" layout=""',t=0;t<s.length;t++)o=o+'<label flex="20" class="flex-20">'+s[t]+"</label></br>";o+="</div>"}u.unusedSheetsList=f.trustAsHtml(o)},function(e){if(m.unblockScreen(),null!=e.data)for(var t=0;t<e.data.length;t++){var r=e.data[t].workSheetName,a=e.data[t].errorMessage;c.error(r+" : "+a)}else c.error("Error to perform import, if the problem persists, please contact tecnical support");return""});else for(var e=!1,t=0;t<b.length;t++){for(var r in u.importAssetsForm[b[t]].$error){e=!0;break}if(e)return w.error("Missing required fields");e=!1}}();break;case 2:k();break;case 3:!function(){var e=p.getSelecteds(u.wizardData.importGrid),t=u.data[0].statusLabels;if(0==e.length)c.error("Select at least one item to import!");else{for(var r=0;r<e.length;r++){if(null==e[r].assetCode&&null!=e[r].assetCodesList&&1<e[r].assetCodesList.length)return c.error("Asset code is required for the selected items!");if("Error"==t[e[r].status])return c.error("Some of your selected items contain errors, please unselect all items with error")}m.blockScreen(),n.genericController.update({controller:"AssetsInventoryImporter",action:"ImportAsync",domain_id:l.getLoggedDomain(),project_id:i.project_id},e,function(e){c.success("Import process has started, you will be notified when it finishes"),m.unblockScreen(),a.hide(e)},function(e){m.unblockScreen(),c.error("Error to intialize import. The server might be too busy. Please contact technical support or try again later.")})}}()}},u.back=function(){w.back(),u.currentStep--,0==u.data.unusedColumns.length&&2==u.currentStep&&(w.back(),u.currentStep--)},u.cancel=function(){a.cancel()},u.dataBound=function(e){p.dataBound(u.wizardData.importGrid);var a=e.sender;e.sender.items().each(function(e){var t=a.dataItem(this),r=$(this).find(".codeClassForTemplate");$(r).kendoDropDownList({value:t.code,dataSource:t.matchingCodes,change:s})})}}]);
xPlanner.controller("MoveAssetCtrl",["$scope","StatusListProject","$mdDialog","AuthService","local","WebApiService","toastr","ProgressService",function(a,e,r,n,i,s,c,d){a.data={project_id:i.params.project_id},a.params=i.params,a.departments=[],a.rooms=[];a.getData=function(t,e,o){var r;s.genericController.query((e=e,o=o,{controller:r=t,action:"All",domain_id:n.getLoggedDomain(),project_id:a.data.project_id,phase_id:"phases"!=r?e:null,department_id:"rooms"==r?o:null}),function(e){a[t]=e})},a.getData("phases",null,null),a.$watch("data.phase_id",function(e){e&&(a.departments=[],a.rooms=[],a.getData("departments",e,null))}),a.$watch("data.department_id",function(e){e&&(a.rooms=[],a.getData("rooms",a.data.phase_id,e))}),a.move=function(){if(a.moveAssetForm.$setSubmitted(),d.blockScreen(),a.moveAssetForm.$valid){for(var e=[],t=0;t<i.items.length;t++)e.push(i.items[t].inventory_id);s.genericController.save(((o={controller:"rooms",action:"MoveAsset"}).domain_id=n.getLoggedDomain(),o.project_id=a.data.project_id,o.phase_id=a.data.phase_id,o.department_id=a.data.department_id,o.room_id=a.data.room_id,o),e,function(e){d.unblockScreen(),c.success("The inventories were successfully moved"),r.hide(e)},function(e){c.error("Error trying to move inventories, please contact the technical support"),d.unblockScreen()})}else c.error("Please make sure you entered correctly all the fields"),d.unblockScreen();var o},a.close=function(){r.cancel()}}]);
xPlanner.controller("OCModalCtrl",["$scope","$mdDialog","WebApiService","local","toastr",function(o,a,e,n,l){var i;o.type=n.type,o.data={asset:n.asset,location:{total:0,tree:null,selected:{}},options:{selected:null,availables:null,radio:null}},o.locations={},e[o.type].get({equipment_id:n.asset.equipment_id,domain_id:n.asset.equipment_domain_id,project_id:n.params.project_id,phase_id:n.params.phase?n.asset.phase_id:"null",department_id:n.params.department_id||"null",room_id:n.params.room_id||"null"},function(a){o.data.location.tree=a.tree,o.data.options.availables=a.options||a.colors,angular.forEach(o.data.location.tree,function(a){o.data.location.total+=a.total}),i=o.data.location.total,o.locations=a.locations}),o.updateLocationsTotal=function(a,t){var e=0;o.data.location.selected[a].length?angular.forEach(o.data.location.selected[a],function(a){e+=a.total}):t&&angular.forEach(o.data.location.selected[t],function(a){e+=a.total}),o.data.location.total=e||i},o.close=function(){a.cancel()},o.apply=function(){var t;o.ocForm.$setSubmitted(),o.ocForm.$valid?e[o.type+"_save"].update({equipment_id:n.asset.equipment_id,domain_id:n.asset.equipment_domain_id,project_id:n.params.project_id},(t={none_selected:"none"===o.data.options.radio,erase_selected:"erase"===o.data.options.radio,room_ids:o.data.location.selected.rooms||null,phase_ids:o.data.location.selected.phases?[]:null,department_ids:o.data.location.selected.departments?[]:null,option_ids:o.data.options.selected},angular.forEach(o.data.location.selected.phases,function(a){t.phase_ids.push(a.id)}),angular.forEach(o.data.location.selected.departments,function(a){t.department_ids.push(a.id)}),t),function(a){l.success("Save completed")},function(a){l.error("Error to apply")}):l.error("Please make sure you enter all the required fields")}}]);
xPlanner.controller("ReplaceAssetModalCtrl",["$scope","AuthService","localStorageService","local","WebApiService","$mdDialog","toastr","AssetsService","GridService","$timeout","$mdStepper","CostFieldListReplace","KendoGridService","ProgressService",function(i,e,a,t,r,n,o,s,c,d,l,u,p,f){var _,h,g,m,w;e.isAuthenticated()?(i.wizardData={selected_costField:"default",gridHeight:window.innerHeight-230,selected_Catalog:null},i.edit=function(t){""==i.wizardData.selected_costField&&Object.keys(t.container.context.classList).forEach(function(e){"unit-budget"==t.container.context.classList[e]&&(o.info('When "keep current one" is selected is not possible to edit the unit budget value'),t.sender.closeCell())})},i.costField=u,r.genericController.get({controller:"projects",action:"CostField",domain_id:e.getLoggedDomain(),project_id:t.params.project_id},function(e){i.default_cost_field=e.cost_field}),1==t.items.length&&(i.wizardData.default_unit_budget=t.items[0].unit_budget),h=t.items[0].resp,t.items.find(function(e){return e.resp!=h})&&(h=null),i.replacedAssets=t.items,i.replaceWith=null,i.catalogOptionChanged=function(){f.blockScreen(),r.genericController.query(s.GetReplaceParams(i.wizardData.selected_Catalog),function(e){e=e.filter(e=>e.domain_id==i.wizardData.selected_Catalog.domain_id);i.wizardData.assetsGrid.dataSource.data(e.map(function(e){return e.default_resp=h||e.default_resp,e})),s.SetColumns(i.wizardData),f.unblockScreen()},function(){f.unblockScreen(),o.error("Error to retrieve data from server, please contact the technical support.")})},i.wizardData.options=s.GetGridReplaceConfiguration(t.isTemplate,i.wizardData.gridHeight),d(function(){g=l("stepper-replace-asset"),i.currentStep=1},!1),m=e.getLoggedDomainFull(),i.catalogOptions=[],i.catalogOptions=m.show_audax_info?[{name:"Audaxware",domain_id:1,status:"A"}]:[],i.wizardData.selected_Catalog=i.catalogOptions[0],1!=m.domain_id&&i.catalogOptions.push({name:m.name.charAt(0).toUpperCase()+m.name.slice(1),domain_id:m.domain_id,status:"A"}),i.favProjectOptions=[],i.projectOptions=[],w=[],r.genericController.query({controller:"Projects",action:"All",domain_id:m.domain_id},function(e){e=e.sort(function(e,t){return e.project_description>t.project_description?1:-1}),(w=(w=w.concat(e.map(function(e){return e.name="Project: "+e.project_description,e.status=e.status,e}))).filter(function(e){return null!=e})).forEach(function(e){if(0<e.user_project_mine.length)for(var t=0;t<e.user_project_mine.length;t++)if(e.user_project_mine[t].userId===m.user_id)return void i.favProjectOptions.push(e);i.projectOptions.push(e)})},function(){o.error("Error to retrieve data from server, please contact the technical support.")}),i.$on("kendoWidgetCreated",function(e,t){t===i.wizardData.assetsGrid&&(t=a.get("assets"),i.wizardData.searchBoxValue=null,t?i.wizardData.assetsGrid.dataSource.data(t.map(function(e){return e.default_resp=h||e.default_resp,e})):s.GetToGrid("All").then(function(e){a.set("assets",e),i.wizardData.assetsGrid.dataSource.data(e.map(function(e){return e.default_resp=h||e.default_resp,e}))},function(){o.error("Error to retrieve assets from server, please contact technical support")}))}),i.dataBound=c.dataBound,i.collapseExpand=c.collapseExpand,i.next=function(){if(g.clearError(),1==i.currentStep){if(!i.wizardData.assetsGrid.select().length)return void g.error("Please select the target asset. The assets you selected in the inventory will be replaced by the selected target.");i.replaceWith=i.wizardData.assetsGrid.dataItem(i.wizardData.assetsGrid.select())}2==i.currentStep?(i.replaceWith.inventories_id=[],t.items.forEach(function(e){i.replaceWith.inventories_id=i.replaceWith.inventories_id.concat(String(e.inventory_id).split(","))}),i.replaceWith.new_asset_id=i.replaceWith.asset_id,i.replaceWith.new_asset_domain_id=i.wizardData.selected_Catalog.project_id?i.replaceWith.asset_domain_id:i.replaceWith.domain_id,i.replaceWith.budget=i.replaceWith.unit_budget||(""==i.wizardData.selected_costField?i.wizardData.default_unit_budget:i.replaceWith["default"===i.wizardData.selected_costField?i.default_cost_field:i.wizardData.selected_costField])||0,i.replaceWith.resp=i.replaceWith.default_resp,i.replaceWith.cost_col="default",r.replace_inventory.update({domain_id:e.getLoggedDomain(),project_id:t.params.project_id},i.replaceWith,function(){o.info("Asset replaced!"),n.hide()},function(e){400==e.status?o.error(e.data):o.error("Error to replace asset, please contact technical support")})):(i.currentStep++,g.next())},i.search=function(a){var r,e,t=_||i.wizardData.assetsGrid.dataSource.data();p.UnselectAll(i.wizardData.assetsGrid),a?(a=a.toLowerCase(),_=t,r=i.wizardData.assetsGrid.columns,e=t.filter(function(e){for(var t=0;t<r.length;t++)if(!r[t].hidden&&-1<String(e[r[t].field]).toLowerCase().indexOf(a))return!0}),i.wizardData.assetsGrid.dataSource.data(e),0<e.length&&i.wizardData.assetsGrid.dataSource.page(1)):i.wizardData.assetsGrid.dataSource.data(t)},i.clearAllFilters=function(){i.wizardData.searchBoxValue=null,p.ClearFilters(i.wizardData.assetsGrid),i.search()},i.back=function(){i.replaceWith=null,g.clearError(),g.back(),i.currentStep--},i.cancel=function(){n.cancel()}):$state.go("login")}]);
xPlanner.controller("EditConnectivityCtrl",["$scope","$mdDialog","toastr","AuthService","local","ConnectionTypeList",function(i,o,e,n,t,a){i.conn=angular.copy(t.data),i.connTypeList=function(){for(var n=[],o=i.conn.inventoryIn,e=i.conn.inventoryOut,t=0;t<a.length;t++){var c={},r="";r=a[t].value.toLowerCase().replace(/\s/g,""),e[r]&&e[r]==o[r]&&(c.name=a[t].name,c.value=a[t].value,n.push(c))}return n}(),i.controllerParams={domain_id:n.getLoggedDomain(),project_id:i.conn.conn.project_id,phase_id:i.conn.conn.connectivity_id,department_id:i.conn.conn.inventory_id_in},i.save=function(){var n;i.editConnForm.$setSubmitted(),i.editConnForm.$valid?(n=i.conn.conn.inventory_id_out).ports&&n.ports<=n.it_connections?e.error(n.asset_description+" does not have available ports to connect."):(i.conn.conn.inventory_id_out=n.inventory_id,i.conn.conn.project_room_inventory1=n,o.hide(i.conn.conn)):e.error("Please make sure you entered correctly all the fields")},i.close=function(){o.cancel()}}]);
xPlanner.controller("AddCostCenterCtrl",["$scope","$mdDialog","toastr","local",function(t,e,r,o){t.anotherCostCenters=o.items,t.edit=!!o.costCenter,t.costCenter=angular.copy(o.costCenter)||{},t.anotherCostCenters=o.items.filter(function(e){return e.id!=t.costCenter.id||e.domain_id!=o.params.domain_id||e.project_id!=o.params.project_id}),t.add=function(){t.addCostCenterForm.$setSubmitted(),t.addCostCenterForm.$valid?e.hide(t.costCenter):r.error("Please make sure you entered correctly all the fields")},t.close=function(){e.cancel()}}]);
xPlanner.controller("AddRoomCtrl",["$scope","StatusListProject","$mdDialog","AuthService","local","WebApiService","toastr","ProgressService",function(o,e,d,r,n,m,p,_){o.data={cp_project_id:n.params.project_id},o.params=n.params,o.room_count=[],o.departments=[],o.template_options=[{value:1,description:"No Template"},{value:3,description:"Linked Template"},{value:4,description:"Unlinked Template"}],o.data.room_number={0:""},o.data.room_name={0:""};function i(){var e=0;return 0<o.room_count.length&&(e=o.room_count[o.room_count.length-1]+1),o.room_count.push(e),o.departments.push({}),o.data.room_name[e]="",o.data.room_number[e]="",e}i(),o.getData=function(a,e,t){var d;m.genericController.query((e=e,{controller:d=a,action:"All",domain_id:r.getLoggedDomain(),project_id:o.data.cp_project_id,phase_id:"departments"==d?e:null}),function(e){"departments"==a?(o.departments[t]=e,0==t?o.data.cp_department_id={0:n.params.department_id}:(o.data.cp_department_id[t]=null,o.data.cp_department_id[t]=o.data.cp_department_id[t-1])):(o[a]=e,o.data.cp_phase_id={0:n.params.phase_id})})},o.getData("phases",0,0),o.getData("departments",n.params.phase_id,0),o.addRoom=function(e){var a=i();if(a==e+1)o.data.cp_phase_id[a]=o.data.cp_phase_id[o.room_count[a-1]],o.getData("departments",o.data.cp_phase_id[a],a);else{for(var t=a;e+1<t;t--)o.data.cp_phase_id[t]=o.data.cp_phase_id[t-1],o.departments[t]=o.departments[t-1],o.data.cp_department_id[t]=o.data.cp_department_id[t-1],o.data.room_name[t]=o.data.room_name[t-1],o.data.room_number[t]=o.data.room_number[t-1];o.data.cp_phase_id[e+1]=o.data.cp_phase_id[e],o.departments[e+1]=o.departments[e],o.data.cp_department_id[e+1]=o.data.cp_department_id[e],o.data.room_name[e+1]="",o.data.room_number[e+1]=""}},o.deleteRoom=function(e){1<o.room_count.length&&(e=o.room_count.indexOf(e),o.room_count.splice(e,1),delete o.data.cp_phase_id[e],delete o.data.cp_department_id[e],delete o.data.room_name[e],delete o.data.room_number[e])},o.$watch("data.is_linked_template",function(e){var a;e&&1!=e&&m.template_room_filtered.query((a=n,e=e=4==e?null:e,{action:"TemplateList",domain_id:r.getLoggedDomain(),project_id:e?a.params.project_id:0,template_type:e}),function(e){o.data.template_id=null,o.templates=e,o.templates.concat(o.templates.map(function(e){e.name=e.department_type+" - "+e.description}))})}),o.copy=function(){o.addRoomForm.$setSubmitted(),_.blockScreen();t=[],o.room_count.forEach(function(e){var a={};a.project_id=o.params.project_id,a.phase_id=o.data.cp_phase_id[e],a.department_id=o.data.cp_department_id[e],a.room_name=o.data.room_name[e],a.room_number=null!=o.data.room_number&&null!=o.data.room_number[e]?o.data.room_number[e]:null,t.push(a)});var t,e,a=t;o.addRoomForm.$valid?m.add_multi_rooms.save(((e={}).domain_id=r.getLoggedDomain(),e.project_id=o.params.project_id,e.phase_id=o.params.phase_id,e.department_id=o.params.department_id,e.is_linked_template=3==o.data.is_linked_template,e.template_id=o.data.template_id,e),a,function(e){_.unblockScreen(),p.success("The rooms were successfully added"),d.hide(e)},function(e){p.error("Error trying to add rooms, please contact the technical support"),_.unblockScreen()}):(p.error("Please make sure you entered correctly all the fields"),_.unblockScreen())},o.close=function(){d.cancel()}}]);
xPlanner.controller("ApplyTemplateCtrl",["$scope","$mdDialog","CostFieldList","WebApiService","toastr","local","AuthService",function(a,t,e,o,l,p,i){var m;function n(e,t){return p.params.action=e,p.params.controller=t,p.params.domain_id=i.getLoggedDomain(),p.params}a.link_disabled=!1,a.costList=e,a.data={cost_field:e[0].value},a.template_types=new Array,a.template_types.push({id:1,name:"Global Audaxware"}),1!=i.getLoggedDomain()&&a.template_types.push({id:2,name:"Global"}),a.template_types.push({id:3,name:"Project"}),p.room.applied_id_template&&o.genericController.get({controller:"templateRoom",action:"ItemById",domain_id:p.room.domain_id,project_id:p.room.applied_id_template},function(e){(m=e).project_domain_id_template&&e.project_id_template?a.template_type=3:a.template_type=1==e.domain_id?1:2,a.data.link_template=a.data.delete_assets=p.room.linked_template}),o.genericController.query(n("mis","rooms"),function(e){a.misRooms=e}),a.updateCheckbox=function(){a.data.delete_assets=!0},a.$watch("template_type",function(e){var t;e&&o.template_room_filtered.query((t=p,e=e,{action:"TemplateList",domain_id:i.getLoggedDomain(),project_id:t.params.project_id,template_type:e}),function(e){a.templates=e,a.templates.concat(a.templates.map(function(e){e.name=e.department_type+" - "+e.description})),m&&(a.data.template=e.find(function(e){return e.template_id==m.id}))})}),a.$watch("data.template",function(e){e&&(e.project_id_template?a.link_disabled=!1:(a.data.link_template=!1,a.link_disabled=!0))}),a.save=function(){var e;a.applyTemplateForm.$setSubmitted(),a.applyTemplateForm.$valid?((e=angular.copy(a.data)).template_id=e.template.template_id,e.mis=e.mis||null,o.template_room.save(n("Apply"),e,function(e){l.success("Template Applied"),t.hide()},function(e){409==e.status&&l.info("Some, or all, of the equipment could not be deleted -- purchase orders have been issued!"),t.cancel()})):(a.applyTemplateForm.template.$setTouched(),l.error("Please make sure you choose a template"))},a.close=function(){t.cancel()}}]);
xPlanner.controller("CopyFromCtrl",["$scope","StatusListProject","$mdDialog","AuthService","local","WebApiService","toastr",function(r,e,a,o,p,c,d){r.statusList=e,r.copyLevel=p.params.room_id?"room":p.params.department_id?"department":p.params.phase_id?"phase":p.params.project_id?"project":null,r.data={status:"A"},r.params=p.params;function i(t,e){return e.filter(function(e){return e[t+"_id"]!=p.params[t+"_id"]})}r.getData=function(a){c.genericController.query({controller:a+"s",action:"All",domain_id:o.getLoggedDomain(),status:r.data.status,project_id:r.data.cp_project_id,phase_id:r.data.cp_phase_id,department_id:r.data.cp_department_id,room_id:r.data.cp_room_id},function(e){switch(a){case"project":r.phases=[];break;case"phase":r.departments=[];case"department":r.rooms=[]}var t;"project"===a&&r.copyLevel===a?r[a+"s"]=e.filter(function(e){return e.status==r.data.status}):(t=r.data.cp_project_id===p.params.project_id,"phase"===a&&t&&r.copyLevel===a||(t=r.data.cp_phase_id===p.params.phase_id,"department"===a&&t&&r.copyLevel===a)?r[a+"s"]=i(a,e):(t=r.data.cp_department_id===p.params.department_id,r[a+"s"]="room"===a&&t&&r.copyLevel===a?i(a,e):e))})},r.getData("project"),r.copy=function(){var e,t;r.copyFromForm.$setSubmitted(),r.copyFromForm.$valid?c.copy_from.save((e=angular.copy(r.data),t=r.projects.filter(function(e){return e.project_id==r.data.cp_project_id}),e.domain_id=o.getLoggedDomain(),e.cp_domain_id=t[0].domain_id,e.project_id=r.params.project_id,e.phase_id=r.params.phase_id||-1,e.department_id=r.params.department_id||-1,e.room_id=r.params.room_id||-1,e.cp_opt_col=!!r.data.cp_opt_col,e.cp_phase_id=e.cp_phase_id||-1,e.cp_department_id=e.cp_department_id||-1,e.cp_room_id=e.cp_room_id||-1,e),null,function(e){d.success("Copied"),a.hide()},function(e){409===e.status?(d.info("The phases, departments, rooms and assets which already exist in this project were not copied"),a.hide()):d.error("Error to try copy items, please contact the technical support"),a.cancel()}):d.error("Please make sure you entered correctly all the fields")},r.close=function(){a.cancel()}}]);
xPlanner.controller("CopyProjectCtrl",["$scope","$mdDialog","AuthService","local","WebApiService","toastr","ProgressService",function(e,o,r,t,c,n,i){var a=new Date;e.project_name=t.project_description+" "+a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate(),e.params=t.params;e.copy=function(){e.copyProjectForm.$setSubmitted(),e.copyProjectForm.$valid?(i.blockScreen(),c.genericController.save({controller:"Projects",action:"CopyProjectAsync",domain_id:r.getLoggedDomain(),project_id:e.params.project_id,phase_id:e.copyUsers},{text:e.project_name},function(e){n.success("Copy project process has started, you will be notified when it finishes"),i.unblockScreen(),o.hide()},function(e){i.unblockScreen(),n.error("Error to intialize copy project. The server might be too busy. Please contact technical support or try again later.")})):n.error("Please make sure you entered correctly all the fields")},e.close=function(){o.cancel()}}]);
xPlanner.controller("CopyRoomToCtrl",["$scope","AuthService","GridService","local","$mdDialog","localStorageService","ProgressService","HttpService","toastr","WebApiService",function(t,r,a,c,n,e,i,o,d,s){t.action=c.copy?"Copy":"Move",t.copyMove=c.copy&&c.move;var m=c.params.project_id;t.toProject={domain_id:r.getLoggedDomain(),project_id:c.params.project_id},t.rooms=[{}],t.options={dataSource:{transport:{read:{url:o.treeview_projects("DepartmentsTable",r.getLoggedDomain()),headers:{Authorization:"Bearer "+r.getAccessToken()}}},error:function(){d.error("Error to retrieve departments info from server, please contact technical support")},schema:{model:{fields:{project_id:{type:"string"}}}},filter:[{field:"project_id",operator:"eq",value:c.params.project_id}]},scrollable:!0,sortable:!0,pageable:{pageSizes:[5,10,20,50],pageSize:5,buttonCount:5},filterable:!0,resizable:!0,groupable:!0,mobile:!0,noRecords:{template:"No departments available"},columns:[{headerTemplate:'<md-checkbox class="checkbox" md-indeterminate="allSelected(departmentsGrid)" ng-checked="allPagesSelected(departmentsGrid)" aria-label="checkbox" ng-click="select($event, departmentsGrid, true)"></md-checkbox>',template:'<md-checkbox class="checkbox" ng-click="select($event, departmentsGrid)" ng-checked="isSelected(departmentsGrid, dataItem)" aria-label="checkbox"></md-checkbox>',width:"3em"},{field:"phase_desc",title:"Phase"},{field:"department_desc",title:"Department"}]},t.dataBound=a.dataBound,t.isSelected=a.isSelected,t.allSelected=a.allSelected,t.select=a.select,t.allPagesSelected=a.allPagesSelected,t.$watch(function(){return t.toProject},function(e,o){e&&e.project_id&&e.project_id!=m&&(m=e.project_id,t.departmentsGrid.dataSource.filter({field:"project_id",operator:"eq",value:e.project_id}))}),t.reload=function(){t.options.dataSource.transport.read.url=o.treeview_projects("Move"==t.action?"PhasesTable":"DepartmentsTable",r.getLoggedDomain()),t.departmentsGrid.dataSource.options=t.options,t.departmentsGrid.dataSource.read()},t.addRoom=function(){t.rooms[t.rooms.length-1].complete=!0,t.rooms.push({})},t.removeRoom=function(e){t.rooms.splice(e,1)},t.close=function(){n.cancel()},t.save=function(){var e,o;t.copyMoveRoom.$setSubmitted(),"Move"==t.action&&1<a.getSelecteds(t.departmentsGrid).length?d.error("Please select just one destination to move room to."):t.copyMoveRoom.$valid&&a.anySelected(t.departmentsGrid)?(i.blockScreen(),s.genericController.save({controller:"copyRoom",action:"Item",domain_id:r.getLoggedDomain(),project_id:c.params.project_id},(t.rooms[t.rooms.length-1].Item1||t.rooms[t.rooms.length-1].Item2||(t.rooms.length=t.rooms.length-1),(o={move:"Move"===t.action,to:a.getSelecteds(t.departmentsGrid),from_domain_id:r.getLoggedDomain(),from_project_id:c.params.project_id,from_phase_id:c.params.phase_id,from_department_id:c.params.department_id,from_room_id:c.params.room_id,to_room_number_name:t.rooms,copy_options_colors:t.copy_options_colors}).move&&0==o.to_room_number_name.length&&(e={item1:c.params.drawing_room_number,item2:c.params.drawing_room_name},o.to_room_number_name.push(e)),o),function(e){"Move"===t.action?d.success("Room moved"):d.success("Room copied"),i.unblockScreen(),n.hide(e)},function(e){i.unblockScreen(),d.error(e.data),n.cancel()})):a.anySelected(t.departmentsGrid)||(i.unblockScreen(),d.error("Please make sure you select a destination"))}}]);
xPlanner.controller("LevelBelowAddCtrl",["$scope","$mdDialog","WebApiService","toastr","local","AuthService","ProgressService",function(e,a,r,t,o,d,n){e.controllerParams=angular.extend(o.params,{controller:o.type+"s",domain_id:d.getLoggedDomain()}),e.data={domain_id:d.getLoggedDomain(),project_id:o.params.project_id,phase_id:o.params.phase_id,department_id:o.params.department_id},e.add=function(){e.addForm.$setSubmitted(),e.addForm.$valid?(n.blockScreen(),r.genericController.save({controller:o.type+"s",action:"Item",domain_id:d.getLoggedDomain(),project_id:o.params.project_id,phase_id:o.params.phase_id,department_id:o.params.department_id},e.data,function(e){n.unblockScreen(),t.success(o.type+" saved"),a.hide(e)},function(){n.unblockScreen(),t.error("Error to save "+o.type+", please contact the technincal support"),e.cancel()})):t.error("Make sure you enter all the required fields")},e.close=function(){a.cancel()}}]);
xPlanner.controller("LockProjectModalCtrl",["$scope","$mdDialog","local",function(c,o,e){c.data={locked_date:(new Date).toLocaleDateString(),locked_comment:e.data.locked_comment},c.lock=function(){o.hide(c.data)},c.cancel=function(){o.cancel()}}]);
xPlanner.controller("SaveAsTemplateCtrl",["$scope","$mdDialog","WebApiService","local","AuthService","toastr",function(e,t,a,o,r,l){o.params.domain_id=r.getLoggedDomain(),e.controllerParams=o.params,e.template={},e.save=function(){e.saveAsTemplateForm.$setSubmitted(),e.saveAsTemplateForm.$valid?(e.template.project_id_template=1==e.template.scope?null:o.params.project_id,e.template.description="object"==typeof e.template.saveAs?e.template.saveAs.description:e.template.saveAs,a.genericController.save(angular.extend(o.params,{controller:"templateRoom",action:"SaveRoom",domain_id:r.getLoggedDomain()}),e.template,function(e){l.success("Room saved as template"),t.hide()},function(e){409==e.status?l.error(e.data):l.error("Error to save template, please contact technical support"),t.cancel()})):l.error("Please make sure you enter all the required fields")},e.close=function(){t.cancel()}}]);
xPlanner.controller("SplitRoomCtrl",["$scope","StatusListProject","$mdDialog","AuthService","local","WebApiService","toastr","ProgressService",function(n,e,t,i,m,p,a,r){n.data={cp_project_id:m.params.project_id},n.params=m.params,n.room_count=[],n.departments=[];for(var o=1;o<m.params.room_quantity;o++)n.room_count.push(o),n.departments.push({});p.genericController.query({controller:"TemplateRoom",action:"All",domain_id:i.getLoggedDomain()},function(e){n.anotherTemplates=e.filter(function(e){return e.domain_id==i.getLoggedDomain()&&1==e.is_template}).map(function(e){return e.drawing_room_name})});n.getData=function(a,r,o){var e,t;p.genericController.query((t=r,{controller:e=a+"s",action:"All",domain_id:i.getLoggedDomain(),project_id:n.data.cp_project_id,phase_id:"departments"==e?t:null}),function(e){if("department"==a)if(0==o){r==m.params.phase_id&&(n.actual_departments=e);for(var t=1;t<m.params.room_quantity;t++)n.departments[t]=[],n.departments[t]=e}else n.departments[o]=e,n.data.cp_department_id[o]=null;else n[a+"s"]=e})},n.getData("phase",0,0),n.getData("department",m.params.phase_id,0),n.copy=function(){var e;n.copyFromForm.$setSubmitted(),r.blockScreen(),n.copyFromForm.$valid?p.split_rooms.save(((e={}).domain_id=i.getLoggedDomain(),e.project_id=n.params.project_id,e.phase_id=n.params.phase_id,e.department_id=n.params.department_id,e.room_id=n.params.room_id,e.is_linked_template=!!n.data.link_template,e.template_name=n.data.template_name,e),function(){for(var e=[],t=1;t<m.params.room_quantity;t++){var a={};a.project_id=n.params.project_id,a.phase_id=n.data.cp_phase_id[t],a.department_id=n.data.cp_department_id[t],a.room_name=n.data.room_name[t],a.room_number=n.data.room_number[t],e.push(a)}return e}(),function(e){r.unblockScreen(),a.success("The rooms were successfully splitted"),t.hide()},function(e){r.unblockScreen(),a.error("Error trying to split rooms, please contact the technical support"),t.cancel()}):(r.unblockScreen(),a.error("Please make sure you entered correctly all the fields"))},n.close=function(){t.cancel()}}]);
xPlanner.controller("AddDocAssociationCtrl",["$scope","$timeout","$mdStepper","local","$mdDialog","HttpService","AuthService","GridService","WebApiService","toastr","ProgressService",function(e,o,c,t,n,r,i,s,a,u,d){e.params=t.params,e.alreadAssociated=t.documents[0].project_room_inventory,e.document=angular.copy(t.documents[0]),e.save=function(){d.blockScreen(),angular.forEach(t.documents,function(o){o.project_room_inventory=e.associations.map(function(e){return e.linked_document=o.id,e}),a.genericController.update({controller:"ProjectDocuments",action:"Associations",domain_id:o.project_domain_id,project_id:o.project_id,phase_id:o.id},o,function(){d.unblockScreen(),u.success("Document associations successfully established."),n.hide()},function(e){d.unblockScreen(),u.error("Error to try establish the document associations, please contact the technical support.")})})},e.cancel=function(){n.cancel()}}]);
xPlanner.controller("AddDocumentCtrl",["$scope","$mdDialog","toastr","AuthService","HttpService","Upload","ProgressService","local",function(o,c,t,n,d,a,r,u){o.document={},o.add=function(){o.addDocumentForm.$setSubmitted();var e=o.document.doc.name.split("."),e=e[e.length-1];o.addDocumentForm.$valid&&(r.blockScreen(),a.upload({url:d.phase_documents("upload",n.getLoggedDomain(),u.params.project_id,u.params.phase_id,o.document.saveAs,e),data:{file:o.document.doc,filename:o.document.saveAs}}).then(function(){r.unblockScreen(),t.success("File Added"),c.hide(o.document)},function(e){r.unblockScreen(),t.error("Error to try add document, please contact technical support")}))},o.close=function(){c.cancel()}}]);
xPlanner.controller("AddProjectDocumentCtrl",["$scope","$mdDialog","toastr","AuthService","HttpService","Upload","ProgressService","local","WebApiService","DocumentStatusList",function(o,t,n,c,d,r,u,i,a,e){function l(e){t.hide(e)}o.document=angular.copy(i.document||{}),o.edit=i.edit,a.genericController.query({controller:"documentTypes",action:"All"},function(e){o.documentTypes=e,i.edit&&(o.document.document_types=e.find(function(e){return e.id===i.document.document_types.id}))}),o.statusList=angular.copy(e),o.upload=function(){var e;o.addDocumentForm.$setSubmitted(),o.document.doc&&(e=o.document.doc.name.split("."),o.document.file_extension=e[e.length-1]),o.addDocumentForm.$valid&&(o.document.doc&&"Shop Drawing"===o.document.document_types.name&&"application/pdf"!==o.document.doc.type?n.error("When selecting the type 'Shop Drawing' only pdf files are allowed."):(u.blockScreen(),a.genericController[i.edit?"update":"save"]({controller:"ProjectDocuments",action:"Item",domain_id:c.getLoggedDomain(),project_id:i.params.project_id},o.document,function(e){o.document.doc?r.upload({url:d.generic("ProjectDocuments","Upload",c.getLoggedDomain(),i.params.project_id,e.id,o.document.file_extension),data:{file:o.document.doc},headers:{Authorization:"Bearer "+c.getAccessToken()}}).then(function(e){u.unblockScreen(),n.success("File Uploaded"),l(o.document)},function(e){e=e&&e.data&&(e.data.exceptionMessage||e.data.errorMessage);u.unblockScreen(),n.error(e||"Error to try upload document, please contact technical support.")}):(i.edit?(u.unblockScreen(),n.success("Document successfully saved.")):(u.unblockScreen(),n.error("You need to select an document to upload.")),l(o.document))},function(){u.unblockScreen(),n.error("Error to try save document, please contact technical support")})))},o.fireFileUpload=function(){o.document.document_types?$("#file").trigger("click"):n.info("You need to select the document type to enable uploading document.")},o.cancel=function(){t.cancel()}}]);
xPlanner.controller("UploadRoomPictureCtrl",["$scope","$mdDialog","toastr","AuthService","WebApiService","ProgressService","local","UtilsService",function(i,e,n,o,t,l,r,s){i.files=[],i.filesF=[],i.show_firefox=-1!=navigator.userAgent.indexOf("Firefox"),i.show_firefox?i.filesF.push({id:"photoFx0"}):i.files.push({id:"photo0"}),i.fileSizeLimit=7;var f=[];function u(e){e=e.split(".");return{extension:e[e.length-1],name:e.slice(0,e.length-1).join()}}function c(e){return new Promise(function(o,i){let n=new FileReader;n.readAsDataURL(e),n.onload=function(){var e=n.result.indexOf("base64,");o(0<=e?n.result.substring(e+7):n.result)},n.onerror=function(e){i(e)}})}function a(){t.genericController.save(angular.extend({controller:"rooms",action:"pictures",domain_id:o.getLoggedDomain()},r.params),{pictures:f},function(){n.success("Pictures successfully uploaded"),l.unblockScreen(),e.hide()},function(e){console.error(e),n.error("Error to upload one or more pictures"),l.unblockScreen()})}i.upload=function(){var e,t,o,r;i.uploadForm.$setSubmitted(),i.uploadForm.$valid?!(e=i.show_firefox?i.filesF.filter(function(e,o){o=document.getElementById("photoFx"+o);return o&&o.files&&0<o.files.length}):i.files.filter(function(e){return e.picture}))||e.length<=0?(validated=!1,n.error("Choose at least one file to upload")):(l.blockScreen(),i.show_firefox?(r=(o=e).length-1,f=[],o.forEach(function(e,i){var n=document.getElementById("photoFx"+i).files;n&&0<n.length&&c(n[0]).then(function(e){var o=u(n[0].name);f.push({fileExtension:o.extension,fileName:o.name,base64File:e}),i===r&&a()})})):(t=(o=e).length-1,f=[],o.forEach(function(i,n){c(i.picture).then(function(e){var o=u(i.picture.name);f.push({fileExtension:o.extension,fileName:o.name,base64File:e}),n===t&&a()})}))):n.error("Please make sure no file exceeds the size limit")},i.cancel=function(){e.cancel()},i.addMore=function(){(i.show_firefox?s.GetEmptyFileFirefox(i.filesF):s.GetEmptyFileNoFirefox(i.files))?n.info("You must fill all the current pictures in order to add a new one"):i.show_firefox?i.filesF.push({id:"photoFx"+i.filesF.length}):i.files.push({id:"photo"+i.files.length})}}]);
xPlanner.controller("EditAssetGlobalCtrl",["$scope","local","HttpService","ProgressService","WebApiService","toastr","$mdDialog","AuthService",function(t,a,e,s,i,n,o,r){var l,c,u;t.multiple=a.multiple,a.multiple||(t.image=(l=a.assets[0].photo,c=a.assets[0].asset_domain_id,e.generic("filestream","file",c,l,"photo"))),a.multiple?(u=[],a.assets[0].asset_id,1==a.assets[0].consolidated_view?(1==a.assets.length&&(t.data=angular.copy(a.assets[0])),angular.forEach(a.assets,function(e){u=u.concat(e.inventory_id.split(","))})):u=a.assets.map(function(e){return e.inventory_id})):t.data=angular.copy(a.assets[0]),t.save=function(){var e;t.editAssetForm.$setSubmitted(),t.editAssetForm.$valid?(s.blockScreen(),i.asset_inventory.update(((e=angular.copy(a.params)).domain_id=r.getLoggedDomain(),e.action=a.multiple?"All":"EditSingle",e),a.multiple?{edited_data:t.data,inventories:u}:t.data,function(e){s.unblockScreen(),o.hide()},function(){s.unblockScreen(),n.error("Error to save asset(s), please contact technical support"),o.cancel()})):n.error("Please make sure you enter the quantity")},t.close=function(){o.cancel()}}]);
xPlanner.controller("ForgotPasswordCtrl",["$scope","$mdDialog","WebApiService","toastr","ProgressService",function(e,r,o,t,n){e.data=null,e.send=function(){e.forgotPasswordForm.$setSubmitted(),e.forgotPasswordForm.$valid?(n.blockScreen(),o.genericController.save({controller:"account",action:"forgotPassword"},{email:e.data},function(){n.unblockScreen(),t.success("An email have been sent to you with the instructions"),e.close()},function(e){n.unblockScreen(),404===e.status?t.error("Username not found int the system"):t.error("Error sending email, please try again. If the error persist, please contact the technical support.")})):t.error("Please make sure you entered all the required fields")},e.close=function(){r.cancel()}}]);
!function(t){var o={};function a(e){var r;return(o[e]||(r=o[e]={exports:{},id:e,loaded:!1},t[e].call(r.exports,r,r.exports,a),r.loaded=!0,r)).exports}a.m=t,a.c=o,a.p="",a(0)}([function(e,r,i){xPlanner.config(["$stateProvider","$urlRouterProvider","$mdIconProvider","$mdThemingProvider","OAuthProvider","OAuthTokenProvider","localStorageServiceProvider",function(e,r,t,o,a,n,s){s.setPrefix("xPlannerUI"),s.setStorageType("localStorage"),t.defaultIconSet("images/icons/svg/menu/menu.svg",24).icon("menu","images/icons/svg/menu/menu.svg",36).icon("expand","images/icons/svg/expand_more.svg",24).icon("more","images/icons/svg/add.svg",24).icon("close","images/icons/svg/close.svg",24).icon("delete","images/icons/svg/delete.svg",24).icon("save","images/icons/svg/save.svg",24).icon("save_black","images/icons/svg/save_black.svg",24).icon("logoff","images/icons/svg/logoff.svg",24).icon("move","images/icons/svg/swap.svg",24).icon("cancel","images/icons/svg/cancel.svg",24).icon("searched_black","images/icons/svg/searched_black.svg",24).icon("download","images/icons/svg/download.svg",24).icon("file","images/icons/svg/file.svg",24).icon("file_simple","images/icons/svg/file_simple.svg",24).icon("build_black","images/icons/svg/build_black.svg",24).icon("content_copy","images/icons/svg/content_copy.svg",24).icon("note_add","images/icons/svg/note_add.svg",24).icon("assignment","images/icons/svg/assignment.svg",24).icon("file_upload","images/icons/svg/file_upload.svg",24).icon("local_parking","images/icons/svg/local_parking.svg",24).icon("delete_forever","images/icons/svg/delete_forever.svg",24).icon("reply","images/icons/svg/reply.svg",24).icon("add_circle","images/icons/svg/add_circle.svg",24).icon("add_circle_outline","images/icons/svg/add_circle_outline.svg",24).icon("receive","images/icons/svg/receive.svg",24).icon("request","images/icons/svg/request.svg",24).icon("collapse_expand","images/icons/svg/collapse_expand.svg",24).icon("excel","images/icons/svg/excel.svg",24).icon("pdf","images/icons/svg/pdf.svg",24).icon("html","images/icons/svg/html.svg",24).icon("lock","images/icons/svg/lock.svg",24).icon("link","images/icons/svg/link.svg",24).icon("split","images/icons/svg/split.svg",24).icon("forward","images/icons/svg/forward.svg",24).icon("flag","images/icons/svg/flag.svg",24).icon("input_white","images/icons/svg/input_white.svg",24).icon("flip_to_front","images/icons/svg/flip_to_front.svg",24).icon("copy_from","images/icons/svg/copy_from.svg",24).icon("regenerate","images/icons/svg/regenerate.svg",24).icon("rotate_right","images/icons/svg/rotate_right.svg",24).icon("logout","images/icons/svg/menu/logout.svg",24).icon("home","images/icons/svg/menu/home.svg",24).icon("projects","images/icons/svg/menu/projects.svg",24).icon("assets","images/icons/svg/menu/assets.svg",24).icon("room_templates","images/icons/svg/menu/room_templates.svg",24).icon("department_types","images/icons/svg/menu/department_types.svg",24).icon("admin","images/icons/svg/menu/admin.svg",24).icon("contact_us","images/icons/svg/menu/contact_us.svg",24).icon("user_guide","images/icons/svg/menu/user_guide.svg",24).icon("themes","images/icons/svg/menu/themes.svg",24).icon("dashboard","images/icons/svg/menu/dashboard.svg",24).icon("user_management","images/icons/svg/face.svg",24).icon("enterprise","images/icons/svg/account_balance.svg",24).icon("file_upload_gray","images/icons/svg/file_upload_gray.svg",24),o.theme("default").primaryPalette("red").accentPalette("deep-orange"),o.theme("indigo").primaryPalette("indigo").accentPalette("deep-orange"),o.theme("green").primaryPalette("green").accentPalette("pink"),o.theme("cyan").primaryPalette("cyan").accentPalette("orange"),o.theme("grey").primaryPalette("grey").accentPalette("red"),o.theme("red").primaryPalette("red").accentPalette("deep-orange"),o.alwaysWatchTheme(!0),o.registerStyles(i(1)),r.when("","/projects"),r.when("/","/projects"),e.state("index",{url:"/projects",templateUrl:"app/Index/Index.html",controller:"IndexCtrl",resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.project_add",{url:"/add",templateUrl:"app/Projects/Details/Project.html",params:{serverController:"Projects",add:!0},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.project",{url:"/:project_id",templateUrl:"app/Projects/Details/Project.html",params:{serverController:"Projects",tab:"details"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.project_documents",{url:"/:project_id/documents",templateUrl:"app/Projects/Documents/ProjectDocumentsTab.html",controller:"ProjectDocumentsTabCtrl",params:{serverController:"Projects",tab:"documents"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.room_documents",{url:"/:project_id/phase/:phase_id/department/:department_id/room/:room_id/documents",templateUrl:"app/Projects/Documents/RoomDocumentsTab.html",controller:"RoomDocumentsTabCtrl",params:{serverController:"rooms",tab:"roomDocuments"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.project_assets",{url:"/:project_id/assets",templateUrl:"app/Projects/Assets/Main.html",controller:"AssetsMainCtrl",params:{serverController:"Projects",tab:"assets"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.project_pos",{url:"/:project_id/pos",templateUrl:"app/POs/PO.html",controller:"POCtrl",params:{serverController:"Projects",tab:"purchaseOrders"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.project_pos_details",{url:"/:project_id/pos/:po_id",templateUrl:"app/POs/PODetails.html",controller:"PODetailsCtrl",params:{serverController:"Projects",tab:"purchaseOrders"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.project_reports",{url:"/:project_id/reports",templateUrl:"app/Reports/ReportList.html",controller:"ReportListCtrl",params:{serverController:"Projects",tab:"reports"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.project_dashboard",{url:"/:project_id/dashboard",templateUrl:"app/Dashboard/Dashboard.html",controller:"DashboardCtrl",params:{serverController:"Projects",tab:"dashboard"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.project_connectivity",{url:"/:project_id/connectivity",templateUrl:"app/Projects/Connectivity/ConnectivityTab.html",controller:"ConnectivityTabCtrl",params:{serverController:"Projects",tab:"connectivity"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.phase_add",{url:"/:project_id/phase/add",templateUrl:"app/Projects/Details/Phase.html",params:{serverController:"Phases",add:!0},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.phase",{url:"/:project_id/phase/:phase_id",templateUrl:"app/Projects/Details/Phase.html",params:{serverController:"Phases",tab:"details"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.phase_dashboard",{url:"/:project_id/phase/:phase_id/dashboard",templateUrl:"app/Dashboard/Dashboard.html",controller:"DashboardCtrl",params:{serverController:"Phases",tab:"dashboard"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.phase_assets",{url:"/:project_id/phase/:phase_id/assets",templateUrl:"app/Projects/Assets/Main.html",controller:"AssetsMainCtrl",params:{serverController:"Phases",tab:"assets"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.phase_pos",{url:"/:project_id/phase/:phase_id/pos",templateUrl:"app/POs/PO.html",controller:"POCtrl",params:{serverController:"Phases",tab:"purchaseOrders"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.phase_pos_details",{url:"/:project_id/phase/:phase_id/pos/:po_id",templateUrl:"app/POs/PODetails.html",controller:"PODetailsCtrl",params:{serverController:"Phases",tab:"purchaseOrders"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.phase_reports",{url:"/:project_id/phase/:phase_id/reports",templateUrl:"app/Reports/ReportList.html",controller:"ReportListCtrl",params:{serverController:"Phases",tab:"reports"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.phase_connectivity",{url:"/:project_id/phase/:phase_id/connectivity",templateUrl:"app/Projects/Connectivity/ConnectivityTab.html",controller:"ConnectivityTabCtrl",params:{serverController:"Phases",tab:"connectivity"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.department_add",{url:"/:project_id/phase/:phase_id/department/add",templateUrl:"app/Projects/Details/Department.html",params:{serverController:"Departments",add:!0},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.department",{url:"/:project_id/phase/:phase_id/department/:department_id",templateUrl:"app/Projects/Details/Department.html",params:{serverController:"Departments",tab:"details"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.department_dashboard",{url:"/:project_id/phase/:phase_id/department/:department_id/dashboard",templateUrl:"app/Dashboard/Dashboard.html",controller:"DashboardCtrl",params:{serverController:"Departments",tab:"dashboard"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.department_assets",{url:"/:project_id/phase/:phase_id/department/:department_id/assets",templateUrl:"app/Projects/Assets/Main.html",controller:"AssetsMainCtrl",params:{serverController:"Departments",tab:"assets"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.department_pos",{url:"/:project_id/phase/:phase_id/department/:department_id/pos",templateUrl:"app/POs/PO.html",controller:"POCtrl",params:{serverController:"Departments",tab:"purchaseOrders"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.department_pos_details",{url:"/:project_id/phase/:phase_id/department/:department_id/pos/:po_id",templateUrl:"app/POs/PODetails.html",controller:"PODetailsCtrl",params:{serverController:"Departments",tab:"purchaseOrders"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.department_reports",{url:"/:project_id/phase/:phase_id/department/:department_id/reports",templateUrl:"app/Reports/ReportList.html",controller:"ReportListCtrl",params:{serverController:"Departments",tab:"reports"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.department_connectivity",{url:"/:project_id/phase/:phase_id/department/:department_id/connectivity",templateUrl:"app/Projects/Connectivity/ConnectivityTab.html",controller:"ConnectivityTabCtrl",params:{serverController:"Departments",tab:"connectivity"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.room_add",{url:"/:project_id/phase/:phase_id/department/:department_id/room/add",templateUrl:"app/Projects/Details/Room.html",params:{serverController:"Rooms",add:!0},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.room",{url:"/:project_id/phase/:phase_id/department/:department_id/room/:room_id",templateUrl:"app/Projects/Details/Room.html",params:{serverController:"Rooms",tab:"details"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.room_dashboard",{url:"/:project_id/phase/:phase_id/department/:department_id/room/:room_id/dashboard",templateUrl:"app/Dashboard/Dashboard.html",controller:"DashboardCtrl",params:{serverController:"Rooms",tab:"dashboard"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.room_assets",{url:"/:project_id/phase/:phase_id/department/:department_id/room/:room_id/assets",templateUrl:"app/Projects/Assets/Main.html",controller:"AssetsMainCtrl",params:{serverController:"Rooms",tab:"assets"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.room_pos",{url:"/:project_id/phase/:phase_id/department/:department_id/room/:room_id/pos",templateUrl:"app/POs/PO.html",controller:"POCtrl",params:{serverController:"Rooms",tab:"purchaseOrders"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.room_pos_details",{url:"/:project_id/phase/:phase_id/department/:department_id/room/:room_id/pos/:po_id",templateUrl:"app/POs/PODetails.html",controller:"PODetailsCtrl",params:{serverController:"Rooms",tab:"purchaseOrders"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.room_reports",{url:"/:project_id/phase/:phase_id/department/:department_id/room/:room_id/reports",templateUrl:"app/Reports/ReportList.html",controller:"ReportListCtrl",params:{serverController:"Rooms",tab:"reports"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("index.room_connectivity",{url:"/:project_id/phase/:phase_id/department/:department_id/room/:room_id/connectivity",templateUrl:"app/Projects/Connectivity/ConnectivityTab.html",controller:"ConnectivityTabCtrl",params:{serverController:"Rooms",tab:"connectivity"},resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("login",{url:"/login",templateUrl:"app/Security/Login/Login.html",controller:"LoginCtrl"}).state("reset_password",{url:"/resetPassword/:email/:token",templateUrl:"app/Security/Reset Password/ResetPassword.html",controller:"ResetPasswordCtrl"}).state("subscription",{url:"/subscription",templateUrl:"app/Subscription/Subscription.html",controller:"SubscriptionCtrl"}).state("notice",{url:"/notice",templateUrl:"app/Subscription/Notice.html",controller:""}).state("domains",{url:"/domains",templateUrl:"app/Domains/DomainsGrid.html",controller:"DomainsGridCtrl",resolve:{currentAuth:["RouteService",function(e){return e.isAdminUser()}]}}).state("users",{url:"/users",templateUrl:"app/Users/UsersList.html",controller:"UsersListCtrl",resolve:{currentAuth:["RouteService",function(e){return e.isAdminUser()}]}}).state("audit",{url:"/audit",templateUrl:"app/Audit/AuditedList.html",controller:"AuditedListCtrl",resolve:{currentAuth:["RouteService",function(e){return e.isAdminUser()}]}}).state("assetCode",{url:"/assetcodes",templateUrl:"app/AssetCodes/AssetCodeList.html",controller:"AssetCodeListCtrl",resolve:{currentAuth:["RouteService",function(e){return e.isAdminUser()}]}}).state("assetsWorkspace",{url:"/workspace",templateUrl:"app/Assets/Workspace.html",controller:"AssetsWorkspaceCtrl",params:{tab:"assets"},resolve:{currentAuth:["RouteService",function(e){return e.isAuthenticated()}]}}).state("assetsWorkspace.assets",{url:"/assets",templateUrl:"app/Assets/AssetsList.html",controller:"AssetsListCtrl",resolve:{currentAuth:["RouteService",function(e){return e.isAuthenticated()}]}}).state("assetsWorkspace.manufacturers",{url:"/manufacturers",templateUrl:"app/Manufacturer/ManufacturersList.html",controller:"ManufacturersListCtrl",resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("assetsWorkspace.vendors",{url:"/vendors",templateUrl:"app/Vendor/VendorsList.html",controller:"VendorsListCtrl",resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("assetsWorkspace.categories",{url:"/categories",templateUrl:"app/Category/CategoriesList.html",controller:"CategoriesListCtrl",resolve:{currentAuth:["RouteService",function(e){return e.isAuthenticated()}]}}).state("assetsWorkspace.bundles",{url:"/bundles",templateUrl:"app/Bundle/BundleList.html",controller:"BundleListCtrl",resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("assetsWorkspace.assetsDetails",{url:"/assets/{domain_id:int}/{asset_id:int}",templateUrl:"app/Assets/AssetDetails.html",controller:"AssetDetailsCtrl",resolve:{currentAuth:["RouteService",function(e){return e.isAuthenticated()}]}}).state("assetsWorkspace.manufacturersDetails",{url:"/manufacturers/{domain_id:int}/{manufacturer_id:int}",templateUrl:"app/Manufacturer/ManufacturerDetails.html",controller:"ManufacturerDetailsCtrl",resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("assetsWorkspace.vendorsDetails",{url:"/vendors/{domain_id:int}/{vendor_id:int}",templateUrl:"app/Vendor/VendorDetails.html",controller:"VendorDetailsCtrl",resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("assetsWorkspace.bundlesDetails",{url:"/bundles/{domain_id:int}/{bundle_id:int}",templateUrl:"app/Bundle/BundleDetails.html",controller:"BundleDetailsCtrl",resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("room-templates",{url:"/room-templates",templateUrl:"app/Room Templates/RoomTemplatesList.html",controller:"RoomTemplatesListCtrl",resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("room-templates-details",{url:"/room-templates/{domain_id:int}/{project_id:int}/{phase_id:int}/{department_id:int}/{room_id:int}",templateUrl:"app/Room Templates/RoomTemplateDetails.html",controller:"RoomTemplateDetailsCtrl",resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("dashboard",{url:"/dashboard",templateUrl:"app/Dashboard/Dashboard.html",controller:"DashboardCtrl",resolve:{currentAuth:["RouteService",function(e){return e.isNotManufaturerDomainType()}]}}).state("no-domain",{url:"/no-domain",templateUrl:"app/Security/Login/NoDomain.html"}),a.configure({baseUrl:"/xPlannerAPI",clientId:"AudaxWare",grantPath:"Token"}),n.configure({options:{secure:!1}})}])},function(e,r){e.exports="/* The changes makes in this file must always be replicated in the Themes.txt file */\r\n\r\n/***************************************************** ALL THEMES **********************************************************/\r\n\r\nmd-toolbar.breadcrumb.md-THEME_NAME-theme {\r\n    background-color: white;\r\n    color: rgba(0,0,0,.54);\r\n}\r\n\r\nmd-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar), md-toolbar:not(.md-menu-toolbar),\r\nmd-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) md-icon, md-toolbar:not(.md-menu-toolbar) md-icon {\r\n    color: rgba(255,255,255,0.87);\r\n}\r\n\r\n    md-toolbar.md-THEME_NAME-theme:not(.md-menu-toolbar) md-icon, md-toolbar:not(.md-menu-toolbar) md-icon {\r\n        fill: rgba(255,255,255,0.87);\r\n    }\r\n\r\n.md-THEME_NAME-theme h1.md-primary {\r\n    color: '{{primary-color}}';\r\n}\r\n\r\n.md-THEME_NAME-theme h3.md-accent {\r\n    color: '{{accent-color}}';\r\n}\r\n\r\n.md-THEME_NAME-theme md-menu-sidenav-title:hover h1, .md-THEME_NAME-theme md-menu-sidenav-title:hover md-icon, .md-THEME_NAME-theme md-menu-sidenav-subitem span:hover {\r\n    color: '{{accent-color}}';\r\n}\r\n\r\nmd-divider.md-DEFAULT_THEME-theme.section {\r\n    margin-top: 2em;\r\n    margin-bottom: 2em;\r\n    border-color: '{{primary-color}}';\r\n}\r\n\r\nmd-content.md-THEME_NAME-theme {\r\n    background-color: white;\r\n}\r\n\r\nmd-input-container.md-THEME_NAME-theme .md-input[disabled], md-input-container .md-input[disabled],\r\nmd-input-container.md-THEME_NAME-theme .md-input [disabled], md-input-container .md-input [disabled] {\r\n    border-bottom-color: rgba(0,0,0,0.12);\r\n    background-image: none;\r\n    color: rgba(0, 0, 0, 0.87);\r\n}\r\n\r\nmd-data-table-toolbar.explorer > md-icon.md-THEME_NAME-theme {\r\n    color: rgba(0, 0, 0, 0.71);\r\n}\r\n\r\nmd-toolbar > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]) {\r\n    color: rgba(0,0,0,0.54);\r\n}\r\n\r\nmd-toolbar.toolbar-tab > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-toolbar.toolbar-tab > md-tabs > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active, md-toolbar.toolbar-tab > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-toolbar.toolbar-tab > md-tabs > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-active md-icon, md-toolbar.toolbar-tab > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-toolbar.toolbar-tab > md-tabs > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused, md-toolbar.toolbar-tab > md-tabs.md-THEME_NAME-theme > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon, md-toolbar.toolbar-tab > md-tabs > md-tabs-wrapper > md-tabs-canvas > md-pagination-wrapper > md-tab-item:not([disabled]).md-focused md-icon {\r\n    color: '{{primary-color}}';\r\n}\r\n\r\n.md-THEME_NAME-theme .k-grouping-header {\r\n    background-color: '{{primary-color}}';\r\n}\r\n\r\n    .md-THEME_NAME-theme .k-grouping-header > .k-group-indicator {\r\n        background-color: '{{primary-hue-2}}';\r\n        border-color: '{{primary-hue-2}}';\r\n    }\r\n\r\n.md-THEME_NAME-theme .primary-color-header .k-grid-header, .md-THEME_NAME-theme .k-panelbar .primary-color-header .k-header:not(.k-grid-toolbar), .md-THEME_NAME-theme .primary-color-header .k-grid-header .k-header {\r\n    background-color: '{{primary-color}}';\r\n}\r\n\r\n    .md-THEME_NAME-theme .primary-color-header .k-grid-header .k-header .k-link.k-state-active, .md-THEME_NAME-theme .primary-color-header .k-grid-header .k-link.k-state-active, .md-THEME_NAME-theme .primary-color-header .k-grid-header .k-link.k-state-active:link,\r\n    .md-THEME_NAME-theme .primary-color-header .k-header-column-menu.k-state-active, .md-THEME_NAME-theme .primary-color-header .k-link.k-state-active, .md-THEME_NAME-theme .primary-color-header .k-grid-filter.k-state-active {\r\n        background-color: '{{primary-color}}';\r\n    }\r\n\r\n.md-THEME_NAME-theme .k-pager-numbers .k-state-selected {\r\n    border-color: '{{accent-color}}';\r\n}\r\n\r\n.md-THEME_NAME-theme .k-pager-numbers .k-state-selected {\r\n    color: '{{primary-color}}';\r\n}\r\n\r\n.md-THEME_NAME-theme .k-grid-header .k-header .k-link.k-state-active,\r\n.md-THEME_NAME-theme .k-grid-header .k-link.k-state-active,\r\n.md-THEME_NAME-theme .k-grid-header .k-link.k-state-active:link {\r\n    color: '{{accent-color}}';\r\n}\r\n\r\n.md-THEME_NAME-theme .primary-color-header .k-grid-header .k-header .k-link:not(.k-state-active),\r\n.md-THEME_NAME-theme .primary-color-header .k-grid-header .k-header .md-icon-button {\r\n    color: rgba(255, 255, 255, 0.81);\r\n}\r\n\r\n.md-THEME_NAME-theme .primary-color-header .k-grid-header .k-header .k-link.k-state-active,\r\n.md-THEME_NAME-theme .primary-color-header .k-grid-header .k-link.k-state-active,\r\n.md-THEME_NAME-theme .primary-color-header .k-grid-header .k-link.k-state-active:link {\r\n    color: '{{accent-hue-3-0.7}}';\r\n}\r\n\r\n.md-THEME_NAME-theme .md-stepper-indicator.md-active .md-stepper-number,\r\n.md-THEME_NAME-theme .md-stepper-indicator.md-completed .md-stepper-number {\r\n    background-color: '{{primary-300}}';\r\n}\r\n\r\n.md-THEME_NAME-theme .k-panelbar.k-header > .k-state-active > .k-link.k-header:not(k-state-hover) {\r\n    color: '{{primary-color}}';\r\n}\r\n\r\n.md-THEME_NAME-theme .k-header, .md-THEME_NAME-theme .k-toolbar, .md-THEME_NAME-theme .k-panelbar .k-grid-toolbar {\r\n    background-color: white;\r\n}\r\n\r\n.md-THEME_NAME-theme .k-splitbar.k-state-focused {\r\n    background-color: '{{primary-color}}';\r\n    border-color: '{{primary-color}}';\r\n}\r\n\r\n.md-button.md-THEME_NAME-theme:not([disabled]).md-focused.button-notification:hover,\r\n.md-button.md-THEME_NAME-theme:not([disabled]).button-notification:hover {\r\n    background-color: '{{primary-color}}';\r\n    color: white;\r\n}\r\n\r\n.md-button.md-THEME_NAME-theme:not([disabled]).md-focused.button-notification {\r\n    background-color: white;\r\n}\r\n\r\n.md-THEME_NAME-theme.notification-num {\r\n    background-color: '{{accent-color}}';\r\n}\r\n\r\n.top-nav-bar-buttons-group > button.md-icon-button > md-icon.md-THEME_NAME-theme.md-primary,\r\n.top-nav-bar-buttons-group > button.md-icon-button.md-THEME_NAME-theme.md-primary > *,\r\n.top-nav-bar-buttons-group > h1 > button.md-icon-button > md-icon.md-THEME_NAME-theme.md-primary,\r\n.top-nav-bar-buttons-group > h1 > button.md-icon-button.md-THEME_NAME-theme.md-primary > * {\r\n    color: '{{primary-color}}';\r\n}\r\n\r\n.md-button.md-THEME_NAME-theme:not([disabled]).button-notification:hover,\r\n.md-button:not([disabled]).button-notification:hover {\r\n    background-color: white;\r\n    color: black;\r\n}\r\n\r\nmd-icon.md-THEME_NAME-theme {\r\n    color: #444444;\r\n}\r\n\r\n.md-THEME_NAME-theme .k-checkbox:checked {\r\n    background-color: '{{accent-color}}';\r\n    border-color: '{{accent-color}}';\r\n    color: #ffffff;\r\n}\r\n\r\n.md-THEME_NAME-theme .k-checkbox::before {\r\n    content: \"\";\r\n}\r\n\r\n.md-button.md-THEME_NAME-theme.md-primary.select-all,\r\n.md-button.md-THEME_NAME-theme.md-primary.select-all:not([disabled]):hover {\r\n    padding-left: 5px;\r\n    padding-right: 5px;\r\n    background-color: rgb(230, 230, 230);\r\n    color: rgb(158,158,158);\r\n    margin-bottom: 15px;\r\n}\r\n\r\n.md-button.md-THEME_NAME-theme.md-primary.select-all:not([disabled]):hover {\r\n    cursor: pointer;\r\n}\r\n\r\n/*************************************************** DEFAULT THEME ********************************************************/\r\n\r\n/* specific code here */\r\n\r\n/*************************************************** GREEN THEME ********************************************************/\r\n\r\n/* specific code here */\r\n\r\n/*************************************************** CYAN THEME ********************************************************/\r\n\r\n/* specific code here */\r\n"}]);