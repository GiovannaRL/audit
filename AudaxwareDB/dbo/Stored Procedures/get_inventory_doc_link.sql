CREATE PROCEDURE [dbo].[get_inventory_doc_link]
	@domain_id SMALLINT,
    @project_id INTEGER,
	@document_id INTEGER
AS
	SELECT inventory_id,
consolidated_view,
phase_description,
department_description,
room_number,
room_name,
final_room_number,
final_room_name,
room_count,
resp,
type_resp,
project_id,
phase_id,
department_id,
room_id,
asset_id,
asset_domain_id,
asset_code,
cad_id,
asset_description,
manufacturer_description,
budget_qty,
dnp_qty,
lease_qty,
quote_number,
vendor,
po_requested_number,
po_qty,
asset_total_budget,
options_price,
total_budget_amt,
total_po_amt,
buyout_delta,
cut_sheet,
cad_block,
serial_number,
serial_name,
revit,
photo,
photo_domain_id,
tag_photo,
discontinued,
net_new,
cost_center,
cost_center_id,
po_status,
po_status_none, 
po_status_open,
po_status_issued,
po_status_requested,
po_status_qrequested,
po_status_qreceived,
current_location,
tag,
unit_budget,
estimated_delivery_date,
comment,
domain_id,
none_option,
medgas,
medgas_option,
medgas_oxygen,
medgas_air,
medgas_n2o,
medgas_co2,
medgas_wag,
medgas_other,
medgas_nitrogen,
medgas_vacuum,
medgas_steam,
medgas_natgas,
gas_liquid_co2,
gas_liquid_nitrogen,
gas_instrument_air,
gas_liquid_propane_gas,
gas_methane,
gas_butane,
gas_propane,
gas_hydrogen,
gas_acetylene,
medgas_high_pressure,
misc_shielding_magnetic,
misc_antimicrobial,
misc_ecolabel,
misc_ecolabel_desc,
misc_shielding_lead_line,
plumbing,
plumbing_option,
plu_hot_water,
plu_cold_water,
plu_drain,
plu_return,
plu_treated_water,
plu_chilled_water,
plu_relief,
water,
water_option,
cfm,
btus,
electrical,
electrical_option,
volts,
phases,
hertz,
amps,
volt_amps,
watts,
connection_type,
connection_type_ow,
plug_type,
plug_type_ow,
blocking,
blocking_option,
supports,
supports_option,
misc_seismic,
misc_ase,
misc_ada,
mobile,
mobile_option,
height,
height_ow,
width,
width_ow,
depth,
depth_ow,
mounting_height,
mounting_height_ow,
clearance_top,
clearance_bottom,
clearance_right,
clearance_left,
clearance_front,
clearance_back,
weight,
loaded_weight,
ship_weight,
option_ids,
lead_time,
data_desc,
data_option,
option_codes,
option_descriptions,
total_assets_options,
linked_template,
asset_profile,
profile_text,
profile_budget,
detailed_budget,
total_unit_budget,
linked_document,
pdoc_blob_filename,
pdoc_filename,
has_shop_drawing,
profile_tooltip,
po_number,
class,
class_ow,
clin,
jsn_code,
jsn_description,
jsn_comments,
jsn_nomenclature,
jsn_utility1,
jsn_utility2,
jsn_utility3,
jsn_utility4,
jsn_utility5,
jsn_utility6,
blueprint,
room_area,
room_code,
staff,
functional_area,
source_location,
target_location,
source_room,
target_room,
unit_markup,
unit_escalation,
unit_freight_net,
unit_freight_markup,
unit_install_net,
unit_install_markup,
unit_tax,
departments_qty,
phases_qty,
quantity,
rooms_qty,
unit_markup_calc,
unit_escalation_calc,
unit_budget_adjusted,
unit_tax_calc,
unit_install,
unit_freight,
unit_budget_total,
total_install_net,
total_budget_adjusted,
total_tax,
total_install,
total_freight_net,
total_freight,
total_budget,
ECN,
placement,
placement_ow,
biomed_check_required,
asset_description_ow,
temporary_location,
jsn_ow,
manufacturer_description_ow,
serial_number_ow,
serial_name_ow,
final_disposition,
delivered_date,
received_date,
lan,
lan_ow,
network_type,
network_type_ow
 FROM asset_inventory ai
	WHERE domain_id = @domain_id AND project_id = @project_id AND (linked_document IS NULL OR linked_document = @document_id);